$slideshow = {
	context : false,
	tabs : false,
	timeout : 5000,
	slideSpeed : 1500,
	tabSpeed : 300,
	fx : "scrollLeft",
	init : function() {
		this.context = $("#uiv2-slideshow");
		this.tabs = $("ul.uiv2-slides-nav li", this.context);
		this.tabs.remove();
		this.prepareSlideshow()
	},
	prepareSlideshow : function() {
		$("div.uiv2-slides > ul", $slideshow.context).cycle({
			fx : $slideshow.fx,
			timeout : $slideshow.timeout,
			speed : $slideshow.slideSpeed,
			fastOnEvent : $slideshow.tabSpeed,
			pager : $("ul.uiv2-slides-nav", $slideshow.context),
			pagerAnchorBuilder : $slideshow.prepareTabs,
			before : $slideshow.activateTab,
			pauseOnPagerHover : true,
			pause : true
		})
	},
	prepareTabs : function(b, a) {
		return $slideshow.tabs.eq(b)
	},
	activateTab : function(c, b) {
		var a = $('a[href="#' + b.id + '"]', $slideshow.context);
		if (a.length) {
			$slideshow.tabs.removeClass("on");
			a.parent().addClass("on")
		}
	}
};
$(function() {
	$slideshow.init()
});
/* ! http://mths.be/placeholder v2.0.7 by @mathias */
(function(h, k, e) {
	var a = "placeholder" in k.createElement("input");
	var f = "placeholder" in k.createElement("textarea");
	var l = e.fn;
	var d = e.valHooks;
	var b = e.propHooks;
	var n;
	var m;
	if (a && f) {
		m = l.placeholder = function() {
			return this
		};
		m.input = m.textarea = true
	} else {
		m = l.placeholder = function() {
			var p = this;
			p.filter((a ? "textarea" : ":input") + "[placeholder]").not(
					".placeholder").bind({
				"focus.placeholder" : c,
				"blur.placeholder" : g
			}).data("placeholder-enabled", true).trigger("blur.placeholder");
			return p
		};
		m.input = a;
		m.textarea = f;
		n = {
			get : function(q) {
				var p = e(q);
				var r = p.data("placeholder-password");
				if (r) {
					return r[0].value
				}
				return p.data("placeholder-enabled")
						&& p.hasClass("placeholder") ? "" : q.value
			},
			set : function(q, s) {
				var p = e(q);
				var r = p.data("placeholder-password");
				if (r) {
					return r[0].value = s
				}
				if (!p.data("placeholder-enabled")) {
					return q.value = s
				}
				if (s == "") {
					q.value = s;
					if (q != o()) {
						g.call(q)
					}
				} else {
					if (p.hasClass("placeholder")) {
						c.call(q, true, s) || (q.value = s)
					} else {
						q.value = s
					}
				}
				return p
			}
		};
		if (!a) {
			d.input = n;
			b.value = n
		}
		if (!f) {
			d.textarea = n;
			b.value = n
		}
		e(function() {
			e(k).delegate("form", "submit.placeholder", function() {
				var p = e(".placeholder", this).each(c);
				setTimeout(function() {
					p.each(g)
				}, 10)
			})
		});
		e(h).bind("beforeunload.placeholder", function() {
			e(".placeholder").each(function() {
				this.value = ""
			})
		})
	}
	function j(q) {
		var p = {};
		var r = /^jQuery\d+$/;
		e.each(q.attributes, function(t, s) {
			if (s.specified && !r.test(s.name)) {
				p[s.name] = s.value
			}
		});
		return p
	}
	function c(q, r) {
		var p = this;
		var s = e(p);
		if (p.value == s.attr("placeholder") && s.hasClass("placeholder")) {
			if (s.data("placeholder-password")) {
				s = s.hide().next().show().attr("id",
						s.removeAttr("id").data("placeholder-id"));
				if (q === true) {
					return s[0].value = r
				}
				s.focus()
			} else {
				p.value = "";
				s.removeClass("placeholder");
				p == o() && p.select()
			}
		}
	}
	function g() {
		var t;
		var p = this;
		var s = e(p);
		var r = this.id;
		if (p.value == "") {
			if (p.type == "password") {
				if (!s.data("placeholder-textinput")) {
					try {
						t = s.clone().attr({
							type : "text"
						})
					} catch (q) {
						t = e("<input>").attr(e.extend(j(this), {
							type : "text"
						}))
					}
					t.removeAttr("name").data({
						"placeholder-password" : s,
						"placeholder-id" : r
					}).bind("focus.placeholder", c);
					s.data({
						"placeholder-textinput" : t,
						"placeholder-id" : r
					}).before(t)
				}
				s = s.removeAttr("id").hide().prev().attr("id", r).show()
			}
			s.addClass("placeholder");
			s[0].value = s.attr("placeholder")
		} else {
			s.removeClass("placeholder")
		}
	}
	function o() {
		try {
			return k.activeElement
		} catch (p) {
		}
	}
}(this, document, jQuery));
(function(d) {
	d.tiny = d.tiny || {};
	d.tiny.scrollbar = {
		options : {
			axis : "y",
			wheel : 40,
			scroll : true,
			lockscroll : true,
			size : "auto",
			sizethumb : "auto",
			invertscroll : false
		}
	};
	d.fn.tinyscrollbar = function(a) {
		var b = d.extend({}, d.tiny.scrollbar.options, a);
		this.each(function() {
			d(this).data("tsb", new c(d(this), b))
		});
		return this
	};
	d.fn.tinyscrollbar_update = function(a) {
		return d(this).data("tsb").update(a)
	};
	function c(F, P) {
		var L = this, C = F, M = {
			obj : d(".viewport", F)
		}, O = {
			obj : d(".overview", F)
		}, S = {
			obj : d(".scrollbar", F)
		}, J = {
			obj : d(".track", S.obj)
		}, G = {
			obj : d(".thumb", S.obj)
		}, K = P.axis === "x", I = K ? "left" : "top", A = K ? "Width"
				: "Height", E = 0, a = {
			start : 0,
			now : 0
		}, H = {}, R = "ontouchstart" in document.documentElement;
		function T() {
			L.update();
			D();
			return L
		}
		this.update = function(e) {
			M[P.axis] = M.obj[0]["offset" + A];
			O[P.axis] = O.obj[0]["scroll" + A];
			O.ratio = M[P.axis] / O[P.axis];
			S.obj.toggleClass("disable", O.ratio >= 1);
			J[P.axis] = P.size === "auto" ? M[P.axis] : P.size;
			G[P.axis] = Math.min(J[P.axis], Math.max(0,
					(P.sizethumb === "auto" ? (J[P.axis] * O.ratio)
							: P.sizethumb)));
			S.ratio = P.sizethumb === "auto" ? (O[P.axis] / J[P.axis])
					: (O[P.axis] - M[P.axis]) / (J[P.axis] - G[P.axis]);
			E = (e === "relative" && O.ratio <= 1) ? Math.min(
					(O[P.axis] - M[P.axis]), Math.max(0, E)) : 0;
			E = (e === "bottom" && O.ratio <= 1) ? (O[P.axis] - M[P.axis])
					: isNaN(parseInt(e, 10)) ? E : parseInt(e, 10);
			z()
		};
		function z() {
			var e = A.toLowerCase();
			G.obj.css(I, E / S.ratio);
			O.obj.css(I, -E);
			H.start = G.obj.offset()[I];
			S.obj.css(e, J[P.axis]);
			J.obj.css(e, J[P.axis]);
			G.obj.css(e, G[P.axis])
		}
		function D() {
			if (!R) {
				G.obj.bind("mousedown", N);
				J.obj.bind("mouseup", B)
			} else {
				M.obj[0].ontouchstart = function(e) {
					if (1 === e.touches.length) {
						N(e.touches[0]);
						e.stopPropagation()
					}
				}
			}
			if (P.scroll && window.addEventListener) {
				C[0].addEventListener("DOMMouseScroll", b, false);
				C[0].addEventListener("mousewheel", b, false)
			} else {
				if (P.scroll) {
					C[0].onmousewheel = b
				}
			}
		}
		function N(e) {
			d("body").addClass("noSelect");
			var f = parseInt(G.obj.css(I), 10);
			H.start = K ? e.pageX : e.pageY;
			a.start = f == "auto" ? 0 : f;
			if (!R) {
				d(document).bind("mousemove", B);
				d(document).bind("mouseup", Q);
				G.obj.bind("mouseup", Q)
			} else {
				document.ontouchmove = function(g) {
					g.preventDefault();
					B(g.touches[0])
				};
				document.ontouchend = Q
			}
		}
		function b(g) {
			if (O.ratio < 1) {
				var e = g || window.event, f = e.wheelDelta ? e.wheelDelta / 120
						: -e.detail / 3;
				E -= f * P.wheel;
				E = Math.min((O[P.axis] - M[P.axis]), Math.max(0, E));
				G.obj.css(I, E / S.ratio);
				O.obj.css(I, -E);
				if (P.lockscroll || (E !== (O[P.axis] - M[P.axis]) && E !== 0)) {
					e = d.event.fix(e);
					e.preventDefault()
				}
			}
		}
		function B(e) {
			if (O.ratio < 1) {
				if (P.invertscroll && R) {
					a.now = Math.min((J[P.axis] - G[P.axis]), Math.max(0,
							(a.start + (H.start - (K ? e.pageX : e.pageY)))))
				} else {
					a.now = Math.min((J[P.axis] - G[P.axis]), Math.max(0,
							(a.start + ((K ? e.pageX : e.pageY) - H.start))))
				}
				E = a.now * S.ratio;
				O.obj.css(I, -E);
				G.obj.css(I, a.now)
			}
		}
		function Q() {
			d("body").removeClass("noSelect");
			d(document).unbind("mousemove", B);
			d(document).unbind("mouseup", Q);
			G.obj.unbind("mouseup", Q);
			document.ontouchmove = document.ontouchend = null
		}
		return T()
	}
}(jQuery));
/*
 * !
 * 
 * handlebars v1.1.2
 * 
 * Copyright (C) 2011 by Yehuda Katz
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
 * @license
 */
var Handlebars = (function() {
	var a = (function() {
		var n;
		function o(p) {
			this.string = p
		}
		o.prototype.toString = function() {
			return "" + this.string
		};
		n = o;
		return n
	})();
	var l = (function(w) {
		var x = {};
		var q = w;
		var y = {
			"&" : "&amp;",
			"<" : "&lt;",
			">" : "&gt;",
			'"' : "&quot;",
			"'" : "&#x27;",
			"`" : "&#x60;"
		};
		var n = /[&<>"'`]/g;
		var r = /[&<>"'`]/;
		function z(A) {
			return y[A] || "&amp;"
		}
		function v(C, B) {
			for ( var A in B) {
				if (B.hasOwnProperty(A)) {
					C[A] = B[A]
				}
			}
		}
		x.extend = v;
		var p = Object.prototype.toString;
		x.toString = p;
		var o = function(A) {
			return typeof A === "function"
		};
		if (o(/x/)) {
			o = function(A) {
				return typeof A === "function"
						&& p.call(A) === "[object Function]"
			}
		}
		var o;
		x.isFunction = o;
		var u = Array.isArray
				|| function(A) {
					return (A && typeof A === "object") ? p.call(A) === "[object Array]"
							: false
				};
		x.isArray = u;
		function t(A) {
			if (A instanceof q) {
				return A.toString()
			} else {
				if (!A && A !== 0) {
					return ""
				}
			}
			A = "" + A;
			if (!r.test(A)) {
				return A
			}
			return A.replace(n, z)
		}
		x.escapeExpression = t;
		function s(A) {
			if (!A && A !== 0) {
				return true
			} else {
				if (u(A) && A.length === 0) {
					return true
				} else {
					return false
				}
			}
		}
		x.isEmpty = s;
		return x
	})(a);
	var d = (function() {
		var o;
		var p = [ "description", "fileName", "lineNumber", "message", "name",
				"number", "stack" ];
		function n() {
			var r = Error.prototype.constructor.apply(this, arguments);
			for (var q = 0; q < p.length; q++) {
				this[p[q]] = r[p[q]]
			}
		}
		n.prototype = new Error();
		o = n;
		return o
	})();
	var j = (function(y, B) {
		var A = {};
		var w = y;
		var u = B;
		var D = "1.1.2";
		A.VERSION = D;
		var o = 4;
		A.COMPILER_REVISION = o;
		var r = {
			1 : "<= 1.0.rc.2",
			2 : "== 1.0.0-rc.3",
			3 : "== 1.0.0-rc.4",
			4 : ">= 1.0.0"
		};
		A.REVISION_CHANGES = r;
		var v = w.isArray, q = w.isFunction, p = w.toString, n = "[object Object]";
		function t(F, E) {
			this.helpers = F || {};
			this.partials = E || {};
			x(this)
		}
		A.HandlebarsEnvironment = t;
		t.prototype = {
			constructor : t,
			logger : z,
			log : s,
			registerHelper : function(F, G, E) {
				if (p.call(F) === n) {
					if (E || G) {
						throw new u("Arg not supported with multiple helpers")
					}
					w.extend(this.helpers, F)
				} else {
					if (E) {
						G.not = E
					}
					this.helpers[F] = G
				}
			},
			registerPartial : function(E, F) {
				if (p.call(E) === n) {
					w.extend(this.partials, E)
				} else {
					this.partials[E] = F
				}
			}
		};
		function x(E) {
			E.registerHelper("helperMissing", function(F) {
				if (arguments.length === 2) {
					return undefined
				} else {
					throw new Error("Missing helper: '" + F + "'")
				}
			});
			E.registerHelper("blockHelperMissing", function(H, G) {
				var F = G.inverse || function() {
				}, I = G.fn;
				if (q(H)) {
					H = H.call(this)
				}
				if (H === true) {
					return I(this)
				} else {
					if (H === false || H == null) {
						return F(this)
					} else {
						if (v(H)) {
							if (H.length > 0) {
								return E.helpers.each(H, G)
							} else {
								return F(this)
							}
						} else {
							return I(H)
						}
					}
				}
			});
			E.registerHelper("each", function(F, N) {
				var L = N.fn, H = N.inverse;
				var J = 0, K = "", I;
				if (q(F)) {
					F = F.call(this)
				}
				if (N.data) {
					I = C(N.data)
				}
				if (F && typeof F === "object") {
					if (v(F)) {
						for (var G = F.length; J < G; J++) {
							if (I) {
								I.index = J;
								I.first = (J === 0);
								I.last = (J === (F.length - 1))
							}
							K = K + L(F[J], {
								data : I
							})
						}
					} else {
						for ( var M in F) {
							if (F.hasOwnProperty(M)) {
								if (I) {
									I.key = M
								}
								K = K + L(F[M], {
									data : I
								});
								J++
							}
						}
					}
				}
				if (J === 0) {
					K = H(this)
				}
				return K
			});
			E.registerHelper("if", function(G, F) {
				if (q(G)) {
					G = G.call(this)
				}
				if ((!F.hash.includeZero && !G) || w.isEmpty(G)) {
					return F.inverse(this)
				} else {
					return F.fn(this)
				}
			});
			E.registerHelper("unless", function(G, F) {
				return E.helpers["if"].call(this, G, {
					fn : F.inverse,
					inverse : F.fn,
					hash : F.hash
				})
			});
			E.registerHelper("with", function(G, F) {
				if (q(G)) {
					G = G.call(this)
				}
				if (!w.isEmpty(G)) {
					return F.fn(G)
				}
			});
			E.registerHelper("log", function(G, F) {
				var H = F.data && F.data.level != null ? parseInt(F.data.level,
						10) : 1;
				E.log(H, G)
			})
		}
		var z = {
			methodMap : {
				0 : "debug",
				1 : "info",
				2 : "warn",
				3 : "error"
			},
			DEBUG : 0,
			INFO : 1,
			WARN : 2,
			ERROR : 3,
			level : 3,
			log : function(G, E) {
				if (z.level <= G) {
					var F = z.methodMap[G];
					if (typeof console !== "undefined" && console[F]) {
						console[F].call(console, E)
					}
				}
			}
		};
		A.logger = z;
		function s(F, E) {
			z.log(F, E)
		}
		A.log = s;
		var C = function(E) {
			var F = {};
			w.extend(F, E);
			return F
		};
		A.createFrame = C;
		return A
	})(l, d);
	var g = (function(w, A, q) {
		var y = {};
		var v = w;
		var t = A;
		var p = q.COMPILER_REVISION;
		var s = q.REVISION_CHANGES;
		function o(D) {
			var C = D && D[0] || 1, F = p;
			if (C !== F) {
				if (C < F) {
					var B = s[F], E = s[C];
					throw new Error(
							"Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("
									+ B
									+ ") or downgrade your runtime to an older version ("
									+ E + ").")
				} else {
					throw new Error(
							"Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("
									+ D[1] + ").")
				}
			}
		}
		function x(B, E) {
			if (!E) {
				throw new Error("No environment passed to template")
			}
			var D;
			if (E.compile) {
				D = function(G, I, K, L, J, M) {
					var F = n.apply(this, arguments);
					if (F) {
						return F
					}
					var H = {
						helpers : L,
						partials : J,
						data : M
					};
					J[I] = E.compile(G, {
						data : M !== undefined
					}, E);
					return J[I](K, H)
				}
			} else {
				D = function(G, H) {
					var F = n.apply(this, arguments);
					if (F) {
						return F
					}
					throw new t(
							"The partial "
									+ H
									+ " could not be compiled when running in runtime-only mode")
				}
			}
			var C = {
				escapeExpression : v.escapeExpression,
				invokePartial : D,
				programs : [],
				program : function(G, H, I) {
					var F = this.programs[G];
					if (I) {
						F = u(G, H, I)
					} else {
						if (!F) {
							F = this.programs[G] = u(G, H)
						}
					}
					return F
				},
				merge : function(H, G) {
					var F = H || G;
					if (H && G && (H !== G)) {
						F = {};
						v.extend(F, G);
						v.extend(F, H)
					}
					return F
				},
				programWithDepth : r,
				noop : z,
				compilerInfo : null
			};
			return function(I, G) {
				G = G || {};
				var J = G.partial ? G : E, K, H;
				if (!G.partial) {
					K = G.helpers;
					H = G.partials
				}
				var F = B.call(C, J, I, K, H, G.data);
				if (!G.partial) {
					o(C.compilerInfo)
				}
				return F
			}
		}
		y.template = x;
		function r(C, D, E) {
			var B = Array.prototype.slice.call(arguments, 3);
			var F = function(H, G) {
				G = G || {};
				return D.apply(this, [ H, G.data || E ].concat(B))
			};
			F.program = C;
			F.depth = B.length;
			return F
		}
		y.programWithDepth = r;
		function u(B, C, D) {
			var E = function(G, F) {
				F = F || {};
				return C(G, F.data || D)
			};
			E.program = B;
			E.depth = 0;
			return E
		}
		y.program = u;
		function n(B, D, F, G, E, H) {
			var C = {
				partial : true,
				helpers : G,
				partials : E,
				data : H
			};
			if (B === undefined) {
				throw new t("The partial " + D + " could not be found")
			} else {
				if (B instanceof Function) {
					return B(F, C)
				}
			}
		}
		y.invokePartial = n;
		function z() {
			return ""
		}
		y.noop = z;
		return y
	})(l, d, j);
	var f = (function(x, z, p, t, w) {
		var y;
		var n = x;
		var q = z;
		var s = p;
		var v = t;
		var r = w;
		var u = function() {
			var A = new n.HandlebarsEnvironment();
			v.extend(A, n);
			A.SafeString = q;
			A.Exception = s;
			A.Utils = v;
			A.VM = r;
			A.template = function(B) {
				return r.template(B, A)
			};
			return A
		};
		var o = u();
		o.create = u;
		y = o;
		return y
	})(j, a, d, l, g);
	var k = (function(y) {
		var B = {};
		var s = y;
		function p(E, F, D) {
			this.type = "program";
			this.statements = E;
			this.strip = {};
			if (D) {
				this.inverse = new p(D, F);
				this.strip.right = F.left
			} else {
				if (F) {
					this.strip.left = F.right
				}
			}
		}
		B.ProgramNode = p;
		function C(K, H, D, F) {
			this.type = "mustache";
			this.hash = H;
			this.strip = F;
			var G = D[3] || D[2];
			this.escaped = G !== "{" && G !== "&";
			var J = this.id = K[0];
			var I = this.params = K.slice(1);
			var E = this.eligibleHelper = J.isSimple;
			this.isHelper = E && (I.length || H)
		}
		B.MustacheNode = C;
		function u(D, E, F) {
			this.type = "partial";
			this.partialName = D;
			this.context = E;
			this.strip = F
		}
		B.PartialNode = u;
		function o(F, E, D, G) {
			if (F.id.original !== G.path.original) {
				throw new s(F.id.original + " doesn't match " + G.path.original)
			}
			this.type = "block";
			this.mustache = F;
			this.program = E;
			this.inverse = D;
			this.strip = {
				left : F.strip.left,
				right : G.strip.right
			};
			(E || D).strip.left = F.strip.right;
			(D || E).strip.right = G.strip.left;
			if (D && !E) {
				this.isInverse = true
			}
		}
		B.BlockNode = o;
		function A(D) {
			this.type = "content";
			this.string = D
		}
		B.ContentNode = A;
		function x(D) {
			this.type = "hash";
			this.pairs = D
		}
		B.HashNode = x;
		function r(I) {
			this.type = "ID";
			var H = "", F = [], J = 0;
			for (var G = 0, D = I.length; G < D; G++) {
				var E = I[G].part;
				H += (I[G].separator || "") + E;
				if (E === ".." || E === "." || E === "this") {
					if (F.length > 0) {
						throw new s("Invalid path: " + H)
					} else {
						if (E === "..") {
							J++
						} else {
							this.isScoped = true
						}
					}
				} else {
					F.push(E)
				}
			}
			this.original = H;
			this.parts = F;
			this.string = F.join(".");
			this.depth = J;
			this.isSimple = I.length === 1 && !this.isScoped && J === 0;
			this.stringModeValue = this.string
		}
		B.IdNode = r;
		function v(D) {
			this.type = "PARTIAL_NAME";
			this.name = D.original
		}
		B.PartialNameNode = v;
		function n(D) {
			this.type = "DATA";
			this.id = D
		}
		B.DataNode = n;
		function q(D) {
			this.type = "STRING";
			this.original = this.string = this.stringModeValue = D
		}
		B.StringNode = q;
		function z(D) {
			this.type = "INTEGER";
			this.original = this.integer = D;
			this.stringModeValue = Number(D)
		}
		B.IntegerNode = z;
		function t(D) {
			this.type = "BOOLEAN";
			this.bool = D;
			this.stringModeValue = D === "true"
		}
		B.BooleanNode = t;
		function w(D) {
			this.type = "comment";
			this.comment = D
		}
		B.CommentNode = w;
		return B
	})(d);
	var b = (function() {
		var o;
		var n = (function() {
			var w = {
				trace : function s() {
				},
				yy : {},
				symbols_ : {
					error : 2,
					root : 3,
					statements : 4,
					EOF : 5,
					program : 6,
					simpleInverse : 7,
					statement : 8,
					openInverse : 9,
					closeBlock : 10,
					openBlock : 11,
					mustache : 12,
					partial : 13,
					CONTENT : 14,
					COMMENT : 15,
					OPEN_BLOCK : 16,
					inMustache : 17,
					CLOSE : 18,
					OPEN_INVERSE : 19,
					OPEN_ENDBLOCK : 20,
					path : 21,
					OPEN : 22,
					OPEN_UNESCAPED : 23,
					CLOSE_UNESCAPED : 24,
					OPEN_PARTIAL : 25,
					partialName : 26,
					partial_option0 : 27,
					inMustache_repetition0 : 28,
					inMustache_option0 : 29,
					dataName : 30,
					param : 31,
					STRING : 32,
					INTEGER : 33,
					BOOLEAN : 34,
					hash : 35,
					hash_repetition_plus0 : 36,
					hashSegment : 37,
					ID : 38,
					EQUALS : 39,
					DATA : 40,
					pathSegments : 41,
					SEP : 42,
					"$accept" : 0,
					"$end" : 1
				},
				terminals_ : {
					2 : "error",
					5 : "EOF",
					14 : "CONTENT",
					15 : "COMMENT",
					16 : "OPEN_BLOCK",
					18 : "CLOSE",
					19 : "OPEN_INVERSE",
					20 : "OPEN_ENDBLOCK",
					22 : "OPEN",
					23 : "OPEN_UNESCAPED",
					24 : "CLOSE_UNESCAPED",
					25 : "OPEN_PARTIAL",
					32 : "STRING",
					33 : "INTEGER",
					34 : "BOOLEAN",
					38 : "ID",
					39 : "EQUALS",
					40 : "DATA",
					42 : "SEP"
				},
				productions_ : [ 0, [ 3, 2 ], [ 3, 1 ], [ 6, 2 ], [ 6, 3 ],
						[ 6, 2 ], [ 6, 1 ], [ 6, 1 ], [ 6, 0 ], [ 4, 1 ],
						[ 4, 2 ], [ 8, 3 ], [ 8, 3 ], [ 8, 1 ], [ 8, 1 ],
						[ 8, 1 ], [ 8, 1 ], [ 11, 3 ], [ 9, 3 ], [ 10, 3 ],
						[ 12, 3 ], [ 12, 3 ], [ 13, 4 ], [ 7, 2 ], [ 17, 3 ],
						[ 17, 1 ], [ 31, 1 ], [ 31, 1 ], [ 31, 1 ], [ 31, 1 ],
						[ 31, 1 ], [ 35, 1 ], [ 37, 3 ], [ 26, 1 ], [ 26, 1 ],
						[ 26, 1 ], [ 30, 2 ], [ 21, 1 ], [ 41, 3 ], [ 41, 1 ],
						[ 27, 0 ], [ 27, 1 ], [ 28, 0 ], [ 28, 2 ], [ 29, 0 ],
						[ 29, 1 ], [ 36, 1 ], [ 36, 2 ] ],
				performAction : function r(x, A, B, E, D, z, C) {
					var y = z.length - 1;
					switch (D) {
					case 1:
						return new E.ProgramNode(z[y - 1]);
						break;
					case 2:
						return new E.ProgramNode([]);
						break;
					case 3:
						this.$ = new E.ProgramNode([], z[y - 1], z[y]);
						break;
					case 4:
						this.$ = new E.ProgramNode(z[y - 2], z[y - 1], z[y]);
						break;
					case 5:
						this.$ = new E.ProgramNode(z[y - 1], z[y], []);
						break;
					case 6:
						this.$ = new E.ProgramNode(z[y]);
						break;
					case 7:
						this.$ = new E.ProgramNode([]);
						break;
					case 8:
						this.$ = new E.ProgramNode([]);
						break;
					case 9:
						this.$ = [ z[y] ];
						break;
					case 10:
						z[y - 1].push(z[y]);
						this.$ = z[y - 1];
						break;
					case 11:
						this.$ = new E.BlockNode(z[y - 2], z[y - 1].inverse,
								z[y - 1], z[y]);
						break;
					case 12:
						this.$ = new E.BlockNode(z[y - 2], z[y - 1],
								z[y - 1].inverse, z[y]);
						break;
					case 13:
						this.$ = z[y];
						break;
					case 14:
						this.$ = z[y];
						break;
					case 15:
						this.$ = new E.ContentNode(z[y]);
						break;
					case 16:
						this.$ = new E.CommentNode(z[y]);
						break;
					case 17:
						this.$ = new E.MustacheNode(z[y - 1][0], z[y - 1][1],
								z[y - 2], p(z[y - 2], z[y]));
						break;
					case 18:
						this.$ = new E.MustacheNode(z[y - 1][0], z[y - 1][1],
								z[y - 2], p(z[y - 2], z[y]));
						break;
					case 19:
						this.$ = {
							path : z[y - 1],
							strip : p(z[y - 2], z[y])
						};
						break;
					case 20:
						this.$ = new E.MustacheNode(z[y - 1][0], z[y - 1][1],
								z[y - 2], p(z[y - 2], z[y]));
						break;
					case 21:
						this.$ = new E.MustacheNode(z[y - 1][0], z[y - 1][1],
								z[y - 2], p(z[y - 2], z[y]));
						break;
					case 22:
						this.$ = new E.PartialNode(z[y - 2], z[y - 1], p(
								z[y - 3], z[y]));
						break;
					case 23:
						this.$ = p(z[y - 1], z[y]);
						break;
					case 24:
						this.$ = [ [ z[y - 2] ].concat(z[y - 1]), z[y] ];
						break;
					case 25:
						this.$ = [ [ z[y] ], null ];
						break;
					case 26:
						this.$ = z[y];
						break;
					case 27:
						this.$ = new E.StringNode(z[y]);
						break;
					case 28:
						this.$ = new E.IntegerNode(z[y]);
						break;
					case 29:
						this.$ = new E.BooleanNode(z[y]);
						break;
					case 30:
						this.$ = z[y];
						break;
					case 31:
						this.$ = new E.HashNode(z[y]);
						break;
					case 32:
						this.$ = [ z[y - 2], z[y] ];
						break;
					case 33:
						this.$ = new E.PartialNameNode(z[y]);
						break;
					case 34:
						this.$ = new E.PartialNameNode(new E.StringNode(z[y]));
						break;
					case 35:
						this.$ = new E.PartialNameNode(new E.IntegerNode(z[y]));
						break;
					case 36:
						this.$ = new E.DataNode(z[y]);
						break;
					case 37:
						this.$ = new E.IdNode(z[y]);
						break;
					case 38:
						z[y - 2].push({
							part : z[y],
							separator : z[y - 1]
						});
						this.$ = z[y - 2];
						break;
					case 39:
						this.$ = [ {
							part : z[y]
						} ];
						break;
					case 42:
						this.$ = [];
						break;
					case 43:
						z[y - 1].push(z[y]);
						break;
					case 46:
						this.$ = [ z[y] ];
						break;
					case 47:
						z[y - 1].push(z[y]);
						break
					}
				},
				table : [ {
					3 : 1,
					4 : 2,
					5 : [ 1, 3 ],
					8 : 4,
					9 : 5,
					11 : 6,
					12 : 7,
					13 : 8,
					14 : [ 1, 9 ],
					15 : [ 1, 10 ],
					16 : [ 1, 12 ],
					19 : [ 1, 11 ],
					22 : [ 1, 13 ],
					23 : [ 1, 14 ],
					25 : [ 1, 15 ]
				}, {
					1 : [ 3 ]
				}, {
					5 : [ 1, 16 ],
					8 : 17,
					9 : 5,
					11 : 6,
					12 : 7,
					13 : 8,
					14 : [ 1, 9 ],
					15 : [ 1, 10 ],
					16 : [ 1, 12 ],
					19 : [ 1, 11 ],
					22 : [ 1, 13 ],
					23 : [ 1, 14 ],
					25 : [ 1, 15 ]
				}, {
					1 : [ 2, 2 ]
				}, {
					5 : [ 2, 9 ],
					14 : [ 2, 9 ],
					15 : [ 2, 9 ],
					16 : [ 2, 9 ],
					19 : [ 2, 9 ],
					20 : [ 2, 9 ],
					22 : [ 2, 9 ],
					23 : [ 2, 9 ],
					25 : [ 2, 9 ]
				}, {
					4 : 20,
					6 : 18,
					7 : 19,
					8 : 4,
					9 : 5,
					11 : 6,
					12 : 7,
					13 : 8,
					14 : [ 1, 9 ],
					15 : [ 1, 10 ],
					16 : [ 1, 12 ],
					19 : [ 1, 21 ],
					20 : [ 2, 8 ],
					22 : [ 1, 13 ],
					23 : [ 1, 14 ],
					25 : [ 1, 15 ]
				}, {
					4 : 20,
					6 : 22,
					7 : 19,
					8 : 4,
					9 : 5,
					11 : 6,
					12 : 7,
					13 : 8,
					14 : [ 1, 9 ],
					15 : [ 1, 10 ],
					16 : [ 1, 12 ],
					19 : [ 1, 21 ],
					20 : [ 2, 8 ],
					22 : [ 1, 13 ],
					23 : [ 1, 14 ],
					25 : [ 1, 15 ]
				}, {
					5 : [ 2, 13 ],
					14 : [ 2, 13 ],
					15 : [ 2, 13 ],
					16 : [ 2, 13 ],
					19 : [ 2, 13 ],
					20 : [ 2, 13 ],
					22 : [ 2, 13 ],
					23 : [ 2, 13 ],
					25 : [ 2, 13 ]
				}, {
					5 : [ 2, 14 ],
					14 : [ 2, 14 ],
					15 : [ 2, 14 ],
					16 : [ 2, 14 ],
					19 : [ 2, 14 ],
					20 : [ 2, 14 ],
					22 : [ 2, 14 ],
					23 : [ 2, 14 ],
					25 : [ 2, 14 ]
				}, {
					5 : [ 2, 15 ],
					14 : [ 2, 15 ],
					15 : [ 2, 15 ],
					16 : [ 2, 15 ],
					19 : [ 2, 15 ],
					20 : [ 2, 15 ],
					22 : [ 2, 15 ],
					23 : [ 2, 15 ],
					25 : [ 2, 15 ]
				}, {
					5 : [ 2, 16 ],
					14 : [ 2, 16 ],
					15 : [ 2, 16 ],
					16 : [ 2, 16 ],
					19 : [ 2, 16 ],
					20 : [ 2, 16 ],
					22 : [ 2, 16 ],
					23 : [ 2, 16 ],
					25 : [ 2, 16 ]
				}, {
					17 : 23,
					21 : 24,
					30 : 25,
					38 : [ 1, 28 ],
					40 : [ 1, 27 ],
					41 : 26
				}, {
					17 : 29,
					21 : 24,
					30 : 25,
					38 : [ 1, 28 ],
					40 : [ 1, 27 ],
					41 : 26
				}, {
					17 : 30,
					21 : 24,
					30 : 25,
					38 : [ 1, 28 ],
					40 : [ 1, 27 ],
					41 : 26
				}, {
					17 : 31,
					21 : 24,
					30 : 25,
					38 : [ 1, 28 ],
					40 : [ 1, 27 ],
					41 : 26
				}, {
					21 : 33,
					26 : 32,
					32 : [ 1, 34 ],
					33 : [ 1, 35 ],
					38 : [ 1, 28 ],
					41 : 26
				}, {
					1 : [ 2, 1 ]
				}, {
					5 : [ 2, 10 ],
					14 : [ 2, 10 ],
					15 : [ 2, 10 ],
					16 : [ 2, 10 ],
					19 : [ 2, 10 ],
					20 : [ 2, 10 ],
					22 : [ 2, 10 ],
					23 : [ 2, 10 ],
					25 : [ 2, 10 ]
				}, {
					10 : 36,
					20 : [ 1, 37 ]
				}, {
					4 : 38,
					8 : 4,
					9 : 5,
					11 : 6,
					12 : 7,
					13 : 8,
					14 : [ 1, 9 ],
					15 : [ 1, 10 ],
					16 : [ 1, 12 ],
					19 : [ 1, 11 ],
					20 : [ 2, 7 ],
					22 : [ 1, 13 ],
					23 : [ 1, 14 ],
					25 : [ 1, 15 ]
				}, {
					7 : 39,
					8 : 17,
					9 : 5,
					11 : 6,
					12 : 7,
					13 : 8,
					14 : [ 1, 9 ],
					15 : [ 1, 10 ],
					16 : [ 1, 12 ],
					19 : [ 1, 21 ],
					20 : [ 2, 6 ],
					22 : [ 1, 13 ],
					23 : [ 1, 14 ],
					25 : [ 1, 15 ]
				}, {
					17 : 23,
					18 : [ 1, 40 ],
					21 : 24,
					30 : 25,
					38 : [ 1, 28 ],
					40 : [ 1, 27 ],
					41 : 26
				}, {
					10 : 41,
					20 : [ 1, 37 ]
				}, {
					18 : [ 1, 42 ]
				}, {
					18 : [ 2, 42 ],
					24 : [ 2, 42 ],
					28 : 43,
					32 : [ 2, 42 ],
					33 : [ 2, 42 ],
					34 : [ 2, 42 ],
					38 : [ 2, 42 ],
					40 : [ 2, 42 ]
				}, {
					18 : [ 2, 25 ],
					24 : [ 2, 25 ]
				}, {
					18 : [ 2, 37 ],
					24 : [ 2, 37 ],
					32 : [ 2, 37 ],
					33 : [ 2, 37 ],
					34 : [ 2, 37 ],
					38 : [ 2, 37 ],
					40 : [ 2, 37 ],
					42 : [ 1, 44 ]
				}, {
					21 : 45,
					38 : [ 1, 28 ],
					41 : 26
				}, {
					18 : [ 2, 39 ],
					24 : [ 2, 39 ],
					32 : [ 2, 39 ],
					33 : [ 2, 39 ],
					34 : [ 2, 39 ],
					38 : [ 2, 39 ],
					40 : [ 2, 39 ],
					42 : [ 2, 39 ]
				}, {
					18 : [ 1, 46 ]
				}, {
					18 : [ 1, 47 ]
				}, {
					24 : [ 1, 48 ]
				}, {
					18 : [ 2, 40 ],
					21 : 50,
					27 : 49,
					38 : [ 1, 28 ],
					41 : 26
				}, {
					18 : [ 2, 33 ],
					38 : [ 2, 33 ]
				}, {
					18 : [ 2, 34 ],
					38 : [ 2, 34 ]
				}, {
					18 : [ 2, 35 ],
					38 : [ 2, 35 ]
				}, {
					5 : [ 2, 11 ],
					14 : [ 2, 11 ],
					15 : [ 2, 11 ],
					16 : [ 2, 11 ],
					19 : [ 2, 11 ],
					20 : [ 2, 11 ],
					22 : [ 2, 11 ],
					23 : [ 2, 11 ],
					25 : [ 2, 11 ]
				}, {
					21 : 51,
					38 : [ 1, 28 ],
					41 : 26
				}, {
					8 : 17,
					9 : 5,
					11 : 6,
					12 : 7,
					13 : 8,
					14 : [ 1, 9 ],
					15 : [ 1, 10 ],
					16 : [ 1, 12 ],
					19 : [ 1, 11 ],
					20 : [ 2, 3 ],
					22 : [ 1, 13 ],
					23 : [ 1, 14 ],
					25 : [ 1, 15 ]
				}, {
					4 : 52,
					8 : 4,
					9 : 5,
					11 : 6,
					12 : 7,
					13 : 8,
					14 : [ 1, 9 ],
					15 : [ 1, 10 ],
					16 : [ 1, 12 ],
					19 : [ 1, 11 ],
					20 : [ 2, 5 ],
					22 : [ 1, 13 ],
					23 : [ 1, 14 ],
					25 : [ 1, 15 ]
				}, {
					14 : [ 2, 23 ],
					15 : [ 2, 23 ],
					16 : [ 2, 23 ],
					19 : [ 2, 23 ],
					20 : [ 2, 23 ],
					22 : [ 2, 23 ],
					23 : [ 2, 23 ],
					25 : [ 2, 23 ]
				}, {
					5 : [ 2, 12 ],
					14 : [ 2, 12 ],
					15 : [ 2, 12 ],
					16 : [ 2, 12 ],
					19 : [ 2, 12 ],
					20 : [ 2, 12 ],
					22 : [ 2, 12 ],
					23 : [ 2, 12 ],
					25 : [ 2, 12 ]
				}, {
					14 : [ 2, 18 ],
					15 : [ 2, 18 ],
					16 : [ 2, 18 ],
					19 : [ 2, 18 ],
					20 : [ 2, 18 ],
					22 : [ 2, 18 ],
					23 : [ 2, 18 ],
					25 : [ 2, 18 ]
				}, {
					18 : [ 2, 44 ],
					21 : 56,
					24 : [ 2, 44 ],
					29 : 53,
					30 : 60,
					31 : 54,
					32 : [ 1, 57 ],
					33 : [ 1, 58 ],
					34 : [ 1, 59 ],
					35 : 55,
					36 : 61,
					37 : 62,
					38 : [ 1, 63 ],
					40 : [ 1, 27 ],
					41 : 26
				}, {
					38 : [ 1, 64 ]
				}, {
					18 : [ 2, 36 ],
					24 : [ 2, 36 ],
					32 : [ 2, 36 ],
					33 : [ 2, 36 ],
					34 : [ 2, 36 ],
					38 : [ 2, 36 ],
					40 : [ 2, 36 ]
				}, {
					14 : [ 2, 17 ],
					15 : [ 2, 17 ],
					16 : [ 2, 17 ],
					19 : [ 2, 17 ],
					20 : [ 2, 17 ],
					22 : [ 2, 17 ],
					23 : [ 2, 17 ],
					25 : [ 2, 17 ]
				}, {
					5 : [ 2, 20 ],
					14 : [ 2, 20 ],
					15 : [ 2, 20 ],
					16 : [ 2, 20 ],
					19 : [ 2, 20 ],
					20 : [ 2, 20 ],
					22 : [ 2, 20 ],
					23 : [ 2, 20 ],
					25 : [ 2, 20 ]
				}, {
					5 : [ 2, 21 ],
					14 : [ 2, 21 ],
					15 : [ 2, 21 ],
					16 : [ 2, 21 ],
					19 : [ 2, 21 ],
					20 : [ 2, 21 ],
					22 : [ 2, 21 ],
					23 : [ 2, 21 ],
					25 : [ 2, 21 ]
				}, {
					18 : [ 1, 65 ]
				}, {
					18 : [ 2, 41 ]
				}, {
					18 : [ 1, 66 ]
				}, {
					8 : 17,
					9 : 5,
					11 : 6,
					12 : 7,
					13 : 8,
					14 : [ 1, 9 ],
					15 : [ 1, 10 ],
					16 : [ 1, 12 ],
					19 : [ 1, 11 ],
					20 : [ 2, 4 ],
					22 : [ 1, 13 ],
					23 : [ 1, 14 ],
					25 : [ 1, 15 ]
				}, {
					18 : [ 2, 24 ],
					24 : [ 2, 24 ]
				}, {
					18 : [ 2, 43 ],
					24 : [ 2, 43 ],
					32 : [ 2, 43 ],
					33 : [ 2, 43 ],
					34 : [ 2, 43 ],
					38 : [ 2, 43 ],
					40 : [ 2, 43 ]
				}, {
					18 : [ 2, 45 ],
					24 : [ 2, 45 ]
				}, {
					18 : [ 2, 26 ],
					24 : [ 2, 26 ],
					32 : [ 2, 26 ],
					33 : [ 2, 26 ],
					34 : [ 2, 26 ],
					38 : [ 2, 26 ],
					40 : [ 2, 26 ]
				}, {
					18 : [ 2, 27 ],
					24 : [ 2, 27 ],
					32 : [ 2, 27 ],
					33 : [ 2, 27 ],
					34 : [ 2, 27 ],
					38 : [ 2, 27 ],
					40 : [ 2, 27 ]
				}, {
					18 : [ 2, 28 ],
					24 : [ 2, 28 ],
					32 : [ 2, 28 ],
					33 : [ 2, 28 ],
					34 : [ 2, 28 ],
					38 : [ 2, 28 ],
					40 : [ 2, 28 ]
				}, {
					18 : [ 2, 29 ],
					24 : [ 2, 29 ],
					32 : [ 2, 29 ],
					33 : [ 2, 29 ],
					34 : [ 2, 29 ],
					38 : [ 2, 29 ],
					40 : [ 2, 29 ]
				}, {
					18 : [ 2, 30 ],
					24 : [ 2, 30 ],
					32 : [ 2, 30 ],
					33 : [ 2, 30 ],
					34 : [ 2, 30 ],
					38 : [ 2, 30 ],
					40 : [ 2, 30 ]
				}, {
					18 : [ 2, 31 ],
					24 : [ 2, 31 ],
					37 : 67,
					38 : [ 1, 68 ]
				}, {
					18 : [ 2, 46 ],
					24 : [ 2, 46 ],
					38 : [ 2, 46 ]
				}, {
					18 : [ 2, 39 ],
					24 : [ 2, 39 ],
					32 : [ 2, 39 ],
					33 : [ 2, 39 ],
					34 : [ 2, 39 ],
					38 : [ 2, 39 ],
					39 : [ 1, 69 ],
					40 : [ 2, 39 ],
					42 : [ 2, 39 ]
				}, {
					18 : [ 2, 38 ],
					24 : [ 2, 38 ],
					32 : [ 2, 38 ],
					33 : [ 2, 38 ],
					34 : [ 2, 38 ],
					38 : [ 2, 38 ],
					40 : [ 2, 38 ],
					42 : [ 2, 38 ]
				}, {
					5 : [ 2, 22 ],
					14 : [ 2, 22 ],
					15 : [ 2, 22 ],
					16 : [ 2, 22 ],
					19 : [ 2, 22 ],
					20 : [ 2, 22 ],
					22 : [ 2, 22 ],
					23 : [ 2, 22 ],
					25 : [ 2, 22 ]
				}, {
					5 : [ 2, 19 ],
					14 : [ 2, 19 ],
					15 : [ 2, 19 ],
					16 : [ 2, 19 ],
					19 : [ 2, 19 ],
					20 : [ 2, 19 ],
					22 : [ 2, 19 ],
					23 : [ 2, 19 ],
					25 : [ 2, 19 ]
				}, {
					18 : [ 2, 47 ],
					24 : [ 2, 47 ],
					38 : [ 2, 47 ]
				}, {
					39 : [ 1, 69 ]
				}, {
					21 : 56,
					30 : 60,
					31 : 70,
					32 : [ 1, 57 ],
					33 : [ 1, 58 ],
					34 : [ 1, 59 ],
					38 : [ 1, 28 ],
					40 : [ 1, 27 ],
					41 : 26
				}, {
					18 : [ 2, 32 ],
					24 : [ 2, 32 ],
					38 : [ 2, 32 ]
				} ],
				defaultActions : {
					3 : [ 2, 2 ],
					16 : [ 2, 1 ],
					50 : [ 2, 41 ]
				},
				parseError : function t(y, x) {
					throw new Error(y)
				},
				parse : function v(G) {
					var N = this, D = [ 0 ], W = [ null ], I = [], X = this.table, y = "", H = 0, U = 0, A = 0, F = 2, K = 1;
					this.lexer.setInput(G);
					this.lexer.yy = this.yy;
					this.yy.lexer = this.lexer;
					this.yy.parser = this;
					if (typeof this.lexer.yylloc == "undefined") {
						this.lexer.yylloc = {}
					}
					var z = this.lexer.yylloc;
					I.push(z);
					var B = this.lexer.options && this.lexer.options.ranges;
					if (typeof this.yy.parseError === "function") {
						this.parseError = this.yy.parseError
					}
					function M(Z) {
						D.length = D.length - 2 * Z;
						W.length = W.length - Z;
						I.length = I.length - Z
					}
					function L() {
						var Z;
						Z = N.lexer.lex() || 1;
						if (typeof Z !== "number") {
							Z = N.symbols_[Z] || Z
						}
						return Z
					}
					var T, P, C, S, Y, J, R = {}, O, V, x, E;
					while (true) {
						C = D[D.length - 1];
						if (this.defaultActions[C]) {
							S = this.defaultActions[C]
						} else {
							if (T === null || typeof T == "undefined") {
								T = L()
							}
							S = X[C] && X[C][T]
						}
						if (typeof S === "undefined" || !S.length || !S[0]) {
							var Q = "";
							if (!A) {
								E = [];
								for (O in X[C]) {
									if (this.terminals_[O] && O > 2) {
										E.push("'" + this.terminals_[O] + "'")
									}
								}
								if (this.lexer.showPosition) {
									Q = "Parse error on line " + (H + 1)
											+ ":\n" + this.lexer.showPosition()
											+ "\nExpecting " + E.join(", ")
											+ ", got '"
											+ (this.terminals_[T] || T) + "'"
								} else {
									Q = "Parse error on line "
											+ (H + 1)
											+ ": Unexpected "
											+ (T == 1 ? "end of input" : "'"
													+ (this.terminals_[T] || T)
													+ "'")
								}
								this.parseError(Q, {
									text : this.lexer.match,
									token : this.terminals_[T] || T,
									line : this.lexer.yylineno,
									loc : z,
									expected : E
								})
							}
						}
						if (S[0] instanceof Array && S.length > 1) {
							throw new Error(
									"Parse Error: multiple actions possible at state: "
											+ C + ", token: " + T)
						}
						switch (S[0]) {
						case 1:
							D.push(T);
							W.push(this.lexer.yytext);
							I.push(this.lexer.yylloc);
							D.push(S[1]);
							T = null;
							if (!P) {
								U = this.lexer.yyleng;
								y = this.lexer.yytext;
								H = this.lexer.yylineno;
								z = this.lexer.yylloc;
								if (A > 0) {
									A--
								}
							} else {
								T = P;
								P = null
							}
							break;
						case 2:
							V = this.productions_[S[1]][1];
							R.$ = W[W.length - V];
							R._$ = {
								first_line : I[I.length - (V || 1)].first_line,
								last_line : I[I.length - 1].last_line,
								first_column : I[I.length - (V || 1)].first_column,
								last_column : I[I.length - 1].last_column
							};
							if (B) {
								R._$.range = [ I[I.length - (V || 1)].range[0],
										I[I.length - 1].range[1] ]
							}
							J = this.performAction.call(R, y, U, H, this.yy,
									S[1], W, I);
							if (typeof J !== "undefined") {
								return J
							}
							if (V) {
								D = D.slice(0, -1 * V * 2);
								W = W.slice(0, -1 * V);
								I = I.slice(0, -1 * V)
							}
							D.push(this.productions_[S[1]][0]);
							W.push(R.$);
							I.push(R._$);
							x = X[D[D.length - 2]][D[D.length - 1]];
							D.push(x);
							break;
						case 3:
							return true
						}
					}
					return true
				}
			};
			function p(x, y) {
				return {
					left : x[2] === "~",
					right : y[0] === "~" || y[1] === "~"
				}
			}
			var q = (function() {
				var A = ({
					EOF : 1,
					parseError : function C(F, E) {
						if (this.yy.parser) {
							this.yy.parser.parseError(F, E)
						} else {
							throw new Error(F)
						}
					},
					setInput : function(E) {
						this._input = E;
						this._more = this._less = this.done = false;
						this.yylineno = this.yyleng = 0;
						this.yytext = this.matched = this.match = "";
						this.conditionStack = [ "INITIAL" ];
						this.yylloc = {
							first_line : 1,
							first_column : 0,
							last_line : 1,
							last_column : 0
						};
						if (this.options.ranges) {
							this.yylloc.range = [ 0, 0 ]
						}
						this.offset = 0;
						return this
					},
					input : function() {
						var F = this._input[0];
						this.yytext += F;
						this.yyleng++;
						this.offset++;
						this.match += F;
						this.matched += F;
						var E = F.match(/(?:\r\n?|\n).*/g);
						if (E) {
							this.yylineno++;
							this.yylloc.last_line++
						} else {
							this.yylloc.last_column++
						}
						if (this.options.ranges) {
							this.yylloc.range[1]++
						}
						this._input = this._input.slice(1);
						return F
					},
					unput : function(G) {
						var E = G.length;
						var F = G.split(/(?:\r\n?|\n)/g);
						this._input = G + this._input;
						this.yytext = this.yytext.substr(0, this.yytext.length
								- E - 1);
						this.offset -= E;
						var I = this.match.split(/(?:\r\n?|\n)/g);
						this.match = this.match
								.substr(0, this.match.length - 1);
						this.matched = this.matched.substr(0,
								this.matched.length - 1);
						if (F.length - 1) {
							this.yylineno -= F.length - 1
						}
						var H = this.yylloc.range;
						this.yylloc = {
							first_line : this.yylloc.first_line,
							last_line : this.yylineno + 1,
							first_column : this.yylloc.first_column,
							last_column : F ? (F.length === I.length ? this.yylloc.first_column
									: 0)
									+ I[I.length - F.length].length
									- F[0].length
									: this.yylloc.first_column - E
						};
						if (this.options.ranges) {
							this.yylloc.range = [ H[0], H[0] + this.yyleng - E ]
						}
						return this
					},
					more : function() {
						this._more = true;
						return this
					},
					less : function(E) {
						this.unput(this.match.slice(E))
					},
					pastInput : function() {
						var E = this.matched.substr(0, this.matched.length
								- this.match.length);
						return (E.length > 20 ? "..." : "")
								+ E.substr(-20).replace(/\n/g, "")
					},
					upcomingInput : function() {
						var E = this.match;
						if (E.length < 20) {
							E += this._input.substr(0, 20 - E.length)
						}
						return (E.substr(0, 20) + (E.length > 20 ? "..." : ""))
								.replace(/\n/g, "")
					},
					showPosition : function() {
						var E = this.pastInput();
						var F = new Array(E.length + 1).join("-");
						return E + this.upcomingInput() + "\n" + F + "^"
					},
					next : function() {
						if (this.done) {
							return this.EOF
						}
						if (!this._input) {
							this.done = true
						}
						var K, I, F, H, G, E;
						if (!this._more) {
							this.yytext = "";
							this.match = ""
						}
						var L = this._currentRules();
						for (var J = 0; J < L.length; J++) {
							F = this._input.match(this.rules[L[J]]);
							if (F && (!I || F[0].length > I[0].length)) {
								I = F;
								H = J;
								if (!this.options.flex) {
									break
								}
							}
						}
						if (I) {
							E = I[0].match(/(?:\r\n?|\n).*/g);
							if (E) {
								this.yylineno += E.length
							}
							this.yylloc = {
								first_line : this.yylloc.last_line,
								last_line : this.yylineno + 1,
								first_column : this.yylloc.last_column,
								last_column : E ? E[E.length - 1].length
										- E[E.length - 1].match(/\r?\n?/)[0].length
										: this.yylloc.last_column + I[0].length
							};
							this.yytext += I[0];
							this.match += I[0];
							this.matches = I;
							this.yyleng = this.yytext.length;
							if (this.options.ranges) {
								this.yylloc.range = [ this.offset,
										this.offset += this.yyleng ]
							}
							this._more = false;
							this._input = this._input.slice(I[0].length);
							this.matched += I[0];
							K = this.performAction
									.call(
											this,
											this.yy,
											this,
											L[H],
											this.conditionStack[this.conditionStack.length - 1]);
							if (this.done && this._input) {
								this.done = false
							}
							if (K) {
								return K
							} else {
								return
							}
						}
						if (this._input === "") {
							return this.EOF
						} else {
							return this.parseError("Lexical error on line "
									+ (this.yylineno + 1)
									+ ". Unrecognized text.\n"
									+ this.showPosition(), {
								text : "",
								token : null,
								line : this.yylineno
							})
						}
					},
					lex : function x() {
						var E = this.next();
						if (typeof E !== "undefined") {
							return E
						} else {
							return this.lex()
						}
					},
					begin : function y(E) {
						this.conditionStack.push(E)
					},
					popState : function D() {
						return this.conditionStack.pop()
					},
					_currentRules : function B() {
						return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules
					},
					topState : function() {
						return this.conditionStack[this.conditionStack.length - 2]
					},
					pushState : function y(E) {
						this.begin(E)
					}
				});
				A.options = {};
				A.performAction = function z(J, F, I, E) {
					function G(L, K) {
						return F.yytext = F.yytext.substr(L, F.yyleng - K)
					}
					var H = E;
					switch (I) {
					case 0:
						if (F.yytext.slice(-2) === "\\\\") {
							G(0, 1);
							this.begin("mu")
						} else {
							if (F.yytext.slice(-1) === "\\") {
								G(0, 1);
								this.begin("emu")
							} else {
								this.begin("mu")
							}
						}
						if (F.yytext) {
							return 14
						}
						break;
					case 1:
						return 14;
						break;
					case 2:
						if (F.yytext.slice(-1) !== "\\") {
							this.popState()
						}
						if (F.yytext.slice(-1) === "\\") {
							G(0, 1)
						}
						return 14;
						break;
					case 3:
						G(0, 4);
						this.popState();
						return 15;
						break;
					case 4:
						return 25;
						break;
					case 5:
						return 16;
						break;
					case 6:
						return 20;
						break;
					case 7:
						return 19;
						break;
					case 8:
						return 19;
						break;
					case 9:
						return 23;
						break;
					case 10:
						return 22;
						break;
					case 11:
						this.popState();
						this.begin("com");
						break;
					case 12:
						G(3, 5);
						this.popState();
						return 15;
						break;
					case 13:
						return 22;
						break;
					case 14:
						return 39;
						break;
					case 15:
						return 38;
						break;
					case 16:
						return 38;
						break;
					case 17:
						return 42;
						break;
					case 18:
						break;
					case 19:
						this.popState();
						return 24;
						break;
					case 20:
						this.popState();
						return 18;
						break;
					case 21:
						F.yytext = G(1, 2).replace(/\\"/g, '"');
						return 32;
						break;
					case 22:
						F.yytext = G(1, 2).replace(/\\'/g, "'");
						return 32;
						break;
					case 23:
						return 40;
						break;
					case 24:
						return 34;
						break;
					case 25:
						return 34;
						break;
					case 26:
						return 33;
						break;
					case 27:
						return 38;
						break;
					case 28:
						F.yytext = G(1, 2);
						return 38;
						break;
					case 29:
						return "INVALID";
						break;
					case 30:
						return 5;
						break
					}
				};
				A.rules = [
						/^(?:[^\x00]*?(?=(\{\{)))/,
						/^(?:[^\x00]+)/,
						/^(?:[^\x00]{2,}?(?=(\{\{|$)))/,
						/^(?:[\s\S]*?--\}\})/,
						/^(?:\{\{(~)?>)/,
						/^(?:\{\{(~)?#)/,
						/^(?:\{\{(~)?\/)/,
						/^(?:\{\{(~)?\^)/,
						/^(?:\{\{(~)?\s*else\b)/,
						/^(?:\{\{(~)?\{)/,
						/^(?:\{\{(~)?&)/,
						/^(?:\{\{!--)/,
						/^(?:\{\{![\s\S]*?\}\})/,
						/^(?:\{\{(~)?)/,
						/^(?:=)/,
						/^(?:\.\.)/,
						/^(?:\.(?=([=~}\s\/.])))/,
						/^(?:[\/.])/,
						/^(?:\s+)/,
						/^(?:\}(~)?\}\})/,
						/^(?:(~)?\}\})/,
						/^(?:"(\\["]|[^"])*")/,
						/^(?:'(\\[']|[^'])*')/,
						/^(?:@)/,
						/^(?:true(?=([~}\s])))/,
						/^(?:false(?=([~}\s])))/,
						/^(?:-?[0-9]+(?=([~}\s])))/,
						/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.]))))/,
						/^(?:\[[^\]]*\])/, /^(?:.)/, /^(?:$)/ ];
				A.conditions = {
					mu : {
						rules : [ 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16,
								17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28,
								29, 30 ],
						inclusive : false
					},
					emu : {
						rules : [ 2 ],
						inclusive : false
					},
					com : {
						rules : [ 3 ],
						inclusive : false
					},
					INITIAL : {
						rules : [ 0, 1, 30 ],
						inclusive : true
					}
				};
				return A
			})();
			w.lexer = q;
			function u() {
				this.yy = {}
			}
			u.prototype = w;
			w.Parser = u;
			return new u
		})();
		o = n;
		return o
	})();
	var m = (function(r, n) {
		var o = {};
		var s = r;
		var p = n;
		o.parser = s;
		function q(t) {
			if (t.constructor === p.ProgramNode) {
				return t
			}
			s.yy = p;
			return s.parse(t)
		}
		o.parse = q;
		return o
	})(b, k);
	var h = (function(u) {
		var w;
		var n = u.COMPILER_REVISION;
		var r = u.REVISION_CHANGES;
		var s = u.log;
		function p(y) {
			this.value = y
		}
		function x() {
		}
		x.prototype = {
			nameLookup : function(B, z) {
				var A, y;
				if (B.indexOf("depth") === 0) {
					A = true
				}
				if (/^[0-9]+$/.test(z)) {
					y = B + "[" + z + "]"
				} else {
					if (x.isValidJavaScriptVariableName(z)) {
						y = B + "." + z
					} else {
						y = B + "['" + z + "']"
					}
				}
				if (A) {
					return "(" + B + " && " + y + ")"
				} else {
					return y
				}
			},
			appendToBuffer : function(y) {
				if (this.environment.isSimple) {
					return "return " + y + ";"
				} else {
					return {
						appendToBuffer : true,
						content : y,
						toString : function() {
							return "buffer += " + y + ";"
						}
					}
				}
			},
			initializeBuffer : function() {
				return this.quotedString("")
			},
			namespace : "Handlebars",
			compile : function(y, A, C, B) {
				this.environment = y;
				this.options = A || {};
				s("debug", this.environment.disassemble() + "\n\n");
				this.name = this.environment.name;
				this.isChild = !!C;
				this.context = C || {
					programs : [],
					environments : [],
					aliases : {}
				};
				this.preamble();
				this.stackSlot = 0;
				this.stackVars = [];
				this.registers = {
					list : []
				};
				this.compileStack = [];
				this.inlineStack = [];
				this.compileChildren(y, A);
				var E = y.opcodes, D;
				this.i = 0;
				for (var z = E.length; this.i < z; this.i++) {
					D = E[this.i];
					if (D.opcode === "DECLARE") {
						this[D.name] = D.value
					} else {
						this[D.opcode].apply(this, D.args)
					}
					if (D.opcode !== this.stripNext) {
						this.stripNext = false
					}
				}
				this.pushSource("");
				return this.createFunctionContext(B)
			},
			preamble : function() {
				var y = [];
				if (!this.isChild) {
					var z = this.namespace;
					var A = "helpers = this.merge(helpers, " + z + ".helpers);";
					if (this.environment.usePartial) {
						A = A + " partials = this.merge(partials, " + z
								+ ".partials);"
					}
					if (this.options.data) {
						A = A + " data = data || {};"
					}
					y.push(A)
				} else {
					y.push("")
				}
				if (!this.environment.isSimple) {
					y.push(", buffer = " + this.initializeBuffer())
				} else {
					y.push("")
				}
				this.lastContext = 0;
				this.source = y
			},
			createFunctionContext : function(F) {
				var A = this.stackVars.concat(this.registers.list);
				if (A.length > 0) {
					this.source[1] = this.source[1] + ", " + A.join(", ")
				}
				if (!this.isChild) {
					for ( var E in this.context.aliases) {
						if (this.context.aliases.hasOwnProperty(E)) {
							this.source[1] = this.source[1] + ", " + E + "="
									+ this.context.aliases[E]
						}
					}
				}
				if (this.source[1]) {
					this.source[1] = "var " + this.source[1].substring(2) + ";"
				}
				if (!this.isChild) {
					this.source[1] += "\n" + this.context.programs.join("\n")
							+ "\n"
				}
				if (!this.environment.isSimple) {
					this.pushSource("return buffer;")
				}
				var C = this.isChild ? [ "depth0", "data" ] : [ "Handlebars",
						"depth0", "helpers", "partials", "data" ];
				for (var D = 0, B = this.environment.depths.list.length; D < B; D++) {
					C.push("depth" + this.environment.depths.list[D])
				}
				var y = this.mergeSource();
				if (!this.isChild) {
					var G = n, z = r[G];
					y = "this.compilerInfo = [" + G + ",'" + z + "'];\n" + y
				}
				if (F) {
					C.push(y);
					return Function.apply(this, C)
				} else {
					var H = "function " + (this.name || "") + "(" + C.join(",")
							+ ") {\n  " + y + "}";
					s("debug", H + "\n\n");
					return H
				}
			},
			mergeSource : function() {
				var C = "", A;
				for (var B = 0, y = this.source.length; B < y; B++) {
					var z = this.source[B];
					if (z.appendToBuffer) {
						if (A) {
							A = A + "\n    + " + z.content
						} else {
							A = z.content
						}
					} else {
						if (A) {
							C += "buffer += " + A + ";\n  ";
							A = undefined
						}
						C += z + "\n  "
					}
				}
				return C
			},
			blockValue : function() {
				this.context.aliases.blockHelperMissing = "helpers.blockHelperMissing";
				var y = [ "depth0" ];
				this.setupParams(0, y);
				this.replaceStack(function(z) {
					y.splice(1, 0, z);
					return "blockHelperMissing.call(" + y.join(", ") + ")"
				})
			},
			ambiguousBlockValue : function() {
				this.context.aliases.blockHelperMissing = "helpers.blockHelperMissing";
				var z = [ "depth0" ];
				this.setupParams(0, z);
				var y = this.topStack();
				z.splice(1, 0, y);
				z[z.length - 1] = "options";
				this
						.pushSource("if (!" + this.lastHelper + ") { " + y
								+ " = blockHelperMissing.call(" + z.join(", ")
								+ "); }")
			},
			appendContent : function(y) {
				if (this.pendingContent) {
					y = this.pendingContent + y
				}
				if (this.stripNext) {
					y = y.replace(/^\s+/, "")
				}
				this.pendingContent = y
			},
			strip : function() {
				if (this.pendingContent) {
					this.pendingContent = this.pendingContent.replace(/\s+$/,
							"")
				}
				this.stripNext = "strip"
			},
			append : function() {
				this.flushInline();
				var y = this.popStack();
				this.pushSource("if(" + y + " || " + y + " === 0) { "
						+ this.appendToBuffer(y) + " }");
				if (this.environment.isSimple) {
					this.pushSource("else { " + this.appendToBuffer("''")
							+ " }")
				}
			},
			appendEscaped : function() {
				this.context.aliases.escapeExpression = "this.escapeExpression";
				this.pushSource(this.appendToBuffer("escapeExpression("
						+ this.popStack() + ")"))
			},
			getContext : function(y) {
				if (this.lastContext !== y) {
					this.lastContext = y
				}
			},
			lookupOnContext : function(y) {
				this.push(this.nameLookup("depth" + this.lastContext, y,
						"context"))
			},
			pushContext : function() {
				this.pushStackLiteral("depth" + this.lastContext)
			},
			resolvePossibleLambda : function() {
				this.context.aliases.functionType = '"function"';
				this.replaceStack(function(y) {
					return "typeof " + y + " === functionType ? " + y
							+ ".apply(depth0) : " + y
				})
			},
			lookup : function(y) {
				this.replaceStack(function(z) {
					return z + " == null || " + z + " === false ? " + z + " : "
							+ this.nameLookup(z, y, "context")
				})
			},
			lookupData : function() {
				this.push("data")
			},
			pushStringParam : function(y, z) {
				this.pushStackLiteral("depth" + this.lastContext);
				this.pushString(z);
				if (typeof y === "string") {
					this.pushString(y)
				} else {
					this.pushStackLiteral(y)
				}
			},
			emptyHash : function() {
				this.pushStackLiteral("{}");
				if (this.options.stringParams) {
					this.register("hashTypes", "{}");
					this.register("hashContexts", "{}")
				}
			},
			pushHash : function() {
				this.hash = {
					values : [],
					types : [],
					contexts : []
				}
			},
			popHash : function() {
				var y = this.hash;
				this.hash = undefined;
				if (this.options.stringParams) {
					this.register("hashContexts", "{" + y.contexts.join(",")
							+ "}");
					this.register("hashTypes", "{" + y.types.join(",") + "}")
				}
				this.push("{\n    " + y.values.join(",\n    ") + "\n  }")
			},
			pushString : function(y) {
				this.pushStackLiteral(this.quotedString(y))
			},
			push : function(y) {
				this.inlineStack.push(y);
				return y
			},
			pushLiteral : function(y) {
				this.pushStackLiteral(y)
			},
			pushProgram : function(y) {
				if (y != null) {
					this.pushStackLiteral(this.programExpression(y))
				} else {
					this.pushStackLiteral(null)
				}
			},
			invokeHelper : function(A, y) {
				this.context.aliases.helperMissing = "helpers.helperMissing";
				var z = this.lastHelper = this.setupHelper(A, y, true);
				var B = this.nameLookup("depth" + this.lastContext, y,
						"context");
				this.push(z.name + " || " + B);
				this.replaceStack(function(C) {
					return C + " ? " + C + ".call(" + z.callParams
							+ ") : helperMissing.call(" + z.helperMissingParams
							+ ")"
				})
			},
			invokeKnownHelper : function(A, y) {
				var z = this.setupHelper(A, y);
				this.push(z.name + ".call(" + z.callParams + ")")
			},
			invokeAmbiguous : function(y, C) {
				this.context.aliases.functionType = '"function"';
				this.pushStackLiteral("{}");
				var z = this.setupHelper(0, y, C);
				var A = this.lastHelper = this.nameLookup("helpers", y,
						"helper");
				var D = this.nameLookup("depth" + this.lastContext, y,
						"context");
				var B = this.nextStack();
				this.pushSource("if (" + B + " = " + A + ") { " + B + " = " + B
						+ ".call(" + z.callParams + "); }");
				this.pushSource("else { " + B + " = " + D + "; " + B
						+ " = typeof " + B + " === functionType ? " + B
						+ ".call(" + z.callParams + ") : " + B + "; }")
			},
			invokePartial : function(y) {
				var z = [ this.nameLookup("partials", y, "partial"),
						"'" + y + "'", this.popStack(), "helpers", "partials" ];
				if (this.options.data) {
					z.push("data")
				}
				this.context.aliases.self = "this";
				this.push("self.invokePartial(" + z.join(", ") + ")")
			},
			assignToHash : function(z) {
				var B = this.popStack(), y, A;
				if (this.options.stringParams) {
					A = this.popStack();
					y = this.popStack()
				}
				var C = this.hash;
				if (y) {
					C.contexts.push("'" + z + "': " + y)
				}
				if (A) {
					C.types.push("'" + z + "': " + A)
				}
				C.values.push("'" + z + "': (" + B + ")")
			},
			compiler : x,
			compileChildren : function(y, B) {
				var D = y.children, F, E;
				for (var C = 0, z = D.length; C < z; C++) {
					F = D[C];
					E = new this.compiler();
					var A = this.matchExistingProgram(F);
					if (A == null) {
						this.context.programs.push("");
						A = this.context.programs.length;
						F.index = A;
						F.name = "program" + A;
						this.context.programs[A] = E
								.compile(F, B, this.context);
						this.context.environments[A] = F
					} else {
						F.index = A;
						F.name = "program" + A
					}
				}
			},
			matchExistingProgram : function(B) {
				for (var A = 0, z = this.context.environments.length; A < z; A++) {
					var y = this.context.environments[A];
					if (y && y.equals(B)) {
						return A
					}
				}
			},
			programExpression : function(z) {
				this.context.aliases.self = "this";
				if (z == null) {
					return "self.noop"
				}
				var E = this.environment.children[z], D = E.depths.list, C;
				var B = [ E.index, E.name, "data" ];
				for (var A = 0, y = D.length; A < y; A++) {
					C = D[A];
					if (C === 1) {
						B.push("depth0")
					} else {
						B.push("depth" + (C - 1))
					}
				}
				return (D.length === 0 ? "self.program("
						: "self.programWithDepth(")
						+ B.join(", ") + ")"
			},
			register : function(y, z) {
				this.useRegister(y);
				this.pushSource(y + " = " + z + ";")
			},
			useRegister : function(y) {
				if (!this.registers[y]) {
					this.registers[y] = true;
					this.registers.list.push(y)
				}
			},
			pushStackLiteral : function(y) {
				return this.push(new p(y))
			},
			pushSource : function(y) {
				if (this.pendingContent) {
					this.source.push(this.appendToBuffer(this
							.quotedString(this.pendingContent)));
					this.pendingContent = undefined
				}
				if (y) {
					this.source.push(y)
				}
			},
			pushStack : function(z) {
				this.flushInline();
				var y = this.incrStack();
				if (z) {
					this.pushSource(y + " = " + z + ";")
				}
				this.compileStack.push(y);
				return y
			},
			replaceStack : function(E) {
				var B = "", D = this.isInline(), y;
				if (D) {
					var C = this.popStack(true);
					if (C instanceof p) {
						y = C.value
					} else {
						var z = this.stackSlot ? this.topStackName() : this
								.incrStack();
						B = "(" + this.push(z) + " = " + C + "),";
						y = this.topStack()
					}
				} else {
					y = this.topStack()
				}
				var A = E.call(this, y);
				if (D) {
					if (this.inlineStack.length || this.compileStack.length) {
						this.popStack()
					}
					this.push("(" + B + A + ")")
				} else {
					if (!/^stack/.test(y)) {
						y = this.nextStack()
					}
					this.pushSource(y + " = (" + B + A + ");")
				}
				return y
			},
			nextStack : function() {
				return this.pushStack()
			},
			incrStack : function() {
				this.stackSlot++;
				if (this.stackSlot > this.stackVars.length) {
					this.stackVars.push("stack" + this.stackSlot)
				}
				return this.topStackName()
			},
			topStackName : function() {
				return "stack" + this.stackSlot
			},
			flushInline : function() {
				var A = this.inlineStack;
				if (A.length) {
					this.inlineStack = [];
					for (var z = 0, y = A.length; z < y; z++) {
						var B = A[z];
						if (B instanceof p) {
							this.compileStack.push(B)
						} else {
							this.pushStack(B)
						}
					}
				}
			},
			isInline : function() {
				return this.inlineStack.length
			},
			popStack : function(y) {
				var A = this.isInline(), z = (A ? this.inlineStack
						: this.compileStack).pop();
				if (!y && (z instanceof p)) {
					return z.value
				} else {
					if (!A) {
						this.stackSlot--
					}
					return z
				}
			},
			topStack : function(z) {
				var y = (this.isInline() ? this.inlineStack : this.compileStack), A = y[y.length - 1];
				if (!z && (A instanceof p)) {
					return A.value
				} else {
					return A
				}
			},
			quotedString : function(y) {
				return '"'
						+ y.replace(/\\/g, "\\\\").replace(/"/g, '\\"')
								.replace(/\n/g, "\\n").replace(/\r/g, "\\r")
								.replace(/\u2028/g, "\\u2028").replace(
										/\u2029/g, "\\u2029") + '"'
			},
			setupHelper : function(C, A, z) {
				var B = [];
				this.setupParams(C, B, z);
				var y = this.nameLookup("helpers", A, "helper");
				return {
					params : B,
					name : y,
					callParams : [ "depth0" ].concat(B).join(", "),
					helperMissingParams : z
							&& [ "depth0", this.quotedString(A) ].concat(B)
									.join(", ")
				}
			},
			setupParams : function(B, A, y) {
				var H = [], F = [], G = [], z, C, E;
				H.push("hash:" + this.popStack());
				C = this.popStack();
				E = this.popStack();
				if (E || C) {
					if (!E) {
						this.context.aliases.self = "this";
						E = "self.noop"
					}
					if (!C) {
						this.context.aliases.self = "this";
						C = "self.noop"
					}
					H.push("inverse:" + C);
					H.push("fn:" + E)
				}
				for (var D = 0; D < B; D++) {
					z = this.popStack();
					A.push(z);
					if (this.options.stringParams) {
						G.push(this.popStack());
						F.push(this.popStack())
					}
				}
				if (this.options.stringParams) {
					H.push("contexts:[" + F.join(",") + "]");
					H.push("types:[" + G.join(",") + "]");
					H.push("hashContexts:hashContexts");
					H.push("hashTypes:hashTypes")
				}
				if (this.options.data) {
					H.push("data:data")
				}
				H = "{" + H.join(",") + "}";
				if (y) {
					this.register("options", H);
					A.push("options")
				} else {
					A.push(H)
				}
				return A.join(", ")
			}
		};
		var o = ("break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield")
				.split(" ");
		var v = x.RESERVED_WORDS = {};
		for (var t = 0, q = o.length; t < q; t++) {
			v[o[t]] = true
		}
		x.isValidJavaScriptVariableName = function(y) {
			if (!x.RESERVED_WORDS[y] && /^[a-zA-Z_$][0-9a-zA-Z_$]+$/.test(y)) {
				return true
			}
			return false
		};
		w = x;
		return w
	})(j);
	var e = (function(t, x, n, q) {
		var v = {};
		var r = t;
		var p = x.parse;
		var y = n;
		var s = q;
		function u() {
		}
		v.Compiler = u;
		u.prototype = {
			compiler : u,
			disassemble : function() {
				var E = this.opcodes, D, B = [], G, F;
				for (var C = 0, z = E.length; C < z; C++) {
					D = E[C];
					if (D.opcode === "DECLARE") {
						B.push("DECLARE " + D.name + "=" + D.value)
					} else {
						G = [];
						for (var A = 0; A < D.args.length; A++) {
							F = D.args[A];
							if (typeof F === "string") {
								F = '"' + F.replace("\n", "\\n") + '"'
							}
							G.push(F)
						}
						B.push(D.opcode + " " + G.join(" "))
					}
				}
				return B.join("\n")
			},
			equals : function(A) {
				var z = this.opcodes.length;
				if (A.opcodes.length !== z) {
					return false
				}
				for (var D = 0; D < z; D++) {
					var E = this.opcodes[D], B = A.opcodes[D];
					if (E.opcode !== B.opcode
							|| E.args.length !== B.args.length) {
						return false
					}
					for (var C = 0; C < E.args.length; C++) {
						if (E.args[C] !== B.args[C]) {
							return false
						}
					}
				}
				z = this.children.length;
				if (A.children.length !== z) {
					return false
				}
				for (D = 0; D < z; D++) {
					if (!this.children[D].equals(A.children[D])) {
						return false
					}
				}
				return true
			},
			guid : 0,
			compile : function(z, B) {
				this.opcodes = [];
				this.children = [];
				this.depths = {
					list : []
				};
				this.options = B;
				var C = this.options.knownHelpers;
				this.options.knownHelpers = {
					helperMissing : true,
					blockHelperMissing : true,
					each : true,
					"if" : true,
					unless : true,
					"with" : true,
					log : true
				};
				if (C) {
					for ( var A in C) {
						this.options.knownHelpers[A] = C[A]
					}
				}
				return this.accept(z)
			},
			accept : function(B) {
				var A = B.strip || {}, z;
				if (A.left) {
					this.opcode("strip")
				}
				z = this[B.type](B);
				if (A.right) {
					this.opcode("strip")
				}
				return z
			},
			program : function(B) {
				var A = B.statements;
				for (var C = 0, z = A.length; C < z; C++) {
					this.accept(A[C])
				}
				this.isSimple = z === 1;
				this.depths.list = this.depths.list.sort(function(E, D) {
					return E - D
				});
				return this
			},
			compileProgram : function(B) {
				var z = new this.compiler().compile(B, this.options);
				var C = this.guid++, E;
				this.usePartial = this.usePartial || z.usePartial;
				this.children[C] = z;
				for (var D = 0, A = z.depths.list.length; D < A; D++) {
					E = z.depths.list[D];
					if (E < 2) {
						continue
					} else {
						this.addDepth(E - 1)
					}
				}
				return C
			},
			block : function(D) {
				var C = D.mustache, A = D.program, z = D.inverse;
				if (A) {
					A = this.compileProgram(A)
				}
				if (z) {
					z = this.compileProgram(z)
				}
				var B = this.classifyMustache(C);
				if (B === "helper") {
					this.helperMustache(C, A, z)
				} else {
					if (B === "simple") {
						this.simpleMustache(C);
						this.opcode("pushProgram", A);
						this.opcode("pushProgram", z);
						this.opcode("emptyHash");
						this.opcode("blockValue")
					} else {
						this.ambiguousMustache(C, A, z);
						this.opcode("pushProgram", A);
						this.opcode("pushProgram", z);
						this.opcode("emptyHash");
						this.opcode("ambiguousBlockValue")
					}
				}
				this.opcode("append")
			},
			hash : function(C) {
				var B = C.pairs, E, D;
				this.opcode("pushHash");
				for (var A = 0, z = B.length; A < z; A++) {
					E = B[A];
					D = E[1];
					if (this.options.stringParams) {
						if (D.depth) {
							this.addDepth(D.depth)
						}
						this.opcode("getContext", D.depth || 0);
						this.opcode("pushStringParam", D.stringModeValue,
								D.type)
					} else {
						this.accept(D)
					}
					this.opcode("assignToHash", E[0])
				}
				this.opcode("popHash")
			},
			partial : function(z) {
				var A = z.partialName;
				this.usePartial = true;
				if (z.context) {
					this.ID(z.context)
				} else {
					this.opcode("push", "depth0")
				}
				this.opcode("invokePartial", A.name);
				this.opcode("append")
			},
			content : function(z) {
				this.opcode("appendContent", z.string)
			},
			mustache : function(B) {
				var z = this.options;
				var A = this.classifyMustache(B);
				if (A === "simple") {
					this.simpleMustache(B)
				} else {
					if (A === "helper") {
						this.helperMustache(B)
					} else {
						this.ambiguousMustache(B)
					}
				}
				if (B.escaped && !z.noEscape) {
					this.opcode("appendEscaped")
				} else {
					this.opcode("append")
				}
			},
			ambiguousMustache : function(D, B, A) {
				var E = D.id, C = E.parts[0], z = B != null || A != null;
				this.opcode("getContext", E.depth);
				this.opcode("pushProgram", B);
				this.opcode("pushProgram", A);
				this.opcode("invokeAmbiguous", C, z)
			},
			simpleMustache : function(z) {
				var A = z.id;
				if (A.type === "DATA") {
					this.DATA(A)
				} else {
					if (A.parts.length) {
						this.ID(A)
					} else {
						this.addDepth(A.depth);
						this.opcode("getContext", A.depth);
						this.opcode("pushContext")
					}
				}
				this.opcode("resolvePossibleLambda")
			},
			helperMustache : function(C, A, z) {
				var D = this.setupFullMustacheParams(C, A, z), B = C.id.parts[0];
				if (this.options.knownHelpers[B]) {
					this.opcode("invokeKnownHelper", D.length, B)
				} else {
					if (this.options.knownHelpersOnly) {
						throw new Error(
								"You specified knownHelpersOnly, but used the unknown helper "
										+ B)
					} else {
						this.opcode("invokeHelper", D.length, B)
					}
				}
			},
			ID : function(C) {
				this.addDepth(C.depth);
				this.opcode("getContext", C.depth);
				var A = C.parts[0];
				if (!A) {
					this.opcode("pushContext")
				} else {
					this.opcode("lookupOnContext", C.parts[0])
				}
				for (var B = 1, z = C.parts.length; B < z; B++) {
					this.opcode("lookup", C.parts[B])
				}
			},
			DATA : function(B) {
				this.options.data = true;
				if (B.id.isScoped || B.id.depth) {
					throw new r("Scoped data references are not supported: "
							+ B.original)
				}
				this.opcode("lookupData");
				var C = B.id.parts;
				for (var A = 0, z = C.length; A < z; A++) {
					this.opcode("lookup", C[A])
				}
			},
			STRING : function(z) {
				this.opcode("pushString", z.string)
			},
			INTEGER : function(z) {
				this.opcode("pushLiteral", z.integer)
			},
			BOOLEAN : function(z) {
				this.opcode("pushLiteral", z.bool)
			},
			comment : function() {
			},
			opcode : function(z) {
				this.opcodes.push({
					opcode : z,
					args : [].slice.call(arguments, 1)
				})
			},
			declare : function(z, A) {
				this.opcodes.push({
					opcode : "DECLARE",
					name : z,
					value : A
				})
			},
			addDepth : function(z) {
				if (isNaN(z)) {
					throw new Error("EWOT")
				}
				if (z === 0) {
					return
				}
				if (!this.depths[z]) {
					this.depths[z] = true;
					this.depths.list.push(z)
				}
			},
			classifyMustache : function(C) {
				var B = C.isHelper;
				var D = C.eligibleHelper;
				var A = this.options;
				if (D && !B) {
					var z = C.id.parts[0];
					if (A.knownHelpers[z]) {
						B = true
					} else {
						if (A.knownHelpersOnly) {
							D = false
						}
					}
				}
				if (B) {
					return "helper"
				} else {
					if (D) {
						return "ambiguous"
					} else {
						return "simple"
					}
				}
			},
			pushParams : function(B) {
				var z = B.length, A;
				while (z--) {
					A = B[z];
					if (this.options.stringParams) {
						if (A.depth) {
							this.addDepth(A.depth)
						}
						this.opcode("getContext", A.depth || 0);
						this.opcode("pushStringParam", A.stringModeValue,
								A.type)
					} else {
						this[A.type](A)
					}
				}
			},
			setupMustacheParams : function(z) {
				var A = z.params;
				this.pushParams(A);
				if (z.hash) {
					this.hash(z.hash)
				} else {
					this.opcode("emptyHash")
				}
				return A
			},
			setupFullMustacheParams : function(B, A, z) {
				var C = B.params;
				this.pushParams(C);
				this.opcode("pushProgram", A);
				this.opcode("pushProgram", z);
				if (B.hash) {
					this.hash(B.hash)
				} else {
					this.opcode("emptyHash")
				}
				return C
			}
		};
		function o(B, C) {
			if (B == null
					|| (typeof B !== "string" && B.constructor !== s.ProgramNode)) {
				throw new r(
						"You must pass a string or Handlebars AST to Handlebars.precompile. You passed "
								+ B)
			}
			C = C || {};
			if (!("data" in C)) {
				C.data = true
			}
			var A = p(B);
			var z = new u().compile(A, C);
			return new y().compile(z, C)
		}
		v.precompile = o;
		function w(z, A, B) {
			if (z == null
					|| (typeof z !== "string" && z.constructor !== s.ProgramNode)) {
				throw new r(
						"You must pass a string or Handlebars AST to Handlebars.compile. You passed "
								+ z)
			}
			A = A || {};
			if (!("data" in A)) {
				A.data = true
			}
			var D;
			function C() {
				var G = p(z);
				var F = new u().compile(G, A);
				var E = new y().compile(F, A, undefined, true);
				return B.template(E)
			}
			return function(F, E) {
				if (!D) {
					D = C()
				}
				return D.call(this, F, E)
			}
		}
		v.compile = w;
		return v
	})(d, m, h, k);
	var c = (function(w, B, o, s, v) {
		var y;
		var n = w;
		var u = B;
		var r = o.parser;
		var q = o.parse;
		var x = s.Compiler;
		var A = s.compile;
		var p = s.precompile;
		var C = v;
		var z = n.create;
		var t = function() {
			var D = z();
			D.compile = function(E, F) {
				return A(E, F, D)
			};
			D.precompile = p;
			D.AST = u;
			D.Compiler = x;
			D.JavaScriptCompiler = C;
			D.Parser = r;
			D.parse = q;
			return D
		};
		n = t();
		n.create = t;
		y = n;
		return y
	})(f, k, m, e, h);
	return c
})();
var docCookie = {
	getItem : function(a) {
		return decodeURIComponent(document.cookie.replace(new RegExp(
				"(?:(?:^|.*;)\\s*"
						+ encodeURIComponent(a).replace(/[\-\.\+\*]/g, "\\$&")
						+ "\\s*\\=\\s*([^;]*).*$)|^.*$"), "$1"))
				|| null
	},
	setItem : function(d, g, c, b, a, e) {
		if (!d || /^(?:expires|max\-age|path|domain|secure)$/i.test(d)) {
			return false
		}
		var f = "";
		if (c) {
			switch (c.constructor) {
			case Number:
				f = c === Infinity ? "; expires=Fri, 31 Dec 9999 23:59:59 GMT"
						: "; max-age=" + c;
				break;
			case String:
				f = "; expires=" + c;
				break;
			case Date:
				f = "; expires=" + c.toUTCString();
				break
			}
		}
		document.cookie = encodeURIComponent(d) + "=" + encodeURIComponent(g)
				+ f + (a ? "; domain=" + a : "") + (b ? "; path=" + b : "")
				+ (e ? "; secure" : "");
		return true
	},
	removeItem : function(c, b, a) {
		if (!c || !this.hasItem(c)) {
			return false
		}
		document.cookie = encodeURIComponent(c)
				+ "=; expires=Thu, 01 Jan 1970 00:00:00 GMT"
				+ (a ? "; domain=" + a : "") + (b ? "; path=" + b : "");
		return true
	},
	hasItem : function(a) {
		return (new RegExp("(?:^|;\\s*)"
				+ encodeURIComponent(a).replace(/[\-\.\+\*]/g, "\\$&")
				+ "\\s*\\=")).test(document.cookie)
	},
	keys : function() {
		var a = document.cookie.replace(
				/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g, "")
				.split(/\s*(?:\=[^;]*)?;\s*/);
		for (var b = 0; b < a.length; b++) {
			a[b] = decodeURIComponent(a[b])
		}
		return a
	}
};
jQuery.notifyBar = function(a) {
	(function(c) {
		var b = notifyBarNS = {};
		notifyBarNS.shown = false;
		if (!a) {
			a = {}
		}
		notifyBarNS.html = a.html || "Your message here";
		notifyBarNS.delay = a.delay || 2000;
		notifyBarNS.animationSpeed = a.animationSpeed || 200;
		notifyBarNS.jqObject = a.jqObject;
		notifyBarNS.cls = a.cls || "";
		notifyBarNS.close = a.close || false;
		if (notifyBarNS.jqObject) {
			b = notifyBarNS.jqObject;
			notifyBarNS.html = b.html()
		} else {
			b = jQuery("<div></div>").addClass("jquery-notify-bar").addClass(
					notifyBarNS.cls).attr("id", "__notifyBar")
		}
		b.html(notifyBarNS.html).hide();
		var d = b.attr("id");
		switch (notifyBarNS.animationSpeed) {
		case "slow":
			asTime = 600;
			break;
		case "normal":
			asTime = 400;
			break;
		case "fast":
			asTime = 200;
			break;
		default:
			asTime = notifyBarNS.animationSpeed;
			break
		}
		if (b != "object") {
			jQuery("body").prepend(b)
		}
		if (notifyBarNS.close) {
			b
					.append(jQuery("<a href='#' class='notify-bar-close'>Close [X]</a>"));
			jQuery(".notify-bar-close").click(function() {
				if (b.attr("id") == "__notifyBar") {
					jQuery("#" + d).slideUp(asTime, function() {
						jQuery("#" + d).remove()
					})
				} else {
					jQuery("#" + d).slideUp(asTime)
				}
				return false
			})
		}
		if (c(".jquery-notify-bar:visible").length > 0) {
			c(".jquery-notify-bar:visible").stop().slideUp(asTime, function() {
				b.stop().slideDown(asTime)
			})
		} else {
			b.slideDown(asTime)
		}
		b.click(function() {
			c(this).slideUp(asTime)
		});
		if (b.attr("id") == "__notifyBar") {
			setTimeout("jQuery('#" + d + "').stop().slideUp(" + asTime
					+ ", function() {jQuery('#" + d + "').remove()});",
					notifyBarNS.delay + asTime)
		} else {
			setTimeout("jQuery('#" + d + "').stop().slideUp(" + asTime
					+ ", function() {jQuery('#" + d + "')});",
					notifyBarNS.delay + asTime)
		}
	})(jQuery)
};
function LocationDropdown(a) {
	this.LocationId = a;
	this.placeholder = this.LocationId.children().children("span");
	this.opts = this.LocationId.find(".uiv2-location-dropdown ul > li");
	this.val = "";
	this.index = -1;
	this.initEvents()
}
LocationDropdown.prototype = {
	initEvents : function() {
		var a = this;
		a.LocationId.on("click", function(b) {
			$(this).toggleClass("active");
			return false
		});
		a.opts.on("click", function() {
			var b = $(".uiv2-loc-wrapper span").html();
			var c = $(this);
			a.val = c.text();
			a.index = c.index();
			a.placeholder.text(a.val);
			$("#" + $(this).attr("id") + " a").html(b)
		})
	},
	getValue : function() {
		return this.val
	},
	getIndex : function() {
		return this.index
	}
};
/*$(function() {
	var a = new LocationDropdown($("#uiv2-location-id"));
	$(document).click(function() {
		$(".uiv2-location").removeClass("active")
	});
	$(".uiv2-remove-row").click(function() {
		$(this).closest("div.uiv2-row").slideUp(300, function() {
			$(this).remove()
		})
	});
	$(".uiv2-top-close-icon").click(function() {
		$(this).closest(".uiv2-didyouforgot-box").fadeOut(300, function() {
			$(this).remove()
		})
	});
	$(".uiv2-tab-refine-by a").click(function() {
		$(this).closest(".uiv2-tab-refine-by").fadeOut(300, function() {
			$(this).remove()
		})
	});
	$(".uiv2-tab-brands-cookup a").click(function() {
		$(this).closest(".uiv2-tab-brands-cookup").fadeOut(300, function() {
			$(this).remove()
		})
	});
	$(".uiv2-tab-clear-all a").click(function() {
		$(this).closest(".uiv2-sku-tab-section").fadeOut(300, function() {
			$(this).remove()
		})
	});
	$(".uiv2-myshoping-minus").click(function() {
		if ($(this).hasClass("uiv2-plus-open")) {
			$(".uiv2-my-shoppinglist-wrapper").slideDown(300);
			$(this).removeClass("uiv2-plus-open")
		} else {
			$(".uiv2-my-shoppinglist-wrapper").slideUp(300);
			$(this).addClass("uiv2-plus-open")
		}
	})
});*/
/*$(function() {
	$("li.uiv2-submenu").hover(function() {
		$(".uiv2-fruits-vegetables-bg").addClass("active")
	}, function() {
		$(".uiv2-fruits-vegetables-bg").removeClass("active")
	});
	var d = $(".backgroundShade");
	var c = $(document).width();
	var a = $(document).height();
	d.height(a);
	d.width(c);
	$(".uiv2-why-location").click(function() {
		$(".uiv2-background-shade, .uiv2-location-popup").fadeIn("slow")
	});
	$(".uiv2-popup-close").click(function() {
		$(".uiv2-background-shade, .uiv2-location-popup").fadeOut("slow")
	});
	$(".uiv2-closebtn").click(function() {
		$(".uiv2-would-you-like-banner").animate({
			opacity : 0,
			height : 0
		}, 500, function() {
			$(".uiv2-would-you-like-banner").hide()
		})
	});
	var b = $(".uiv2-supermarket-readmore");
	b.click(function() {
		if (b.css("display") == "none") {
			$(this).text("less");
			b.slideDown()
		} else {
			$(this).text("read more >");
			b.slideUp()
		}
	});
	$("input, textarea").placeholder()
});
$(function() {
	jQuery(".uiv2-title-tooltip a").each(function() {
		if (jQuery(this).text().length > 40) {
			jQuery(this).text(jQuery(this).text().substr(0, 40) + " ...")
		}
	})
});
$(function() {
	$(".parentchild").dropkick(dropkick_change);
	$(".id_psort").dropkick(dropkick_sort_change);
	set_dropkick_width()
});*/
/*function set_dropkick_width() {
	var a = $(".dk_options_inner li a");
	for (var b = 0; b < a.length; b++) {
		if (a[b].text != undefined) {
			if ((a[b].text.length > 32) && (a[b].text.length < 45)) {
				$(a[b]).parents('div[class^="dk_container"]').addClass(
						"parentchild-big")
			}
			if (a[b].text.length > 45) {
				$(a[b]).parents('div[class^="dk_container"]').addClass(
						"parentchild-biggest")
			}
			if (a[b].text.indexOf("Out of Stock") >= 0) {
				$(a[b]).addClass("linethrough")
			}
		}
	}
}*/
/*jQuery.extend({
	highlight : function(a, j, g, f) {
		if (a.nodeType === 3) {
			var d = a.data.match(j);
			if (d) {
				var b = document.createElement(g || "span");
				b.className = f || "highlight";
				var h = a.splitText(d.index);
				h.splitText(d[0].length);
				var e = h.cloneNode(true);
				b.appendChild(e);
				h.parentNode.replaceChild(b, h);
				return 1
			}
		} else {
			if ((a.nodeType === 1 && a.childNodes)
					&& !/(script|style)/i.test(a.tagName)
					&& !(a.tagName === g.toUpperCase() && a.className === f)) {
				for (var c = 0; c < a.childNodes.length; c++) {
					c += jQuery.highlight(a.childNodes[c], j, g, f)
				}
			}
		}
		return 0
	}
});*/
/*jQuery.fn.unhighlight = function(a) {
	var b = {
		className : "highlight",
		element : "span"
	};
	jQuery.extend(b, a);
	return this.find(b.element + "." + b.className).each(function() {
		var c = this.parentNode;
		c.replaceChild(this.firstChild, this);
		c.normalize()
	}).end()
};*/
/*jQuery.fn.highlight = function(f, b) {
	var d = {
		className : "highlight",
		element : "span",
		caseSensitive : false,
		wordsOnly : false
	};
	jQuery.extend(d, b);
	if (f.constructor === String) {
		f = [ f ]
	}
	f = jQuery.grep(f, function(h, g) {
		return h != ""
	});
	f = jQuery.map(f, function(h, g) {
		return h.replace(/[-[\]{}()*+?.,\\^$|#\s]/g, "\\$&")
	});
	if (f.length == 0) {
		return this
	}
	var a = d.caseSensitive ? "" : "i";
	var e = "(" + f.join("|") + ")";
	if (d.wordsOnly) {
		e = "\\b" + e + "\\b"
	}
	var c = new RegExp(e, a);
	return this.each(function() {
		jQuery.highlight(this, c, d.element, d.className)
	})
};*/
/*(function(a) {
	a.fn.typeWatch = function(e) {
		var c = [ "TEXT", "TEXTAREA", "PASSWORD", "TEL", "SEARCH", "URL",
				"EMAIL", "DATETIME", "DATE", "MONTH", "WEEK", "TIME",
				"DATETIME-LOCAL", "NUMBER", "RANGE" ];
		var b = a.extend({
			wait : 750,
			callback : function() {
			},
			highlight : true,
			captureLength : 2,
			inputTypes : c
		}, e);
		function d(j, g) {
			var h = a(j.el).val();
			if ((h.length >= b.captureLength && h.toUpperCase() != j.text)
					|| (g && h.length >= b.captureLength)) {
				j.text = h.toUpperCase();
				j.cb.call(j.el, h)
			}
		}
		function f(j) {
			var g = j.type.toUpperCase();
			if (a.inArray(g, b.inputTypes) >= 0) {
				var k = {
					timer : null,
					text : a(j).val().toUpperCase(),
					cb : b.callback,
					el : j,
					wait : b.wait
				};
				if (b.highlight) {
					a(j).focus(function() {
						this.select()
					})
				}
				var h = function(l) {
					var p = k.wait;
					var o = false;
					var n = this.type.toUpperCase();
					if (typeof l.keyCode != "undefined" && l.keyCode == 13
							&& n != "TEXTAREA"
							&& a.inArray(n, b.inputTypes) >= 0) {
						p = 1;
						o = true
					}
					var m = function() {
						d(k, o)
					};
					clearTimeout(k.timer);
					k.timer = setTimeout(m, p)
				};
				a(j).on("keydown paste cut input", h)
			}
		}
		return this.each(function() {
			f(this)
		})
	}
})(jQuery);*/

/*Number.prototype.formatMoney = function(e, g, b) {
	var f = this, e = isNaN(e = Math.abs(e)) ? 2 : e, b = b == undefined ? "."
			: b, g = g == undefined ? "," : g, a = f < 0 ? "-" : "", d = parseInt(f = Math
			.abs(+f || 0).toFixed(e))
			+ "", c = (c = d.length) > 3 ? c % 3 : 0;
	return a + (c ? d.substr(0, c) + g : "")
			+ d.substr(c).replace(/(\d{3})(?=\d)/g, "$1" + g)
			+ (e ? b + Math.abs(f - d).toFixed(e).slice(2) : "")
};
var delivery_slots_data = null;
var auto_complete_areas = [];
var main_menu_clicked = false;
function uiv2_show_popup(b) {
	var a = $("#" + b);
	var f = $(document).width();
	var c = $(document).height();
	var d = $(".uiv2-background-shade");
	d.height(c);
	d.width(f);
	a.fadeIn("slow");
	d.fadeIn("slow");
	$(".uiv2-popupclose").click(function() {
		uiv2_hide_popup(b)
	});
	$(document).keyup(function(g) {
		if (g.keyCode == 27) {
			uiv2_hide_popup(b)
		}
	});
	$(".uiv2-popup-wrapper").height(a.height());
	if (b == "uiv2-new-address-form") {
		init_newaddress_autocomplete()
	}
}
var _gaq = {
	push : function(b) {
		var e = b[0];
		if (e == "_trackEvent") {
			var c = b[1];
			var d = b[2];
			var f = b[3];
			var a = b[4];
			if (a) {
				ga("send", "event", c, d, f, a, {
					nonInteraction : 1
				})
			} else {
				ga("send", "event", c, d, f, {
					nonInteraction : 1
				})
			}
		}
		if (e == "_addTrans") {
			ga("ecommerce:addTransaction", {
				id : b[1],
				affiliation : "BigBasket.com",
				revenue : b[3],
				shipping : b[5],
				tax : b[4]
			});
			ga("ecommerce:send")
		}
		if (e == "_addItem") {
			ga("ecommerce:addItem", {
				id : b[1],
				name : b[3],
				sku : b[2],
				category : b[4],
				price : b[5],
				quantity : b[6]
			});
			ga("ecommerce:send")
		}
	}
};
function init_autocomplete_areas(a) {
	auto_complete_areas = a
}
function init_newaddress_autocomplete() {
	var a = $("#id_contact_area");
	area_autocomplete = a.autocomplete({
		source : function(c, b) {
			var d = $.map(auto_complete_areas, function(e) {
				if (e.toUpperCase().indexOf(c.term.toUpperCase()) === 0) {
					return e
				}
			});
			b(d)
		}
	});
	a.focusout(function() {
		var b = $("#id_contact_area").val();
		if (b != "") {
			$.ajax({
				url : "/member/get-pincode/?area=" + b,
				type : "get",
				dataType : "json",
				success : function(c) {
					$("#id_contact_zipcode").val(c.pincode)
				}
			})
		}
	})
}
function uiv2_hide_popup(b) {
	var a = $("#" + b);
	var c = $(".uiv2-background-shade");
	a.fadeOut("slow");
	c.fadeOut("slow");
	$(".uiv2-location").show()
}
function uiv2_show_small_popup(a, b) {
	$("#" + a).hover(function() {
		$("#" + b).toggle()
	})
}
function edit_address(a) {
	url = "/member/get-edit-address-form/" + a + "/";
	$.ajax({
		url : url,
		type : "get",
		data : {},
		success : function(b) {
			$("#uiv2-edit-address-form").html(b.edit_form);
			uiv2_show_popup("uiv2-edit-address-form");
			$("#frmEditAddress").attr("action", url)
		}
	})
}*/
/*function init_edit_address_submit() {
	$("#frmEditAddress").submit(
			function() {
				$(".uiv2-example-r").html();
				$.ajax({
					data : $(this).serialize(),
					type : $(this).attr("method"),
					url : $(this).attr("action"),
					dataType : "json",
					success : function(a) {
						if (a.success == true) {
							$(".uiv2-popup").hide();
							$("#shadow-mask").hide();
							uiv2_hide_popup("uiv2-edit-address-form");
							$.ajax({
								url : "/member/get-all-addresses/",
								type : "get",
								data : {},
								success : function(d) {
									$("#uiv2-address-book").html(d.addresses)
								}
							})
						} else {
							var c = a.errors;
							var b = a.memberaddress_id;
							for (error in c) {
								$("#edit_" + b + "_error_" + error).html(
										c[error])
							}
						}
					},
					error : function(c, a, b) {
						$(".uiv2-address-error").html(
								"An error occurred. Please try again.")
					}
				});
				return false
			})
}
function submit_edit_address() {
	init_edit_address_submit();
	$("#frmEditAddress").submit()
}
var autosearch_template = "";
var cartitems_template = "";
var max_qty = 25;
var static_url = "";
var last_add_prod = null;
var csrf = "";
var autosearch_results = 0;
var AUTO_SEARCH_LIMIT = 20;
var num_items_in_basket = 0;
var ganalytics = false;
var bb_analytics = false;
var cart_changed = true;
var shoppinglist_click_state = false;
var current = null;
var shoppinglist_create_state = false;
var shoppinglist_copy_state = false;
var number_of_items = 0;
var checkout_clicked = false;
var scratch_list_edited = false;
var set_help = "";*/
/*var ADD_TO_CART_SOURCES = {
	AUTO_SEARCH : "auto-search",
	DYF : "dyf",
	PD : "pd",
	PD_ALSO_BOUGHT : "pd-ab",
	PD_REL_CAT_PROD : "pd-cat",
	PD_TOP_LEVEL_CAT : "pd-tlc",
	PD_REL_BRAND : "pd-brand",
	PD_STORE : "pd-offers",
	UPDATE_QTY : "update_qty",
	PROMO_BUNDLE : "promo_bundle",
	PROMO_POPUP : "promo_popup"
};*/
/*var BBUtils = {
	range : function(e, c, d) {
		if (typeof c == "undefined") {
			c = e;
			e = 0
		}
		if (typeof d == "undefined") {
			d = 1
		}
		if ((d > 0 && e >= c) || (d < 0 && e <= c)) {
			return []
		}
		var a = [];
		for (var b = e; d > 0 ? b < c : b > c; b += d) {
			a.push(b)
		}
		return a
	},
	chunkify : function(d, c) {
		var b = [];
		for (var a = 0; a < d.length; a += c) {
			b.push(d.slice(a, a + c))
		}
		return b
	},
	toInt : function(a) {
		return a > 0 ? Math.floor(a) : Math.ceil(a)
	},
	join_on : function(d, a, c) {
		if (d && d.length > a) {
			var b = this.chunkify(d, a);
			return b.join(c)
		}
		return d
	},
	column_major_chunks : function(f, b) {
		var e = this.chunkify(f, b);
		var a = [];
		for (var d = 0; d < e.length; d++) {
			for (var c = 0; c < e[d].length; c++) {
				if (!a[c]) {
					a[c] = []
				}
				a[c][d] = e[d][c]
			}
		}
		return a
	},
	is_touch_device : function() {
		return "ontouchstart" in document.documentElement
	},
	initLoginButton : function(a) {
		var b = window.location.pathname;
		var c = a;
		if (b) {
			c += "?next=" + encodeURIComponent(b + window.location.search)
		}
		window.location.href = c
	},
	ieVersion : (function() {
		var c, a = 3, d = document.createElement("div"), b = d
				.getElementsByTagName("i");
		while (
				d.innerHTML = "<!--[if gt IE " + (++a)
						+ "]><i></i><![endif]-->", b[0]) {
		}
		return a > 4 ? a : c
	}()),
	showIEPopupIfApplicable : function() {
		if (this.ieVersion < 9 && !docCookie.hasItem("_bb_ie")) {
			$("#id_browser_support, .uiv2-background-shade").fadeIn("slow");
			docCookie.setItem("_bb_ie", "shown", 15552000)
		}
	},
	getObjPropertyName : function(b, a) {
		for ( var c in b) {
			if (b.hasOwnProperty(c) && b[c] === a) {
				return c
			}
		}
	}
};*/
/*jQuery.fn.extend({
	colorTable : function() {
		var a = "#" + this.attr("id") + " tbody tr";
		$(a).each(function(c, b) {
			$(b).removeClass("dark");
			if (c % 2 != 0) {
				$(b).addClass("dark")
			}
		})
	},
	banner_resize : function(b, a, c) {
		$(this).find(b).each(function(d, h) {
			var j = $(h);
			var e = j.children("img").width();
			var g = j.width();
			var f = g - e - (c ? c : 0);
			j.children(a).css("width", f + "px")
		})
	},
	exists : function() {
		return this && this.length !== 0
	}
});*/


/*(function(a) {
	a.QueryString = (function(d) {
		if (d == "") {
			return {}
		}
		var c = {};
		for (var e = 0; e < d.length; ++e) {
			var f = d[e].split("=");
			if (f.length != 2) {
				continue
			}
			c[f[0]] = decodeURIComponent(f[1].replace(/\+/g, " "))
		}
		return c
	})(window.location.search.substr(1).split("&"))
})(jQuery);*/
/*var TouchHandler = {
	init : function() {
		if (!BBUtils.is_touch_device()) {
			document.documentElement.className += " no-touch"
		} else {
			document.documentElement.className += " touch";
			if (docCookie.hasItem("is_touch")) {
				var b = docCookie.getItem("is_touch");
				if (b !== "true") {
					this.requestTopMenu()
				} else {
					this.initTopMenu()
				}
			} else {
				this.requestTopMenu()
			}
			var a = $("#id_top_menu_banner");
			this.addToHoverHandler(a, $(".uiv2-newbasket-dropdown"));
			this.addToHoverHandler(a, $(".uiv2-latest-basket-dropdown"));
			this.addToHoverHandler($(".uiv2-deliveryslot-link"),
					$(".uiv2-deliveryslot-dropdown"));
			this.addToHoverHandler($(".uiv2-login"),
					$(".uiv2-login-dropdown-block"));
			this.addToHoverHandler($(".uiv2-loggedin-user-link"),
					$(".uiv2-loggedin-user-dropdown"));
			this.addToHoverHandlerAndOnlyHide($(".uiv2-search"),
					$(".uiv2-search-dropdown-block"), true);
			this.addToHoverHandler($(".uiv2-your-basket"),
					$(".uiv2-your-basket-dropdown"));
			this.addToHoverHandler($(".uiv2-offers-link"),
					$(".uiv2-offers-dropdown"));
			this.addToHoverHandler($(".uiv2-new-arrivals-link"),
					$(".uiv2-new-arrivals-dropdown"));
			this.addToHoverHandler($(".uiv2-shop-link"),
					$(".uiv2-shop-dropdown"));
			this.addToHoverHandler($(".uiv2-shop-by-list-link"),
					$(".uiv2-shop-by-list-dropdown"));
			this.handleHover()
		}
	},
	requestTopMenu : function() {
		var a = this;
		$.ajax({
			url : "/product/touch-menu/",
			type : "get",
			success : function(c) {
				if (c.success) {
					console.log("Setting touch cookie");
					docCookie.setItem("is_touch", "true");
					var b = c.menu;
					if (b) {
						console.log("Replacing Menu");
						$("#uiv2-main-menu").html(b);
						a.initTopMenu()
					}
				}
			},
			error : function() {
				console.log("An error occurred when requesting top menu")
			}
		})
	},
	_hideAll : function(a, b) {
		a.each(function(c, e) {
			var f = $(e);
			var g = $(f.find("div.top-category-link"));
			if (g.get(0) != b.get(0)) {
				var d = $(f.find(".uiv2-dropdown-box"));
				g.removeClass("hover");
				d.hide()
			}
		})
	},
	_hideAllL3Categories : function(a, b) {
		a.each(function(c, f) {
			var d = $(f);
			var e = d.find(".uiv2-sub-dropdown-column");
			if (d.get(0) != b.get(0)) {
				d.removeClass("hover");
				e.hide()
			}
		})
	},
	initTopMenu : function() {
		var b = $("nav ul li.top-category");
		var a = this;
		b.each(function(c, g) {
			var f = $(g);
			var h = $(f.find("div.top-category-link"));
			var e = $(f.find(".uiv2-dropdown-box"));
			h.on("touchend", function(j) {
				a._hideAll(b, h);
				j.preventDefault();
				if (e.is(":visible")) {
					h.removeClass("hover");
					e.hide()
				} else {
					h.addClass("hover");
					e.show()
				}
			});
			var d = $(e.find("li.uiv2-submenu"));
			d.each(function(j, m) {
				var l = $(m);
				var k = "l3-link";
				l.on("touchend", function(n) {
					if ($(n.target).hasClass(k)) {
						return
					}
					a._hideAllL3Categories(d, l);
					n.preventDefault();
					var o = l.find(".uiv2-sub-dropdown-column");
					if (o.is(":visible")) {
						l.removeClass("hover");
						o.hide()
					} else {
						l.addClass("hover");
						o.show()
					}
				})
			})
		})
	},
	addToHoverHandlerAndOnlyHide : function(b, c, a) {
		this._addToHoverHandler(b, c, {
			onlyHide : a
		})
	},
	addToHoverHandler : function(a, b) {
		this._addToHoverHandler(a, b, {})
	},
	_addToHoverHandler : function(b, c, a) {
		if (b.exists()) {
			this._hoverHandlerList.push({
				parent : b,
				child : c,
				onlyHide : a.onlyHide
			})
		}
	},
	_hoverHandlerList : [],
	handleHover : function() {
		var a = this;
		$(document).on("touchend", function(k) {
			var h = $(k.target);
			var j = $(".uiv2-left-navigation");
			var c = $("#uiv2-main-menu").find(".uiv2-dropdown-box");
			if (c.is(":visible") && !j.find(h).exists()) {
				c.hide();
				$(".top-category-link").removeClass("hover")
			}
			for ( var f in a._hoverHandlerList) {
				var l = a._hoverHandlerList[f]["parent"];
				var b = a._hoverHandlerList[f]["child"];
				var d = a._hoverHandlerList[f]["onlyHide"];
				var g = h.get(0) == l.get(0) || l.find(h).exists();
				if (!g) {
					if (b.is(":visible")) {
						b.hide()
					}
				} else {
					if (!d) {
						if (!b.is(":visible")) {
							b.show()
						}
					}
				}
			}
		})
	}
};*/
/*var MessageView = {
	error : function(a) {
		this._showMsg(a, "error")
	},
	success : function(a) {
		this._showMsg(a, "success")
	},
	_showMsg : function(a, c) {
		var b = "<ul class='messagelist'><li class='" + c + "'>" + a
				+ "</li></ul>";
		$(".sysMessage").html(b)
	},
	hide : function() {
		$(".sysMessage").html("")
	}
};*/
/*function LoginHandler(c, d, a, e, f, b, g) {
	this.url = c;
	this.emailWidget = d;
	this.passwordWidget = a;
	this.errorViewContainer = e;
	this.errorTxt = this.errorViewContainer.find(".uiv2-err-text");
	this.loginBtn = f;
	this.resetBtn = b;
	this.loginContainer = g;
	this.init = function() {
		var h = this;
		this.loginContainer.on("keyup", function(j) {
			if (j.which == 13 || j.keyCode == 13) {
				h.login()
			}
		});
		this.loginBtn.click(function() {
			h.login()
		});
		this.resetBtn.click(function() {
			h.reset()
		})
	};
	this.reset = function() {
		this.emailWidget.val("");
		this.passwordWidget.val("");
		this.errorTxt.html("");
		this.errorViewContainer.hide()
	};
	this._showErrMsg = function(h) {
		this.errorViewContainer.show();
		this.errorTxt.text(h)
	};
	this._isValid = function(j, h) {
		if (!j) {
			this._showErrMsg("Email can't be empty");
			return false
		}
		if (!h) {
			this._showErrMsg("Password can't be empty");
			return false
		}
		var k = this.emailWidget.get(0);
		if (k && k.validity && !k.validity.valid) {
			this._showErrMsg("Please enter a valid email address");
			return false
		}
		return true
	};
	this._disableLoginButton = function() {
		this.loginBtn.attr("disabled", "disabled");
		this.loginBtn.val("Please wait...");
		$(".uiv2-login-button-block").css("width", "77%")
	};
	this._enableLoginButton = function() {
		this.loginBtn.removeAttr("disabled");
		this.loginBtn.val("LOGIN");
		$(".uiv2-login-button-block").css("width", "72%")
	};
	this.urlJoin = function(j, h) {
		if (h.indexOf("/") == 0) {
			return j + h
		}
		return j + "/" + h
	};
	this.login = function() {
		this.errorTxt.html("");
		this._disableLoginButton();
		var k = $.trim(this.emailWidget.val());
		var h = this.passwordWidget.val();
		var o = this;
		var m = "//" + window.location.host;
		var j = m + this.url;
		var n = {
			is_ajax : "true",
			email : k,
			password : h,
			csrfmiddlewaretoken : csrf
		};
		var l = $.QueryString.next;
		if (l) {
			n.next = l
		}
		if (this._isValid(k, h)) {
			$.ajax({
				url : j,
				type : "post",
				data : n,
				success : function(p) {
					if (p.success) {
						o.errorViewContainer.hide();
						if (l) {
							window.location.href = o.urlJoin(m, l)
						} else {
							window.location.reload()
						}
					} else {
						var q = p.error;
						if (q) {
							o.errorViewContainer.show();
							q = BBUtils.join_on(q, 30, "<br />");
							o.errorTxt.html(q)
						}
						o._enableLoginButton()
					}
				},
				error : function() {
					o._showErrMsg("Sorry, but an unknown error occurred!");
					o._enableLoginButton()
				}
			})
		} else {
			this._enableLoginButton()
		}
	}
}*/
$.ajaxSetup({
	beforeSend : function(c, b) {
		/*$("#id_loader").show();*/
		/*function a(d) {
			var h = null;
			if (document.cookie && document.cookie !== "") {
				var g = document.cookie.split(";");
				for (var f = 0; f < g.length; f++) {
					var e = jQuery.trim(g[f]);
					if (e.substring(0, d.length + 1) == (d + "=")) {
						h = decodeURIComponent(e.substring(d.length + 1));
						break
					}
				}
			}
			if (!h) {
				h = $("#id_csrftkn").val()
			}
			return h
		}*/
		//if (!((/^http:.*/.test(b.url)) || (/^https:.*/.test(b.url)))) {
			//c.setRequestHeader("X-CSRFToken", a("csrftoken"))
		//}
	},
	/*complete : function(b, a) {
		$("#id_loader").hide()
	}*/
});
/*function set_visitor_city(a) {
	$("#ftv-city-select").val(a);
	set_city(a);
	uiv2_hide_popup("ftv-city-popup")
}
function set_city(b) {
	var a = "";
	if (window.location.pathname.indexOf("auth") !== -1
			|| window.location.pathname.indexOf("register") !== -1) {
		a = "/auth/set-city/"
	} else {
		a = "/set-city/"
	}
	$.ajax({
		url : a,
		type : "post",
		data : {
			city_id : b
		},
		dataType : "json",
		success : function(c) {
			if (!c.success) {
				alert("Failed to set city");
				return false
			}
			$("#popuphelp").hide();
			$("#city-label").hide();
			window.location = window.location;
			return true
		}
	})
}
function init_delivery_dropdown() {
	var a = $(".uiv2-deliveryslot-link");
	var b = $(".uiv2-deliveryslot-dropdown");
	a.mouseenter(function(c) {
		b.show();
		show_delivery_slots()
	}).mouseleave(function(c) {
		b.hide()
	});
	b.bind("afterShow", function() {
		show_delivery_slots()
	})
}
var main_menu_open = false;
$(document).ready(function() {
	$("body").click(function(b) {
		if ($(".add-to-shoplist").has(b.target).length == 0) {
			$(".add-to-shoplist").hide();
			$(".apply_sl").hide()
		}
	});
	if (!window.old_ui) {
		$(document).click(function(b) {
			if ($(b.target).attr("class") != "icon icon-question-mark") {
				$(".uiv2-small-pop-up").hide()
			} else {
			}
		});
		$("#uiv2-menu-bar").click(function(b) {
			$("#uiv2-main-menu").toggle()
		});
		init_delivery_dropdown();
		init_search();
		init_templates();
		init_globals();
		init_basket_hover();
		init_basket();
		update_next_slot();
		scratch_list_edit_handler();
		$("#current-year").html(new Date().getFullYear());
		BBUtils.showIEPopupIfApplicable()
	}
	TouchHandler.init();
	if (location.pathname != "/") {
		var a = $("#uiv2-main-menu");
		$("#uiv2-menu-bar").hover(function(b) {
			if (!main_menu_clicked) {
				a.show()
			} else {
				main_menu_clicked = false
			}
		}).mouseleave(function(b) {
			setTimeout(function() {
				if (!a.is(":hover")) {
					a.hide()
				}
			}, 100)
		});
		a.mouseleave(function(b) {
			a.hide()
		}).mouseenter(function(b) {
		})
	}
	$(document).click(function(b) {
		if ($(b.target).attr("id") == "uiv2-menu-bar") {
			main_menu_clicked = true
		}
	})
});
function init_basket_hover() {
	var a = $(".uiv2-your-basket");
	a.hover(function() {
		$(".uiv2-your-basket-dropdown").show(0, function(b) {
			$("#scrollbar1").tinyscrollbar_update()
		});
		a.addClass("hover");
		update_basket()
	}, function() {
		$(this).stop()
	});
	a.mouseleave(function() {
		if (!checkout_clicked) {
			$(".uiv2-your-basket-dropdown").hide();
			a.removeClass("hover")
		}
	});
	if (!BBUtils.is_touch_device()) {
		$(document).click(function(b) {
			if (checkout_clicked) {
				checkout_clicked = false;
				$(".uiv2-your-basket-dropdown").hide();
				a.removeClass("hover")
			}
		});
		$(".uiv2-checkout-widget").click(function(b) {
			if (!checkout_clicked) {
				checkout_clicked = true;
				$(".uiv2-your-basket-dropdown").show(0, function(c) {
					$("#scrollbar1").tinyscrollbar_update()
				});
				a.addClass("hover");
				update_basket()
			} else {
				checkout_clicked = false;
				$(".uiv2-your-basket-dropdown").hide();
				a.removeClass("hover")
			}
		});
		a.click(function(b) {
			b.stopPropagation()
		})
	}
}
function init_basket() {
	$
			.ajax({
				url : "/basket/num-items/",
				cache : false,
				data : {},
				dataType : "json",
				success : function(b) {
					var a;
					if (b.cart_no_items == 1) {
						a = b.cart_no_items + " item"
					} else {
						a = b.cart_no_items + " items"
					}
					$(".uiv2-num-basket-items").html(a);
					if (b.notifications) {
						notifications = b.notifications;
						if (b.has_more) {
							$(".uiv2-loggedin-user-link")
									.css(
											"background",
											'url("'
													+ $("#id_static_url").val()
													+ 'uiv2/images/loggedin_error.png") no-repeat right 15px');
							$(".uiv2-loggedin-user-link").css(
									"background-position", "94% 15px")
						}
						if (notifications.type == "popup") {
							$("#system-popup-message-subject").html(
									notifications.title);
							$("#system-popup-message-body").html(
									notifications.content);
							uiv2_show_popup("system-popup-message")
						}
						if (notifications.type == "show_message") {
							$("#show-message-subject")
									.html(notifications.title);
							$("#show-message-body").html(notifications.content);
							$("#show-message").show();
							init_show_message()
						}
						if (notifications.type == "promo") {
							show_system_promo_poup(notifications.promo_id)
						}
						if (notifications.type == "evoucher") {
							show_system_evoucher_popup(notifications.title,
									notifications.description,
									notifications.code, notifications.expires)
						}
					}
				}
			});
	return false
}
function show_system_evoucher_popup(d, c, b, a) {
	$("#system-voucher-popup-message-subject").html(d);
	$("#system-voucher-popup-heading").html(c);
	$("#system-voucher-popup-code").html(b);
	$("#system-voucher-popup-expiry").html(a);
	uiv2_show_popup("system-voucher-popup-message")
}
function show_system_promo_poup(a) {
	$.ajax({
		url : "/promo/get-available-promos/",
		type : "post",
		dataType : "json",
		data : {
			promo_id : a
		},
		success : function(c) {
			if (c.success) {
				var b = $("#system_promo_available_div");
				b.html(c.available_promos);
				uiv2_show_popup("system_popup_available_promos");
				$(".uiv2-popup-wrapper").height(b.height())
			}
		}
	})
}
function show_system_popup(b, a) {
	$("#system-popup-message-subject").html(b);
	$("#system-popup-message-body").html(a);
	uiv2_show_popup("system-popup-message")
}
function pop_up(k) {
	var e = $(k);
	var h = $(document).height();
	var l = $(window).width();
	var f = $(window).height();
	var d = e.width();
	var m = e.height();
	var j = $(".uiv2-back-block").height(h).width(l);
	var b = (l - d) / 2;
	var n = (f - m) / 2;
	width = window.innerWidth ? window.innerWidth
			: document.documentElement.clientWidth ? document.documentElement.clientWidth
					: screen.width;
	height = window.innerHeight ? window.innerHeight
			: document.documentElement.clientHeight ? document.documentElement.clientHeight
					: screen.height;
	var c = ((width / 2) - (d / 2));
	var g = ((height / 2) - (m / 2));
	if (m < f && d < l) {
		e.css("margin-left", c + "px");
		e.css("margin-top", g + "px")
	}
}
function hide_pop_up() {
	$(".uiv2-pop-up-window").hide();
	$("#shadow-mask").hide()
}
function update_basket(d, f, c) {
	if (!cart_changed) {
		return false
	}
	if (!d) {
		d = 1
	}
	var a = $("#cart-items-holder");
	var e = '<li class="uiv2-cart-placeholder-msg"><p>Your basket is empty. Start shopping now!</p></li>';
	if (a.html() == e) {
		a.empty()
	}
	var b = make_req_url("/basket/get/?ct=" + d);
	$
			.ajax({
				url : b,
				cache : false,
				data : {},
				dataType : "json",
				success : function(n) {
					var l;
					if (n.cart_no_items == 1) {
						l = n.cart_no_items + " item"
					} else {
						l = n.cart_no_items + " items"
					}
					$(".uiv2-num-basket-items").html(l);
					$(".uiv2-items-total-cost").empty().html(
							"Total: <span class='WebRupee'>Rs.</span> "
									+ n.cart_total);
					$(".uiv2-basket-saving").empty().html(
							"<span class='WebRupee'>Rs.</span> "
									+ n.cart_saving);
					if (n.cart_saving == "0.00") {
						$(".uiv2-basket-items-saved").hide()
					} else {
						$(".uiv2-basket-items-saved").show()
					}
					if (c == ADD_TO_CART_SOURCES.AUTO_SEARCH) {
						$("#is_promo").val("0")
					}
					if (f) {
						if ($("#is_promo").val() != "1") {
							var j = "Successfully added <strong>" + f
									+ "</strong> to the basket";
							$.notifyBar({
								cls : "success",
								html : j
							})
						}
					}
					if (c == ADD_TO_CART_SOURCES.AUTO_SEARCH) {
						$("#is_promo").val("1");
						if (typeof (refresh) != "undefined") {
							refresh()
						}
					}
					var h = n.delivery_limit || 1000;
					if (parseFloat(n.cart_total) >= parseFloat(h)) {
						$(".uiv2-get-free-delivery")
								.empty()
								.html(
										"<p>This basket is eligible for <strong>Free Home Delivery!<strong></p>")
					} else {
						var k = parseFloat(n.cart_total);
						var m = parseFloat(h - k).toFixed(2);
						$(".uiv2-get-free-delivery").empty().html(
								"<p>Shop for <strong><span class='WebRupee'>Rs.</span> </strong>"
										+ m.toString()
										+ " more and get free delivery!")
					}
					if (!n.items || n.items.length == 0) {
						a.html(e);
						set_basket_size(80, 80, 80)
					} else {
						if (n.items
								&& (n.items.length == 1 || n.items.length == 2)) {
							a.html(cartitems_template(n));
							var g = a.actual("height");
							set_basket_size(g, g, g)
						} else {
							a.html(cartitems_template(n));
							set_basket_size(250, 250, 252)
						}
					}
					init_view_basket(max_qty, d, "basket-popup",
							"#cart-items-holder ");
					$("#cart-items-holder .uiv2-remove-product").each(
							function() {
								$(this).click(
										function() {
											remove_from_cart($(this).attr("id")
													.split("_")[2], d, null,
													"remove-from-cart",
													"basket-popup")
										})
							});
					cart_changed = false
				}
			});
	return false
}*/


/*function set_basket_size(b, c, a) {
	$("#scrollbar1").height(b);
	$("#scrollbar1 .viewport").height(c);
	$(".scrollbar").height(a);
	$("#scrollbar1").tinyscrollbar_update()
}
function init_globals() {
	static_url = $("#id_static_url").val();
	max_qty = $("#id_max_qty").val();
	csrf = $("#id_csrftkn").val();
	ganalytics = ($("#flag-gana").val() == "True");
	bb_analytics = ($("#flag-ana").val() == "True")
}
function init_templates() {
	autosearch_template = Handlebars.compile($("#tmplt-autosearch").html(), {
		noEscape : true
	});
	cartitems_template = Handlebars.compile($("#tmplt-cart-items").html(), {
		noEscape : true
	});
	$("#cart-items-holder").html(cartitems_template({}))
}
function make_req_url(a) {
	return (window.location.protocol == "https:" ? "/auth" : "") + a
}
function init_autosearch_add_to_cart_buttons() {
	$(".uiv2-a2c-autosearch").click(function() {
		var a = $(this).attr("id").split("-")[2];
		var c = parseInt($("#uiv2-qty-" + a).val());
		if (!c) {
			c = 1
		}
		var b = $("#uiv2-pdesc-" + a).val();
		add_to_basket(a, c, 1, b, ADD_TO_CART_SOURCES.AUTO_SEARCH)
	})
}
function do_auto_complete_search(a) {
	var b = $(".uiv2-search-dropdown-block");
	var c = $(".uiv2-search-dropdown-block");
	if (a.length >= 3) {
		$.ajax({
			url : make_req_url("/product/search/auto/"),
			dataType : "json",
			cache : false,
			data : {
				term : a
			},
			success : function(o) {
				var h = $("#id_autosearch_list_container");
				var l = $("#uiv2-no-result");
				var p = $("#scrollbar2");
				var e = $("#scrollbar2 .viewport");
				var j = false;
				var f = o.term;
				if ((o.top_searches && o.top_searches.length > 0)
						&& (!o.data || o.data.length == 0)) {
					l.html("No results found for <i>" + o.term + "</i>.");
					o.top_searches = BBUtils.column_major_chunks(
							o.top_searches, 4);
					j = true
				} else {
					j = false;
					l.html('Showing results for <i>"' + o.term + '"')
				}
				h.empty();
				$(autosearch_template(o)).appendTo(h);
				b.show();
				var q = $("#id_search_view_all_link");
				if (j) {
					c.css("height", "auto");
					p.css("height", "auto");
					e.height(216);
					q.html("VIEW COMPLETE SHOP");
					q.attr("href", "/product/all-categories/")
				} else {
					c.height(452);
					p.height(378);
					e.height(378);
					q.html("VIEW ALL PRODUCTS")
				}
				b.mouseleave(function() {
					b.hide()
				});
				$("#scrollbar1, #scrollbar2").tinyscrollbar();
				init_autosearch_add_to_cart_buttons();
				if (o.suggestions) {
					var d = $("#uiv2-search-brands");
					var m = $("#uiv2-search-categories");
					var r = $("#uiv2-search-terms");
					var n = $("#id_common_search_container");
					var g = $("#id_popular_brand_container");
					var k = $("#id_common_categories");
					if (o.suggestions.brands.length
							|| o.suggestions.categories.length
							|| o.suggestions.terms.length) {
						$(".uiv2-product-rightlist-wrap").show();
						$("#id_more_suggestion_labels").show();
						$(".uiv2-search-dropdown-block").css("width", "785px");
						d.empty();
						if (o.suggestions.brands.length) {
							g.show();
							$.each(o.suggestions.brands, function(s, t) {
								if (s < 5) {
									$(
											'<li> <a href="' + t.url
													+ '?nc=ascs">' + t.name
													+ "</a></li>").appendTo(d)
								}
							})
						} else {
							g.hide()
						}
						m.empty();
						if (o.suggestions.categories.length) {
							k.show();
							$.each(o.suggestions.categories, function(s, t) {
								if (s < 5) {
									$(
											'<li> <a href="' + t.url
													+ '?nc=ascs">' + t.name
													+ "</a></li>").appendTo(m)
								}
							})
						} else {
							k.hide()
						}
						r.empty();
						if (o.suggestions.terms.length) {
							n.show();
							$.each(o.suggestions.terms, function(t, s) {
								if (t < 5) {
									url = "/ps/?q=" + s.url + "&nc=ascs";
									$(
											'<li> <a href="' + url + '" >'
													+ s.term + "</a></li>")
											.appendTo(r)
								}
							})
						} else {
							n.hide()
						}
					} else {
						$(".uiv2-search-dropdown-block").css("width", "auto");
						$(".uiv2-product-rightlist-wrap").hide();
						$("#id_more_suggestion_labels").hide()
					}
				}
				if (o.correction == null || o.correction == undefined
						|| o.correction.length == 0) {
				} else {
					l.html('No Results found for <i>"' + o.term
							+ '"</i>. Instead showing results for <i>"'
							+ o.correction + '"</i>')
				}
				if (o.data.length >= AUTO_SEARCH_LIMIT) {
					q.show();
					setTimeout(function() {
						var s = "/ps/?nc=as&q=" + encodeURIComponent(a);
						q.attr("href", s)
					}, 60)
				}
				if (ganalytics) {
					_gaq.push([ "_trackEvent", "search", "auto-search", a,
							o.data.length ])
				}
			}
		})
	} else {
		if (a.length == 0) {
			b.hide()
		}
	}
}
function init_search() {
	var a = $("#id_q");
	a.click(function() {
		if (autosearch_results > 1) {
			$(".uiv2-search-dropdown-block").show()
		}
	});
	a.focus(function() {
		if (a.val() == "Search for more than 10,000 products...") {
			a.val("");
			a.css("borderColor", "#005576");
			a.css("color", "#333333")
		}
	});
	a.blur(function() {
		if (a.val() == "") {
			a.val("Search for more than 10,000 products...");
			a.css("borderColor", "#BEBCBD");
			a.css("color", "#B2B2B2")
		}
	});
	var b = $(".uiv2-search-dropdown-block");
	b.mouseleave(function() {
		b.hide()
	});
	$(document).click(function(d) {
		var c = $(d.target);
		if (!(c.get(0) == b.get(0) || b.find(c).exists()) && b.is(":visible")) {
			b.hide()
		}
	});
	a.typeWatch({
		callback : do_auto_complete_search,
		wait : 300,
		captureLength : 3
	});
	$("#scrollbar1, #scrollbar2").tinyscrollbar()
}
function validate_email(b) {
	if (b == "" || b == null || b == undefined) {
		return false
	}
	var a = b.indexOf("@");
	var c = b.lastIndexOf(".");
	if (a < 1 || c < a + 2 || c + 2 >= b.length) {
		return false
	}
	return true
}
function save_other_city_info() {
	var c = $("#oc-email").val();
	var a = $("#oc-location").val();
	var b = $("#oc-message").val();
	var d = true;
	if (!validate_email(c)) {
		$("#oc-email-error").html("Email is required");
		d = false
	}
	if (a == "" || a == null || a == undefined) {
		$("#oc-location-error").html("Location is required");
		d = false
	}
	if (d) {
		$.ajax({
			url : make_req_url("/member/other-city-info/"),
			method : "post",
			data : {
				email : c,
				location : a,
				message : b,
				name : $("#oc-name").val()
			},
			success : function() {
				var e = $("#ftv-city-select").val();
				if (!e) {
					e = 1
				}
				set_city(e);
				uiv2_hide_popup("ftv-city-popup")
			}
		})
	}
}
function get_qty(a) {
	var b = parseInt($("#uiv2-qty-" + a).val());
	if (!b) {
		b = 1
	}
	return b
}
function cart_dec_qty(a) {
	var b = $("#uiv2-qty-" + a);
	var c = get_qty(a);
	c -= 1;
	if (c < 1) {
		c = 1
	}
	b.val(c)
}
function cart_inc_qty(a) {
	var b = $("#uiv2-qty-" + a);
	var c = get_qty(a);
	b.val(c);
	c += 1;
	if (c > max_qty) {
		c = max_qty
	}
	b.val(c)
}
function set_pd_cart_nav_ctx() {
	$(".a2c").off("click");
	init_a2c_for_selector(".uiv2-product-detail-content .a2c",
			ADD_TO_CART_SOURCES.PD);
	init_a2c_for_selector(".category_rp .a2c",
			ADD_TO_CART_SOURCES.PD_REL_CAT_PROD);
	init_a2c_for_selector(".related_brand .a2c",
			ADD_TO_CART_SOURCES.PD_REL_BRAND);
	init_a2c_for_selector(".related_top_cat .a2c",
			ADD_TO_CART_SOURCES.PD_TOP_LEVEL_CAT);
	init_a2c_for_selector(".related_store_offers .a2c",
			ADD_TO_CART_SOURCES.PD_STORE);
	init_a2c_for_selector(".also_bought .a2c",
			ADD_TO_CART_SOURCES.PD_ALSO_BOUGHT);
	init_view_basket(max_qty, 1, ADD_TO_CART_SOURCES.PD,
			".uiv2-product-detail-content ");
	init_view_basket(max_qty, 1, ADD_TO_CART_SOURCES.PD_REL_CAT_PROD,
			".category_rp ");
	init_view_basket(max_qty, 1, ADD_TO_CART_SOURCES.PD_REL_BRAND,
			".related_brand ");
	init_view_basket(max_qty, 1, ADD_TO_CART_SOURCES.PD_TOP_LEVEL_CAT,
			".related_top_cat ");
	init_view_basket(max_qty, 1, ADD_TO_CART_SOURCES.PD_STORE,
			".related_store_offers ");
	init_view_basket(max_qty, 1, ADD_TO_CART_SOURCES.PD_ALSO_BOUGHT,
			".also_bought ")
}
function update_promo_page(a) {
	$.ajax({
		url : "/promo/add-promo-product-to-basket/",
		type : "post",
		dataType : "json",
		data : {
			promo_id : a
		},
		success : function(b) {
			if (b.success) {
				$("#promoCartDetails").html(b.promo_cart_html)
			}
		}
	})
}
function qty_changed(e, h, c, f, g, a) {
	if (!f) {
		var d = $("#reserved_qty_" + e).text();
		var j = parseInt(h) > parseInt(d);
		if (j) {
			var b = $("#p_name_" + e).text();
			alert("We are sorry, but you can only order up to " + d
					+ " quantity of " + b);
			$("#p_" + e).val(d);
			h = d
		} else {
			if (h === "") {
				h = 1
			}
		}
	}
	$.ajax({
		url : "/basket/qty-update/",
		type : "post",
		data : {
			prod_id : e,
			qty : h,
			cart_type : c,
			is_list : f
		},
		dataType : "json",
		success : function(k) {
			if (k.success === false && k.added === false) {
				alert("Quantity reached maximum limit, max " + max_qty
						+ " allowed per product");
				$("#p_" + e).val(max_qty)
			} else {
				if (typeof (refresh) != "undefined") {
					refresh()
				}
				promo_id = $("#cart_promotion_id").val();
				if (promo_id) {
					update_promo_page(promo_id)
				}
			}
			if (k.success == true) {
				cart_changed = true;
				if (a == "basket-popup") {
					update_basket(c, null, ADD_TO_CART_SOURCES.UPDATE_QTY)
				}
				if (k.basket_widget != "undefined") {
					update_basket_widget(e, c, k.basket_widget, true, a)
				}
				if (ganalytics) {
					_gaq.push([ "_trackEvent", g, a, e + "." + k.pslug, h ])
				} else {
					console.log(g, a, e + "." + k.pslug, h)
				}
			}
		}
	})
}
function remove_from_cart(b, e, a, c, d) {
	$.ajax({
		url : "/basket/del-item/",
		type : "post",
		data : {
			prod_id : b,
			cart_type : e,
			is_list : a
		},
		dataType : "json",
		success : function(f) {
			if (!f.success) {
				alert("Error removing product from basket!")
			} else {
				cart_changed = true;
				if (d == "basket-popup") {
					update_basket(1, null, ADD_TO_CART_SOURCES.UPDATE_QTY)
				} else {
					init_basket()
				}
				$("#id_prow_" + b).remove();
				if (ganalytics) {
					_gaq.push([ "_trackEvent", c, d, b + "." + f.pslug, 1 ])
				} else {
					console.log(c, d, b + "." + f.pslug, 1)
				}
				promo_id = $("#cart_promotion_id").val();
				if (promo_id) {
					update_promo_page(promo_id)
				}
				if (f.basket_widget != "undefined") {
					update_basket_widget(b, e, f.basket_widget, false, d)
				}
			}
			if (typeof (refresh) != "undefined") {
				refresh()
			}
			if (window.remove_product_success_callback !== undefined) {
				window.remove_product_success_callback()
			}
			return false
		}
	})
}
function update_basket_widget(a, e, d, b, c) {
	$("li[name='widget_" + a + "'] .uiv2-add-to-basket").html(d);
	if (b) {
		init_view_basket(max_qty, e, c, 'li[name="widget_' + a + '"] ');
		if ($('li[name="widget_' + a + '"].uiv2-selected-product').length == 0) {
			$('li[name="widget_' + a + '"]').addClass("uiv2-selected-product")
		}
	} else {
		init_a2c_for_selector('li[name="widget_' + a + '"] .a2c');
		if ($('li[name="widget_' + a + '"].uiv2-selected-product').length == 1) {
			$('li[name="widget_' + a + '"]').removeClass(
					"uiv2-selected-product")
		}
	}
}
function add_to_basket(h, j, d, g, f) {
	var b;
	var a = $("#scl_query_term").val();
	var e = get_add_to_basket_nav_ctx(f);
	try {
		b = $("#p" + h).attr("class").split(" ")[1].split("_")[1]
	} catch (c) {
		b = "0"
	}
	$.ajax({
		url : make_req_url("/basket/add/"),
		cache : false,
		type : "post",
		data : {
			prod_id : h,
			qty : j,
			csrfmiddlewaretoken : csrf,
			ru : window.location.pathname + window.location.search + "&spn="
					+ b,
			cart_type : d,
			nc : e,
			"scl-query" : a
		},
		dataType : "json",
		success : function(l) {
			if (!l.success) {
				if (!l.added) {
					alert("Quantity reached maximum limit, max " + max_qty
							+ " allowed per product")
				} else {
					alert("Error adding product to cart!")
				}
				return false
			} else {
				promo_id = $("#cart_promotion_id").val();
				if (promo_id) {
					update_promo_page(promo_id);
					if (ga) {
						ga("set", "metric2", 1)
					}
				}
				if (window.add_product_success_callback !== undefined) {
					window.add_product_success_callback(h)
				}
			}
			if (window.location.pathname == "/member/smart-basket/" && ga) {
				ga("set", "metric3", 1)
			}
			if (f == ADD_TO_CART_SOURCES.DYF && ga) {
				ga("set", "metric4", 1)
			}
			if (window.location.pathname.search("order") != -1
					&& window.location.pathname.search("order-detail") != -1
					&& ga) {
				ga("set", "metric5", 1)
			}
			init_basket();
			cart_changed = true;
			if (!g) {
				if (last_add_prod !== null && last_add_prod !== undefined
						&& f != ADD_TO_CART_SOURCES.UPDATE_QTY) {
					g = $("#prod-" + last_add_prod + "-desc").val()
				}
			}
			if (g) {
				mesg = "Successfully added <strong>" + g
						+ "</strong> to the basket"
			} else {
				mesg = "Successfully added the product to the basket"
			}
			$.notifyBar({
				cls : "success",
				html : mesg
			});
			var m = "";
			if (f == ADD_TO_CART_SOURCES.AUTO_SEARCH) {
				m = "auto-search"
			} else {
				if (f == ADD_TO_CART_SOURCES.DYF) {
					m = "dyf"
				} else {
					if (f == ADD_TO_CART_SOURCES.PROMO_POPUP) {
						m = "promo-popup"
					} else {
						if (e == "n") {
							m = location.pathname
						} else {
							m = e
						}
					}
				}
			}
			var k = h + "." + l.pslug;
			if (ganalytics) {
				_gaq.push([ "_trackEvent", "add-to-cart", m, k, parseInt(j) ])
			} else {
				console.log("add-to-cart", m, k, parseInt(j))
			}
			if (l.basket_widget != "undefined") {
				update_basket_widget(h, l.cart_type, l.basket_widget, true, m)
			}
			return false
		}
	});
	return false
}
function uiv2_show_popup(d, c, b) {
	if (c == undefined || c == null) {
		c = true
	}
	var a = $("#" + d);
	if (b == null || b == undefined) {
		b = a.height()
	}
	var h = $(document).width();
	var f = $(document).height();
	var g = $(".uiv2-background-shade");
	g.height(f);
	g.width(h);
	a.fadeIn("slow");
	g.fadeIn("slow");
	$(".uiv2-location").hide();
	$(".uiv2-popupclose").click(function() {
		uiv2_hide_popup(d)
	});
	if (c) {
		$(document).keyup(function(j) {
			if (j.keyCode == 27) {
				uiv2_hide_popup(d)
			}
		})
	}
	$(".uiv2-popup-wrapper").height(b);
	if (d == "uiv2-new-address-form") {
		init_newaddress_autocomplete()
	}
}
function uiv2_hide_popup(b) {
	var a = $("#" + b);
	var c = $(".uiv2-background-shade");
	a.fadeOut("slow");
	c.fadeOut("slow")
}
function uiv2_show_small_popup(a, b) {
	$("#" + a).hover(function() {
		$("#" + b).toggle()
	})
}
function edit_address(b) {
	var a = "/member/get-edit-address-form/" + b + "/";
	MessageView.hide();
	$.ajax({
		url : a,
		type : "get",
		data : {},
		success : function(c) {
			if (!c.success && c["non-editable"]) {
				MessageView.error(c.msg)
			} else {
				$("#uiv2-edit-address-form").html(c.edit_form);
				uiv2_show_popup("uiv2-edit-address-form");
				$("#frmEditAddress").attr("action", a)
			}
		}
	})
}
function init_edit_address_submit() {
	$("#frmEditAddress").submit(
			function() {
				$(".uiv2-example-r").html();
				$.ajax({
					data : $(this).serialize(),
					type : $(this).attr("method"),
					url : $(this).attr("action"),
					dataType : "json",
					success : function(a) {
						if (a.success == true) {
							$(".uiv2-popup").hide();
							$("#shadow-mask").hide();
							uiv2_hide_popup("uiv2-edit-address-form");
							$.ajax({
								url : "/member/get-all-addresses/",
								type : "get",
								data : {},
								success : function(d) {
									$("#uiv2-address-book").html(d.addresses)
								}
							})
						} else {
							var c = a.errors;
							var b = a.memberaddress_id;
							for (error in c) {
								$("#edit_" + b + "_error_" + error).html(
										c[error])
							}
						}
					},
					error : function(c, a, b) {
						$(".uiv2-address-error").html(
								"An error occurred. Please try again.")
					}
				});
				return false
			})
}
function submit_edit_address() {
	init_edit_address_submit();
	$("#frmEditAddress").submit()
}
function isNumberKey(b) {
	var a = (b.which) ? b.which : event.keyCode;
	return !(a > 31 && (a < 48 || a > 57))
}
function parse_utm_cookies() {
	if ($.QueryString.utm_source && $.QueryString.utm_medium
			&& $.QueryString.utm_term && $.QueryString.utm_campaign) {
		$.cookie("utm_source", $.QueryString.utm_source, {
			path : "/"
		});
		$.cookie("utm_medium", $.QueryString.utm_medium, {
			path : "/"
		});
		$.cookie("utm_term", $.QueryString.utm_term, {
			path : "/"
		});
		$.cookie("utm_campaign", $.QueryString.utm_campaign, {
			path : "/"
		})
	}
}
function navigateTo(a) {
	window.location = a
}
function init_close_autovoucheroffer_dialog() {
	$("body").bind(
			"click",
			function(a) {
				if (!$(a.target).is(".ui-dialog, a")
						&& !$(a.target).closest(".ui-dialog").length) {
					$(".pdialog").dialog("close");
					$(".spicInAutovoucher").dialog("close")
				}
			})
}
function is_valid_qty(b) {
	var a = /^\d+$/.test(b);
	if (!isNaN(b) && a && parseInt(b, 10) > 0
			&& parseInt(b, 10) <= parseInt(max_qty, 10)) {
		return true
	} else {
		return false
	}
}
function add_to_basket_from_dyf(a, c) {
	if (!c) {
		c = 1
	}
	var d = $("#p" + a + "_qty").val();
	if (!is_valid_qty(d)) {
		alert("Invalid Quantity. Please specify Quantity between 1 and "
				+ max_qty);
		return false
	}
	var b = $("#dyf_" + a).find("a.skuLnk").attr("title");
	add_to_basket(a, d, c, b, ADD_TO_CART_SOURCES.DYF);
	return true
}
function add_to_cart(a, c, b) {
	var d = $("#p" + a + "_qty").val();
	if (!is_valid_qty(d)) {
		show_alert("Invalid Quantity. Please specify quantity between 1 and "
				+ max_qty);
		return false
	}
	add_to_basket(a, d, c, null, b);
	last_add_prod = a;
	return true
}*/


/*function init_display_child_product(a) {
	$(".moreSizes")
			.each(
					function() {
						$(this)
								.click(
										function() {
											pid = $(this).attr("id").split("_")[1];
											$(".pdialog")
													.each(
															function(b) {
																if ($(this)
																		.dialog(
																				"isOpen")
																		&& !$(
																				b.target)
																				.is(
																						".ui-dialog, a")
																		&& !$(
																				b.target)
																				.closest(
																						".ui-dialog").length) {
																	$(this)
																			.dialog(
																					"close")
																}
															});
											$("#children_" + pid + "_more")
													.dialog(
															{
																autoOpen : true,
																closeOnEscape : true,
																draggable : false,
																resizable : false,
																minWidth : "200px",
																minHeight : "200px",
																position : {
																	my : "left top",
																	at : "left bottom",
																	of : $(this)
																},
																open : function() {
																	$(
																			".ui-dialog")
																			.css(
																					"height",
																					"auto");
																	$(
																			".ui-dialog")
																			.css(
																					"width",
																					"auto");
																	$(
																			".ui-dialog")
																			.css(
																					"minWidth",
																					"200px");
																	$(
																			".ui-dialog")
																			.css(
																					"z-index",
																					"950");
																	$(
																			".ui-dialog-titlebar")
																			.css(
																					"background",
																					"#cb2127");
																	$(
																			".ui-widget-content")
																			.css(
																					"background",
																					"#eeeeee");
																	$(
																			".ui-icon")
																			.css(
																					"background-image",
																					"url("
																							+ a
																							+ "css/images/ui-icons_ffffff_256x240.png?v=14)")
																}
															})
										})
					})
}
function init_a2c(b, a) {
	max_qty = b;
	init_a2c_for_selector(".a2c", a)
}
function init_a2c_for_selector(a, b) {
	$(a).each(function() {
		$(this).click(function() {
			var c = $(this).attr("id").split("_");
			if (b == ADD_TO_CART_SOURCES.DYF) {
				add_to_basket_from_dyf(c[1], c[2])
			} else {
				add_to_cart(c[1], c[2], b)
			}
		})
	})
}
var dropkick_change = {
	change : function(c, a) {
		var b = c.split("-");
		if (b[1] != b[2]) {
			see_child(b[0] + "_" + b[1], b[0] + "_" + b[2]);
			$(".parentchild").dropkick("reset")
		}
	}
};
var dropkick_sort_change = {
	change : function(b, a) {
		$(".id_psort .dk_label").html(a.slice(0, a.length / 2))
	}
};
function show_delivery_slots() {
	if (delivery_slots_data) {
		return false
	}
	$.ajax({
		url : "/order/get-next-slots/",
		type : "get",
		success : function(b) {
			delivery_slots_data = b;
			slots_info = $("#uiv2-deliverslots-holder");
			slots_info.empty();
			for (var a = 0; a < delivery_slots_data.length; a++) {
				if (a == 0) {
					$("#uiv2-next-avail-slot").html(delivery_slots_data[a])
				}
				$("<li>" + delivery_slots_data[a] + "</li>").appendTo(
						slots_info)
			}
		}
	})
}
function update_next_slot() {
	$.ajax({
		url : make_req_url("/co/show_next_available_slot/"),
		cache : false,
		data : {},
		dataType : "json",
		success : function(a) {
			if ("slot_date" in a) {
				$("#uiv2-next-avail-slot").empty().html(
						a.slot_date_formalize + ": " + a.from_time + " to "
								+ a.to_time + "")
			}
		}
	});
	return false
}
function init_display_autovoucheroffers() {
	$(".autovoucheroffer")
			.click(
					function() {
						if ($(".autovoucheroffer").length > 1) {
							$(".autovoucheroffer")
									.each(
											function(a) {
												if ($(this)
														.hasClass(
																"autovoucher"
																		+ autovoucherhomenumber)) {
													if ($(this)
															.dialog("isOpen")
															&& !$(a.target)
																	.is(
																			".ui-dialog, a")
															&& !$(a.target)
																	.closest(
																			".ui-dialog").length) {
														$(this).dialog("close")
													}
												}
											})
						} else {
							$(".autovoucheroffer").each(
									function(a) {
										if ($(this).dialog("isOpen")
												&& !$(a.target).is(
														".ui-dialog, a")
												&& !$(a.target).closest(
														".ui-dialog").length) {
											$(this).dialog("close")
										}
									})
						}
						$(
								".spicInAutovoucher.autovoucher"
										+ autovoucherhomenumber).dialog(
								{
									autoOpen : true,
									closeOnEscape : true,
									draggable : false,
									resizable : false,
									maxWidth : "300px",
									maxHeight : "300px",
									position : {
										my : "top",
										at : "bottom",
										of : $(this)
									},
									open : function() {
										$(".ui-dialog").css("height", "auto");
										$(".ui-dialog").css("width", "300px");
										$(".ui-dialog")
												.css("minWidth", "200px");
										$(".ui-dialog").css("z-index", "950");
										$(".ui-dialog-titlebar").css(
												"background", "#cb2127");
										$(".ui-widget-content").css(
												"background", "#eeeeee")
									}
								})
					})
}
function init_vpop() {
	var e = "#hydPopup1";
	var b = $(document).height();
	var d = $(window).width();
	$("#mask").css({
		width : d,
		height : b
	});
	$("#mask").fadeIn(1000);
	$("#mask").fadeTo("slow", 0.8);
	var c = $(window).height();
	var a = $(window).width();
	$(e).css("top", c / 2 - $(e).height() / 2);
	$(e).css("left", a / 2 - $(e).width() / 2);
	$(e).fadeIn(2000);
	$(".close").click(function(f) {
		f.preventDefault();
		$("#mask").hide();
		$(".window").hide()
	})
}
function bb_popup_clicked() {
	$("#mask").hide();
	$(".window").hide()
}
function get_add_to_basket_nav_ctx(a) {
	var b = "n";
	if (a) {
		switch (a) {
		case ADD_TO_CART_SOURCES.DYF:
			b = "dyf";
			break;
		case ADD_TO_CART_SOURCES.AUTO_SEARCH:
			b = "auto-search";
			break;
		case ADD_TO_CART_SOURCES.PD_ALSO_BOUGHT:
			b = "pd-ab";
			break;
		case ADD_TO_CART_SOURCES.PD_REL_BRAND:
			b = "pd-brand";
			break;
		case ADD_TO_CART_SOURCES.PD_REL_CAT_PROD:
			b = "pd-cat";
			break;
		case ADD_TO_CART_SOURCES.PD_STORE:
			b = "pd-offers";
			break;
		case ADD_TO_CART_SOURCES.PD_TOP_LEVEL_CAT:
			b = "pd-tlc";
			break;
		case ADD_TO_CART_SOURCES.PD:
			b = "pd";
			break
		}
	}
	return b
}
function see_child(b, a) {
	$("#" + b).hide();
	$("#" + a).show()
}
function init_view_basket(d, c, b, a) {
	if (!b) {
		b = location.pathname
	}
	if (!a) {
		a = ""
	}
	$(a + ".text-change-qty-search-popup").each(
			function() {
				$(this).off("focusout");
				$(this).focusout(
						function() {
							qty_changed($(this).attr("id").split("_")[1], $(
									this).val(), c, null, "change-quantity", b)
						})
			});
	$(a + ".icon-increase-qty-search-popup").each(
			function() {
				$(this).off("click");
				$(this).click(
						function() {
							qty_changed(
									$(this).prev().attr("id").split("_")[1],
									parseInt($(this).prev().val()) + 1, c,
									null, "incr-quantity", b)
						})
			});
	$(a + ".icon-decrease-qty-search-popup").each(function() {
		$(this).off("click");
		$(this).click(function() {
			var e = parseInt($(this).next().val()) - 1;
			var f = $(this).next().attr("id").split("_")[1];
			if (e > 0) {
				qty_changed(f, e, c, null, "decr-quantity", b)
			} else {
				remove_from_cart(f, c, null, "remove-from-cart", b)
			}
		})
	});
	$(a + ".uiv2-removerow").each(
			function() {
				$(this).off("click");
				$(this).click(
						function() {
							remove_from_cart($(this).attr("id").split("_")[1],
									c, null, "remove-from-cart", b)
						})
			})
}
function sl_popup(a, c, b) {
	if (a == "close") {
		uiv2_hide_popup("shoplist-popup");
		$(".uiv2-background-shade").hide();
		$("#shoplist-mask").hide()
	} else {
		$.ajax({
			url : "/order/sl-popup/",
			type : "post",
			data : {
				shoplist_type : c,
				slug : b,
				order_id : $("#order_detail_popup").val()
			},
			dataType : "json",
			success : function(d) {
				if (d.success) {
					if (!d.logged_in) {
						location.href = "/auth/login/?next="
								+ encodeURIComponent(window.location.pathname)
					}
					$("#popup-content").html(d.sl_popup_html);
					uiv2_show_popup("shoplist-popup");
					$(".uiv2-background-shade").hide();
					$("#shoplist-mask").show();
					$(".uiv2-shoplist-select").dropkick();
					$("#dk_container_sl_names").css("height", "26px")
				}
			}
		})
	}
}
function delete_shoplist_popup(a, b) {
	show_confirm("Are you sure want to delete this list?", function() {
		var c = $("#" + a + "_shoppingListName").html();
		$.ajax({
			url : "/msl/delete-list/",
			type : "post",
			dataType : "json",
			data : {
				slug : a
			},
			success : function(d) {
				if (d.success) {
					$("#sl_" + b).remove();
					set_shoplist_gae($("#shoplist-gae-type").val(), c,
							" - Delete List", "")
				}
			}
		})
	}, function() {
		return
	})
}*/


/*function add_newlist(d) {
	if (shoppinglist_create_state == false) {
		shoppinglist_create_state = true
	} else {
		return
	}
	var f = $("#newShoppingListName").val().replace(/\s+/g, " ");
	var e = f.replace(/^\s+|\s+$/g, "");
	var f = e.toLowerCase();
	var a = $("#select-shopping-lists :selected").val();
	if (f.indexOf("*") != -1) {
		$("#create_alert").html("");
		$("#create_alert")
				.html(
						"The list name cannot contain an asterisk. Please try another name.");
		shoppinglist_create_state = false;
		return
	}
	var b = [];
	$("#all_lists").each(function() {
		b.push($(this).html().toLowerCase().replace(/(^\s+|\s+$)/g, ""))
	});
	present = false;
	for (var c = 0; c < b.length; c++) {
		if (b[c] === f.toLowerCase()) {
			present = true
		}
	}
	if (present) {
		$("#create_alert").html("");
		$("#create_alert")
				.html(
						"The list name chosen already exists. Please try another name.");
		shoppinglist_create_state = false
	} else {
		if (e.length > 0) {
			$("#respond-1").hide();
			$("#createlist").attr("onClick", "javascript:void(0);");
			if (shoppinglist_create_state == true) {
				$
						.ajax({
							url : "/msl/create-list/",
							type : "post",
							dataType : "json",
							data : {
								name : e,
								is_public : 0
							},
							success : function(g) {
								if (g.success) {
									$("#createlist").attr("onClick",
											"add_newlist();");
									shoppinglist_create_state == false;
									if (g.logged_in) {
										location.href = "/shopping-list/"
												+ g.slug
									} else {
										location.href = "/auth/login/?next=/shopping-list/"
												+ a + "/"
									}
									set_shoplist_gae($("#shoplist-gae-type")
											.val(), e, " - Create New List");
									if (d) {
										location.href = "/shopping-lists/"
									}
								} else {
									$("#create_alert").html("");
									$("#create_alert").html(
											"Please try another name.");
									return false
								}
							}
						})
			}
		} else {
			$("#create_alert").html("");
			$("#create_alert").html("Please enter a name.");
			shoppinglist_create_state = false
		}
	}
}
function check_duplicate_popup(b) {
	var g = $("#" + b + "_editShoppingListName").val().replace(/\s+/g, " ");
	var a = g.replace(/^\s+|\s+$/g, "");
	if (a.length > 0) {
		var f = $("#select-shopping-lists option:selected").text();
		var g = a.toLowerCase();
		var e = $("#" + b + "_shoppingListName").html().toLowerCase();
		var c = [];
		$("#all_lists").each(function() {
			c.push($(this).html().toLowerCase().replace(/(^\s+|\s+$)/g, ""))
		});
		present = false;
		for (var d = 0; d < c.length; d++) {
			if (c[d] === g.toLowerCase()) {
				present = true
			}
		}
		if (present) {
			if (g != e) {
				alert("The list name you have chosen already exists. Please try another name.")
			} else {
				return
			}
		} else {
			showEditShoppingLists_popup(b, false, "update", a)
		}
	} else {
		alert("Please Enter a Name")
	}
}
function rename_list(b) {
	var g = $("#newShoppingListName").val().replace(/\s+/g, " ");
	var f = $("#list-view").val();
	var a = g.replace(/^\s+|\s+$/g, "");
	var e = $("#" + b + "_shoppingListName").html().toLowerCase();
	if (a.length > 0) {
		var c = [];
		$("#all_lists").each(function() {
			c.push($(this).html().toLowerCase().replace(/(^\s+|\s+$)/g, ""))
		});
		present = false;
		for (var d = 0; d < c.length; d++) {
			if (c[d] === g.toLowerCase()) {
				present = true
			}
		}
		if (present) {
			if (g != e) {
				$("#create_alert").html("");
				$("#create_alert")
						.html(
								"The list name you have chosen already exists. Please try another name.")
			} else {
				return
			}
		} else {
			$
					.ajax({
						url : "/msl/rename-list/",
						type : "post",
						dataType : "json",
						data : {
							slug : b,
							name : a
						},
						success : function(h) {
							if (!h.success) {
								$("#create_alert").html("");
								$("#create_alert")
										.html(
												"Renaming this list was unsuccessful. Please choose a different name")
							} else {
								if ($("#shoplist-landing").val() == "1") {
									location.href = "/shopping-lists/"
								} else {
									location.href = "/shopping-list/" + h.slug
								}
							}
						}
					})
		}
	} else {
		$("#create_alert").html("");
		$("#create_alert").html("Please Enter a Name")
	}
}
function copy_shoplist_items(f) {
	sl = $(".uiv2-shoplist-select :selected").val();
	shoplist = $("input[type='radio'][name='radio_sl']:checked").val();
	var b = false;
	var e = 0;
	checkbox = $("[name = 'shoppinglist-item']:visible");
	if (!shoplist) {
		$("#create_alert").empty().html("Please select an option");
		return
	}
	if (!$("#newShoppingListName").val() && shoplist == "create") {
		$("#create_alert").empty().html("Please enter a name");
		return
	}
	for (var c = 0; c < checkbox.length; c++) {
		if (checkbox[c].checked === true) {
			b = true;
			e += 1
		}
	}
	if (b === false && f == "no-order") {
		$("#create_alert").html(
				"Select atleast one item from the shopping list to copy");
		return
	}
	if (shoplist == "create") {
		present = false;
		var d = $("#newShoppingListName").val().replace(/\s+/g, " ");
		var a = d.replace(/^\s+|\s+$/g, "");
		$
				.ajax({
					url : "/msl/create-list/",
					type : "post",
					dataType : "json",
					data : {
						name : a,
						is_public : 0
					},
					success : function(g) {
						if (g.success) {
							if (g.logged_in) {
								set_shoplist_gae($("#shoplist-gae-type").val(),
										a, " - Create New List");
								copy_items_to_shopping_list(a, b, e, f)
							} else {
								location.href = "/auth/login/?next="
										+ encodeURIComponent(window.location.pathname)
							}
						} else {
							$("#create_alert").html("");
							$("#create_alert")
									.html(
											"Please try another name. This list already exists");
							present = true
						}
					}
				})
	} else {
		a = $(".uiv2-shoplist-select :selected").val();
		copy_items_to_shopping_list(a, b, e, f)
	}
	return
}
function copy_items_to_shopping_list(b, a, d, e) {
	checkbox = $("[name = 'shoppinglist-item']:visible");
	item_qtys = [];
	for (var c = 0; c < checkbox.length; c++) {
		if (checkbox[c].checked === true) {
			itemname = checkbox[c].value + "_"
					+ $("#p" + checkbox[c].value + "_qty").val();
			item_qtys.push(itemname)
		}
	}
	if (a == true | e != "no-order") {
		$
				.ajax({
					url : "/order/msl/copy-items/",
					type : "post",
					dataType : "json",
					data : {
						"items[]" : item_qtys,
						"sl-name" : b,
						order_id : e
					},
					success : function(f) {
						if (f.success) {
							mesg = "Successfully copied " + d
									+ " items to the shopping list " + b;
							if (e != "no-order") {
								mesg = "Successfully copied order items to the shopping list "
										+ b
							}
							$.notifyBar({
								cls : "success",
								html : mesg
							});
							uiv2_hide_popup("shoplist-popup");
							$(".uiv2-background-shade").hide();
							$("#shoplist-mask").hide();
							set_shoplist_gae($("#shoplist-gae-type").val(), b,
									" - Copy to List")
						}
					}
				})
	}
}
function set_background() {
	for (var a = 0; a < $(".AccordionPanelContent").children().size(); a++) {
		if (a % 2 == 0) {
			$(".AccordionPanelContent").children()[a].removeAttribute("class");
			$(".AccordionPanelContent").children()[a]
					.addClass("product-listing odd-itemrow")
		} else {
			$(".AccordionPanelContent").children()[a].removeAttribute("class");
			$(".AccordionPanelContent").children()[a]
					.addClass("product-listing even-itemrow")
		}
	}
}
function catSelectChkGroup(e) {
	var b = e + "_cat_accordion";
	var d = document.getElementById(b);
	var c = d.getElementsByTagName("input");
	for (var a = 0; a < c.length; a++) {
		if (c[a].type == "checkbox" && c[a].disabled == false) {
			c[a].checked = true
		}
	}
	set_shoplist_gae($("#shoplist-gae-type").val(), e, " - Select All for cat")
}
function catClearChkGroup(d) {
	var a = d + "_cat_accordion";
	var c = document.getElementById(a);
	var b = c.getElementsByTagName("input");
	$(b).each(function() {
		$(this).removeAttr("checked")
	});
	set_shoplist_gae($("#shoplist-gae-type").val(), d, " - Clear All for cat")
}
function remove_from_list(item_row_id, item_id, topcat, cityId, slug) {
	var parent = topcat + "_header";
	var cat_name = topcat + "_itemcount";
	var item_desc = item_id + " " + $("#desc_" + item_id).html();
	$
			.ajax({
				url : "/msl/remove-item/",
				type : "post",
				dataType : "json",
				async : false,
				data : {
					slug : slug,
					product_id : item_id,
					product_city : cityId
				},
				success : function(data) {
					if (data.success) {
						if (data.logged_in) {
							$("#" + item_row_id).remove();
							$("#" + item_row_id).hide();
							set_background();
							var toplevelCatAccordion = topcat + "_header";
							var parent_id = document
									.getElementById(toplevelCatAccordion);
							total_count_items = parseInt($("#totalid").html());
							total_no = eval(total_count_items - 1);
							document.getElementById("totalid").innerHTML = total_no;
							if (total_no == 0) {
								$(".my-accordion")
										.append(
												'<p class="show-info" id = "shoplist_info">This shopping list does not have any items.&nbsp;Search for products and click on <a class ="add" style = "cursor:pointer" onclick = "applyMask();" ></a> to add the specific product to the list.</p>');
								$("#add_basket_base").hide()
							}
							var cat_items_count = parseInt(document
									.getElementById(cat_name).innerHTML);
							var child_count = eval(cat_items_count - 1);
							document.getElementById(cat_name).innerHTML = eval(cat_items_count - 1);
							if (child_count == 0) {
								document.getElementById(toplevelCatAccordion).style.display = "none";
								document.getElementById(toplevelCatAccordion).innerHTML = "";
								document.getElementById(parent).style.display = "none"
							}
							set_shoplist_gae($("#shoplist-gae-type").val(),
									item_desc, " - Remove-item")
						} else {
							location.href = "/auth/login/?next=/shopping-list/"
									+ slug + "/"
						}
					}
				}
			});
	return false
}
function get_view(a, b, c) {
	$("#shoplist-mask").show();
	$(".loadShoplistMask").show();
	$.ajax({
		url : "/order/get-shopping-list-view/",
		type : "post",
		dataType : "json",
		data : {
			list_grid : a,
			list_type : b,
			list_id : c
		},
		success : function(d) {
			if (d.success) {
				$("#sl-items").html("");
				$("#sl-items").html(d.sl_html);
				if (a == "list") {
					$("#sl_list_view").show();
					$("#sl_grid_view").hide()
				} else {
					shoplist_view_change_init();
					$("#sl_grid_view").show();
					$("#sl_list_view").hide()
				}
				if (d.itemcount > 0) {
					$(".noItems").hide();
					$("#sl_operations").show()
				} else {
					$(".noItems").show();
					$("#sl_operations").hide()
				}
			}
			$("#totalid").html(d.itemcount);
			$("#c102").prop("checked", false);
			$("#selected_count").html(0);
			$("#shoplist-mask").hide();
			$(".loadShoplistMask").hide()
		}
	})
}
function delete_list_items(a, c) {
	is_listview = $("#listview_sl").val();
	is_listview = $("#listview_sl").val();
	var b = [];
	$("#sl-form").find(":checkbox[name = 'shoppinglist-item']").each(
			function() {
				var d = $(this);
				if (d.is(":checked")) {
					b.push(d.val())
				}
			});
	if (b.length == 0) {
		alert("Select atleast one item to delete");
		return false
	}
	show_confirm("Are you sure want to delete these items?", function() {
		$("#shoplist-mask").show();
		$(".loadShoplistMask").show();
		$.ajax({
			url : "/msl/delete-shoppinglist-items/",
			type : "post",
			dataType : "json",
			data : {
				slug : a,
				product_city : c,
				items : b,
				is_listview : is_listview
			},
			success : function(d) {
				if (d.success) {
					if (d.logged_in) {
						$("#sl-items").html(d.sl);
						shoplist_view_change_init();
						$("#selected_count").html("0");
						$("#shoplist-mask").hide();
						$("#totalid").html(d.itemcount);
						$(".loadShoplistMask").hide();
						if (d.itemcount < 1) {
							$(".noItems").show();
							$("#sl_operations").hide()
						}
						set_shoplist_gae($("#shoplist-gae-type").val(), a,
								" - Delete items from List")
					} else {
						location.href = "/auth/login/?next=/shopping-list/" + a
								+ "/"
					}
				}
			}
		})
	}, function() {
		return false
	})
}*/


/*function shoplist_view_change_init() {
	$(".parentchild").dropkick(dropkick_change);
	$(".a2c").unbind("click");
	init_a2c($("#max-qty").val());
	init_view_basket($("#max-qty").val(), 1);
	$(".checkbox").unbind("click");
	$("input[type=checkbox]").on("click", function() {
		ctr = 0;
		len = $("input[name=shoppinglist-item]:checked");
		len.each(function() {
			if ($(this).is(":visible")) {
				ctr += 1
			}
		});
		$("#selected_count").html(ctr)
	})
}


function add_shoplist_to_basket(b) {
	checkbox = $("[name = 'shoppinglist-item']:visible");
	qtyField = $(".qtyTxtField:visible");
	var a = false;
	var e = 0;
	for (var d = 0; d < checkbox.length; d++) {
		if (checkbox[d].checked === true) {
			a = true;
			e += 1
		}
	}
	for (d = 0; d < qtyField.length; d++) {
		var c = /^\d+$/.test(qtyField[d].value);
		if (!isNaN(qtyField[d].value) && c
				&& parseInt(qtyField[d].value, 10) > 0
				&& parseInt(qtyField[d].value, 10) <= parseInt(max_qty, 10)) {
			valid_qty = true
		} else {
			valid_qty = false
		}
		if (checkbox[d].checked === true && !valid_qty) {
			var f = $("#" + $(checkbox)[d].value + "_name").html();
			alert("Invalid Quantity for item " + f
					+ ".\nSpecify quantity between 1 and 25");
			return false
		}
	}
	if (a === false) {
		show_alert("Select atleast one in-stock item to add to basket");
		return false
	}
	item_qtys = [];
	for (var d = 0; d < checkbox.length; d++) {
		if (checkbox[d].checked === true) {
			f = checkbox[d].value + "_"
					+ $("#p" + checkbox[d].value + "_qty").val();
			if ($("#" + checkbox[d].value + "_availability").val() == "1") {
				item_qtys.push(f)
			}
		}
	}
	$("#shoplist-mask").show();
	$(".loadShoplistMask").show();
	$
			.ajax({
				url : "/msl/add-list-item-to-basket/",
				type : "post",
				dataType : "json",
				data : {
					"items[]" : item_qtys,
					slug : b
				},
				success : function(h) {
					if (!h.logged_in) {
						location.href = "/auth/login/?next="
								+ window.location.pathname
					}
					if (h.success) {
						$("#shoplist-mask").hide();
						$(".loadShoplistMask").hide();
						msg = h.msg;
						mesg = "Successfully added items to the basket";
						$.notifyBar({
							cls : "success",
							html : mesg
						});
						set_shoplist_gae($("#shoplist-gae-type").val(),
								"num-items", " - Add to basket", e);
						for (var g = 0; g < h.basket_widget_list.length; g++) {
							if (h.basket_widget_list[g]["basket_widget"] != "undefined") {
								update_basket_widget(
										h.basket_widget_list[g]["product_id"],
										h.basket_widget_list[g]["cart_type"],
										h.basket_widget_list[g]["basket_widget"],
										true, location.pathname)
							}
						}
						init_basket();
						cart_changed = true;
						if (ga) {
							ga("set", "matric6", 1)
						}
					} else {
						$("#shoplist-mask").hide();
						$(".loadShoplistMask").hide()
					}
				}
			});
	for (var d = 0; d < checkbox.length; d++) {
		if (checkbox[d].checked === true) {
			pid = checkbox[d].value;
			checkbox[d].checked = false
		}
	}
	for (d = 0; d < qtyField.length; d++) {
		qtyField[d].value = "1"
	}
}
function show_hide_catg(a) {
	if ($("#categoryItems_" + a).is(":visible")) {
		$("#categoryItems_" + a).hide();
		$("#img-expand_" + a).hide();
		$("#img-collapse_" + a).show()
	} else {
		$("#categoryItems_" + a).show();
		$("#img-expand_" + a).show();
		$("#img-collapse_" + a).hide()
	}
}
function selectToggle(d) {
	var a = 0;
	var c = 0;
	if ($("#c102").is(":checked")) {
		toggle = true
	} else {
		toggle = false
	}
	$(".checkbox").each(function() {
		if (toggle) {
			$(this).prop("checked", true)
		} else {
			$(this).prop("checked", false)
		}
	});
	checkbox = $("[name = 'shoppinglist-item']");
	for (var b = 0; b < checkbox.length; b++) {
		if (checkbox[b].checked === true) {
			check = true;
			a += 1
		} else {
			c += 1
		}
	}
	if (a > 0) {
		set_shoplist_gae($("#shoplist-gae-type").val(), "num-items",
				" - Select all ", a)
	}
	if (c > 0) {
		set_shoplist_gae($("#shoplist-gae-type").val(), "num-items",
				" - Clear all ", c)
	}
}
function check_cat_select(a) {
	if ($("#c104_" + a).is(":checked")) {
		check_select(a)
	} else {
		check_clear(a)
	}
}
function check_select(e) {
	var b = "categoryItems_" + e;
	var d = document.getElementById(b);
	var c = d.getElementsByTagName("input");
	for (var a = 0; a < c.length; a++) {
		if (c[a].type == "checkbox" && c[a].disabled == false) {
			c[a].checked = true
		}
	}
	set_shoplist_gae($("#shoplist-gae-type").val(), e, "-Select All for cat")
}
function check_clear(d) {
	var a = "categoryItems_" + d;
	var c = document.getElementById(a);
	var b = c.getElementsByTagName("input");
	$(b).each(function() {
		$(this).removeAttr("checked")
	});
	set_shoplist_gae($("#shoplist-gae-type").val(), d, "-Clear All for cat")
}
function isHtml5AttributeSupported(c, b) {
	var a = document.createElement(c);
	return b in a
}
function setPlaceHolder(b) {
	var a = $(b);
	var c = $(b).attr("placeholder");
	a.val(c);
	a.css("color", "#ccc");
	a.focus(function() {
		if (a.val() == c) {
			a.val("");
			a.css("color", "#333")
		}
	});
	a.blur(function() {
		if (a.val().length == 0) {
			a.val(c);
			a.css("color", "#ccc")
		}
	})
}
function submit_search_form() {
	var a = $("#id_q").val();
	if (!a) {
		a = ""
	}
	a = a.replace(/^[ ]+/g, "").replace(/[ ]+$/g, "");
	if (a === "" || a == "Search for more than 10,000 products...") {
		$("#id_q").focus();
		return false
	}
	return true
}
function get_cookie(c) {
	var b = document.cookie.indexOf(c);
	if (b > -1) {
		var d = document.cookie.indexOf("=", b) + 2;
		var a = document.cookie.indexOf('"', d);
		return document.cookie.substring(d, a)
	}
	return null
}
function get_member_cookie() {
	return get_cookie("_bb_mid")
}
function get_visitor_cookie() {
	return get_cookie("_bb_vid")
}
function checkout(b, a) {
	$(b).removeAttr("onclick");
	location.href = "/co/checkout/" + (a ? "?divergence_ok=yes" : "");
	return false
}
function set_child_details(b, a) {
	$("#slidingProduct" + b).hide();
	$("#slidingProduct" + a).show();
	title = $("#" + a).attr("value");
	$(document).attr("title", title);
	if ($("#children_" + b + "_more")) {
		$("#children_" + b + "_more").dialog("close")
	}
	$("#radio_" + b + "_" + b).prop("checked", true)
}
function show_shoplists(c, a, b) {
	$.ajax({
		url : "/msl/show-shopping-lists/",
		type : "post",
		dataType : "json",
		data : {
			product_id : c,
			product_city : a
		},
		success : function(e) {
			if (e.success) {
				if (e.logged_in) {
					$(".shoplistContainer").html("");
					$(".shoplistContainer").html(e.shopping_lists);
					if (!e.no_list) {
						var f = $("#" + c + "_shoplist").offset();
						$("#sl_" + c + "_shoplist").show();
						var d = f.top + 30;
						var g = f.left - 163;
						$("#sl_" + c + "_shoplist").offset({
							top : d,
							left : g
						});
						$("#sl_" + c + "_shoplist").show();
						$(".apply_sl").hide();
						$(".shoplists").jScrollPane()
					}
					if (b) {
						$("#chk_" + c + "_" + b).attr("checked", true);
						$("#apply_sldiv" + c).show();
						$(".apply_sl").show();
						$(".newList").hide()
					}
				} else {
					location.href = "/auth/login/?next="
							+ window.location.pathname + window.location.search
				}
			}
		}
	});
	if (ganalytics) {
		pdesc = $("#prod-" + c + "-desc").val();
		item_desc = parseInt(c) + " " + pdesc;
		_gaq.push([ "_trackEvent", "sl-prod-list",
				"Product List Shopping List - Icon Clicked", item_desc ])
	}
}
function search_lists(e) {
	current_listnames = [];
	var c = $("#search_" + e).val().replace(/\s+/g, " ");
	var b = c.replace(/^\s+|\s+$/g, "");
	$("#all_" + e + " div").each(function() {
		$(this).children("input").each(function() {
			current_listnames.push($(this))
		})
	});
	if (b.length == 0) {
		$("#all_" + e + " div").each(function() {
			$(this).show()
		})
	} else {
		for (var a = 0; a < current_listnames.length; a++) {
			var d = current_listnames[a].val();
			if (d.toLowerCase().indexOf(b.toLowerCase()) == -1) {
				id = "result_" + e + "_" + current_listnames[a].val();
				document.getElementById(id).style.display = "none"
			} else {
				id = "result_" + e + "_" + current_listnames[a].val();
				document.getElementById(id).style.display = ""
			}
		}
	}
}
function show_apply(d, b) {
	var a = $("#flag_" + b).html();
	var c = "chk_" + d + "_" + b;
	$("#newlist_" + d).hide();
	if ($("#" + c).attr("checked") && a == 0) {
		$(".apply_sl").hide();
		$(".newList").show()
	}
	if (!$("#" + c).attr("checked") && a == 0) {
		$(".apply_sl").show();
		$(".newList").hide()
	}
	if ($("#" + c).attr("checked") && a == 1) {
		$(".apply_sl").show();
		$(".newList").hide()
	}
	if (!$("#" + c).attr("checked") && a == 1) {
		$(".apply_sl").hide();
		$(".newList").show()
	}
	$("#all_" + d + " input").each(function() {
		var e = $(this);
		var f = $("#flag_" + $(this).attr("name")).html();
		if (e.is(":checked") && f == 1) {
			$(".apply_sl").show();
			$(".newList").hide();
			$("#newlist_" + d).hide()
		}
		if (!e.is(":checked") && f == 0) {
			$(".apply_sl").show();
			$(".newList").hide()
		}
	});
	$("#apply_sldiv" + d).show()
}
function cancel_create_sl(a) {
	$("#create_" + a).val("");
	$("#msg_" + a).html("");
	$("#newlist_" + a).hide()
}
function show_createlists(a) {
	$("#newlist_" + a).show();
	$("#apply_sldiv" + a).hide();
	$("#msg_" + a).html("");
	$("#create_" + a).val("")
}
function new_shoppinglist(g, a) {
	if (shoppinglist_click_state == false) {
		shoppinglist_click_state = true
	} else {
		return
	}
	var e = 0;
	var f = $("#create_" + g).val().replace(/\s+/g, " ");
	var d = f.replace(/^\s+|\s+$/g, "");
	var c = d.toLowerCase();
	if (c.indexOf("*") != -1) {
		$("#msg_" + g).html("");
		$("#msg_" + g)
				.html(
						"The list name cannot contain an asterisk. Please try another name.");
		shoppinglist_click_state = false;
		return
	}
	var b = [];
	$("#all_" + g + " input").each(function() {
		b.push($(this).val().toLowerCase().split("*")[0])
	});
	for (i = 0; i < b.length; i++) {
		if (b[i] == c) {
			e = 1
		}
	}
	if (e) {
		$("#msg_" + g).html("");
		$("#msg_" + g)
				.html(
						"The list name you have chosen already exists. Please try another name.");
		shoppinglist_click_state = false
	} else {
		if (d.length > 0) {
			$("#popupcreate").attr("onClick", "javascript:void(0);");
			if (shoppinglist_click_state == true) {
				$.ajax({
					url : "/msl/create-list/",
					type : "post",
					dataType : "json",
					data : {
						name : d,
						is_public : 0
					},
					success : function(h) {
						if (h.success) {
							shoppinglist_click_state = false;
							show_shoplists(g, a, d);
							mesg = "<strong>" + d
									+ "</strong> has been created";
							$.notifyBar({
								cls : "success",
								html : mesg
							})
						}
					}
				});
				if (ganalytics) {
					item_desc = g + $("#prod-" + g + "-desc").val();
					_gaq.push([ "_trackEvent", "sl-prod-list",
							" Product List Shopping List - Create New",
							item_desc ])
				}
			}
		} else {
			$("#msg_" + g).html("");
			$("#msg_" + g).html("Please enter a name");
			shoppinglist_click_state = false
		}
	}
}
function add_item_to_lists(g, f) {
	var a = [];
	var c = [];
	var e = [];
	var d = [];
	$("#all_" + g + " input").each(function() {
		var j = $(this);
		var h = $("#flag_" + $(this).attr("name")).html();
		if (j.is(":checked") && h == 1) {
			a.push(j.attr("name"));
			c.push(j.val())
		}
		if (!j.is(":checked") && h == 0) {
			e.push(j.attr("name"));
			d.push(j.val())
		}
	});
	for (var b = 0; b < a.length; b++) {
		$.ajax({
			url : "/msl/add-item/",
			type : "post",
			dataType : "json",
			data : {
				slug : a[b],
				product_id : g,
				product_city : f
			},
			success : function(h) {
			}
		})
	}
	for (var b = 0; b < e.length; b++) {
		$.ajax({
			url : "/msl/remove-item/",
			type : "post",
			dataType : "json",
			data : {
				slug : e[b],
				product_id : g,
				product_city : f
			},
			success : function(h) {
			}
		})
	}
	$(".shoplistContainer").html("");
	if (c.length > 0) {
		mesg = "<strong>" + $("#prod-" + g + "-desc").val()
				+ "</strong> has been added to ";
		mesg += c.join();
		if (d.length > 0) {
			mesg += " and removed from ";
			mesg += d.join()
		}
	} else {
		if (d.length > 0) {
			mesg = "<strong>" + $("#prod-" + g + "-desc").val()
					+ "</strong> has been removed from " + d.join()
		}
	}
	$.notifyBar({
		cls : "success",
		html : mesg
	});
	if (ganalytics) {
		item_desc = g + $("#prod-" + g + "-desc").val();
		_gaq.push([ "_trackEvent", "sl-prod-list",
				" Product List Shopping List - Apply", item_desc ])
	}
}
function init_carousel(a) {
	$("#carouSlide_" + a).carouFredSel()
}
function change_pd_image(b, a) {
	$("." + a + "_uiv2-product-large-img-display").hide();
	pimg = $("#pimg_" + b);
	pimg.show();
	$(".pimg_holder").removeClass("active");
	$("#pimg_" + b + "_holder").addClass("active")
}
function goto_url(a) {
	location.href = a;
	return false
}
function show_popup_load_content_from_url(a, c, b) {
	$("#" + a).load(b, function() {
		uiv2_show_popup(c)
	})
}
function init_hashed_pagination() {
	if ($(".pagination")[0]) {
		var a = Backbone.Router
				.extend({
					routes : {
						"!page=:page_num" : "go_to_page",
						"promo/:promo_id/:criteriaset_id/:page_num/" : "go_to_promo_page",
						"promo/:promo_id/:criteriaset_id/:page_num/prev_next" : "go_to_promo_page_nextprev"
					},
					go_to_page : function(c) {
						facets.show_page(c)
					},
					go_to_promo_page : function(c, d, e) {
						get_promo_page(c, d, e, "")
					},
					go_to_promo_page_nextprev : function(c, d, e, f) {
						if (f == null) {
							f = ""
						}
						get_promo_page(c, d, e, f)
					}
				});
		var b = new a;
		Backbone.history.start()
	}
}
function switch_ui() {
	$
			.ajax({
				type : "post",
				url : "/member/switch-ui/",
				data : {
					from_new : true,
					switch_reason : $("#switch-reason").val()
				},
				success : function(a) {
					if (a.success) {
						location.href = "/"
					} else {
						alert("Sorry there was some problem switching UI. Please contact our customer service team.")
					}
				}
			})
}
function set_shoplist_gae(a, c, d, b) {
	if (ganalytics) {
		if (a == "sysl") {
			gae_catg = "sysl-activity";
			gae_action = "Sys Shopping List"
		} else {
			if (a == "so") {
				gae_catg = "so-activity";
				gae_action = "Shop from order"
			} else {
				if (a == "sb") {
					gae_catg = "sb-activity";
					gae_action = "Smart Basket"
				} else {
					if (a == "scratch") {
						gae_catg = "scratch-activity";
						gae_action = "Scratch List"
					} else {
						gae_catg = "sl-activity";
						gae_action = "Shopping List"
					}
				}
			}
		}
		gae_action = gae_action + d;
		if (b) {
			_gaq.push([ "_trackEvent", gae_catg, gae_action, c, b ])
		} else {
			_gaq.push([ "_trackEvent", gae_catg, gae_action, c ])
		}
	}
}
function fb_confirm_option_selected() {
	console.log($("input[name='fb-confirm-option']").val())
}
function fb_logged_in() {
	console.log("FB logged in");
	console.log("FB response... " + FB.getAuthResponse())
}
function check_item_scl(a) {
	if ($("#scratch_state" + a).val() == 1) {
		check_status = false;
		$("#scratch_state" + a).val(0)
	} else {
		check_status = true;
		$("#scratch_state" + a).val(1)
	}
	$.ajax({
		url : "/member/check-scratchlist-item/",
		type : "post",
		dataType : "json",
		data : {
			"item-id" : a,
			check_status : check_status
		},
		success : function(b) {
			if (b.success) {
				$("#check_" + a).attr("title", b.tooltip);
				if (b["item-checked"]) {
					$("#" + a).addClass("scratchItem");
					set_shoplist_gae("scratch", $("#" + a).val(),
							" -Scratch item", "")
				} else {
					$("#" + a).removeClass("scratchItem");
					set_shoplist_gae("scratch", $("#" + a).val(),
							" -UnScratch item", "")
				}
			}
		}
	})
}
function scratch_list_click_handler(a) {
	if ($("#shoplist-popup").has(a.target).length == 0
			&& $(".uiv2-new-my-shopping-list").has(a.target).length == 0
			&& $(".uiv2-back-block").has(a.target).length == 0
			&& $("#scratch_list_main").has(a.target).length == 0
			&& $(".uiv2-close-widget-button").has(a.target).length == 0) {
		$(".uiv2-new-my-shopping-list").hide();
		a.stopPropagation()
	}
}
function get_scratchlist_content(c, a) {
	scl_landing = "#landing_scl_" + c;
	landing = $(scl_landing);
	if (c && landing.html()) {
		if (a == "system") {
			var b = $("#landing_link_ssl_" + c).offset()
		} else {
			var b = $("#landing_link_sl_" + c).offset()
		}
		$("#scratch_list_main").offset({
			top : b.top + 30,
			left : b.left + 100
		})
	} else {
		b = $("#nav-scl-hdr").offset();
		$("#scratch_list_main").offset({
			top : b.top + 30,
			left : b.left - 70
		})
	}
	set_scratch_list_scroll();
	$("#scratchListContainer").css("width", "0px");
	$("#scratchListContainer").css("height", "0px")
}
function get_list_items(a) {
	if (a == "None") {
		a = "unsaved"
	}
	scl_id = "#scratchlist_" + a;
	items = [];
	$(scl_id + " [name = 'scratchlist-item']").each(function() {
		if ($.trim($(this).val())) {
			item_id = $(this).attr("id");
			if (!item_id) {
				item_id = ""
			}
			items.push($(this).val() + "_" + item_id)
		}
	});
	return items
}
function show_scratchlist(e, d, b, c, a) {
	$
			.ajax({
				url : make_req_url("/member/show-scratch-list/"),
				type : "post",
				dataType : "json",
				data : {
					list_id : e,
					edit_mode : d,
					csrfmiddlewaretoken : $("#id_csrftkn").val(),
					scl_type : b,
					show_help : c
				},
				success : function(f) {
					if (f.success) {
						$("#scratchListContainer").empty().html(f.list_html);
						get_scratchlist_content(e, b);
						if (f.list_id) {
							e = f.list_id;
							if (e == "unsaved") {
								set_shoplist_gae("scratch", "Unsaved List",
										" - Create List", "")
							}
						}
						if (f.edit_mode) {
							init_edit_scratchlist(d, e)
						}
						$(".uiv2-shop-by-list-dropdown").hide();
						if (a) {
							$(".uiv2-my-shopping-minus").remove();
							$(".plusOpen").remove();
							$(".uiv2-save-edit-clear-links-wrap").css("width",
									"129px");
							$(".close-scl").css("margin-left", "-5px");
							$(".uiv2-my-shopping-help").css("margin-left",
									"-5px");
							$(".uiv2-my-shopping-help").css("margin-right",
									"5px")
						}
					}
				}
			})
}
function init_scratchlist_help_popup() {
	$("#shoplist-mask").show();
	$(".uiv2-help-small-box").hide();
	$(".uiv2-slide-warpper").removeClass("de-active").addClass("active"),
			function() {
			};
	a(".uiv2-pop-up-black-new");
	var b = $(this).width();
	var c = $(this).height();
	function a(d) {
		$(d).width(b);
		$(d).height(c);
		$(d).fadeIn(600)
	}
}
function occupy_screen(b) {
	$(b).width(d_width);
	$(b).height(d_height);
	$(b).fadeIn(600)
}
function show_scratchlist_help(a, c, b) {
	$("#help-scl").empty();
	$.ajax({
		url : make_req_url("/member/scratch-list-help/"),
		type : "post",
		dataType : "json",
		data : {
			help_type : a,
			list_id : c
		},
		success : function(d) {
			if (d.success) {
				$("#help-scl").empty().html(d.list_html);
				$("#help-scl").show();
				$("#help-scl").offset({
					top : 150,
					left : 980
				});
				init_scratchlist_help_popup();
				$(".uiv2-back-block").css("background", "transparent");
				b = "- Help " + b;
				set_shoplist_gae("scratch",
						$("#scratch-list-name_" + c).html(), b)
			}
		}
	});
	$("#help-scl").css("width", "0px");
	$("#help-scl").css("height", "0px")
}
function hide_scratchlist_help(a, b) {
	$(".uiv2-new-my-shopping-list").show();
	$("#shoplist-mask").hide();
	$(".uiv2-pop-up-black-new").hide();
	$(".uiv2-help-small-box").fadeIn(300);
	$(".uiv2-slide-warpper").removeClass("active").addClass("de-active");
	$("#help-scl").empty();
	$("#help_box").hide()
}
function find_scratchlist_products(d, b, a, c) {
	items = get_list_items(d);
	slug = $("#scl_slug").val();
	if (items.length >= 1) {
		href_attr = $("#find_product_link").attr("href");
		$("#find_product_link").attr("href", "");
		$.ajax({
			url : make_req_url("/member/scratch-list-products/"),
			type : "post",
			dataType : "json",
			data : {
				"items[]" : items,
				list_id : d,
				csrfmiddlewaretoken : $("#id_csrftkn").val(),
				list_type : a,
				q : c
			},
			success : function(e) {
				if (e.success) {
					set_shoplist_gae("scratch", $(
							"#scratch-list-name_scratchlist_" + d).html(),
							" - Save & Find products");
					set_shoplist_gae("scratch", $(
							"#scratch-list-name_scratchlist_" + d).html(),
							" - Find products");
					if (a == "1") {
						location.href = "/ps/ssl/" + slug + "/?q=" + e.q
					} else {
						location.href = "/ps/sl/" + slug + "/?q=" + e.q
					}
					if (ga) {
						ga("set", "matric7", 1)
					}
				} else {
					show_alert(e.msg)
				}
				$("#find_product_link").attr("href", href_attr)
			}
		})
	} else {
		show_alert("Please enter some items in the list")
	}
}
function remove_scl_item(b, d) {
	scratch_list_edited = true;
	set_shoplist_gae("scratch", $("#" + b).val(), "- Delete item");
	$("#list_" + b).remove();
	clone_check = $(".scratchListItems ul li").length;
	if (clone_check < 10) {
		var a = $(".scratchListItems ul").find("li:last-child");
		var c = a.off("keyup").clone();
		c.find("input").val("");
		c.insertBefore(a);
		init_scratchlist_item_row();
		init_edit_scratchlist(true, d)
	}
}
function show_scl_popup(a, e, d, c, b) {
	if (a == "close") {
		uiv2_hide_popup("shoplist-popup");
		$(".uiv2-background-shade").hide();
		$("#shoplist-mask").hide()
	} else {
		$
				.ajax({
					url : "/member/show-scl-popup/",
					type : "post",
					data : {
						list_type : b,
						list_id : e,
						popup_type : a,
						csrfmiddlewaretoken : $("#id_csrftkn").val(),
						is_done : c
					},
					dataType : "json",
					success : function(f) {
						if (f.success) {
							if (f.is_member) {
								$("#popup-content").html(f.sl_popup_html);
								uiv2_show_popup("shoplist-popup");
								$(".uiv2-background-shade").hide();
								$("#shoplist-mask").show();
								$(".uiv2-shoplist-select").dropkick();
								$("#dk_container_sl_names").css("height",
										"26px")
							} else {
								save_visitor_items(e);
								get_params = window.location.href.split("?");
								next_url = window.location.pathname;
								if (get_params.length > 1) {
									next_url = next_url + "?" + get_params[1]
								}
								show_alert(
										"Please sign in to save this list. Clicking on OK will redirect you to the login page",
										function() {
											location.href = "/auth/login/?next="
													+ encodeURIComponent(next_url)
										})
							}
						}
					}
				})
	}
}
function save_visitor_items(a) {
	items = get_list_items(a);
	$.ajax({
		url : "/member/save-visitor-items/",
		type : "post",
		data : {
			list_id : a,
			csrfmiddlewaretoken : $("#id_csrftkn").val(),
			items : items
		},
		dataType : "json",
		success : function(b) {
			if (b.success) {
				uiv2_hide_popup("shoplist-popup");
				$(".uiv2-background-shade").hide();
				$("#shoplist-mask").hide()
			}
		}
	})
}
function save_items_to_list(d, b, a, c) {
	scl_function = $("input[type='radio'][name='radio_sl']:checked").val();
	if (!scl_function) {
		$("#create_alert").empty().html("Please select an option");
		return
	}
	if (!d || d == "None") {
		items = get_list_items("unsaved")
	} else {
		items = get_list_items(d)
	}
	if (items.length <= 0) {
		show_alert("Please enter some items in the list");
		return
	}
	q_scl = $("#scl_query_term").val();
	attr_href = $("#save_link").attr("href");
	if (scl_function == "create") {
		new_name = $("#newShoppingListName").val().replace(/\s+/g, " ")
				.replace(/^\s+|\s+$/g, "");
		if (new_name.length <= 0) {
			$("#create_alert").empty().html("Please enter a name.")
		}
		$("#save_link").attr("href", "");
		$.ajax({
			url : "/member/create-scl/",
			type : "post",
			data : {
				"items[]" : items,
				new_name : new_name,
				csrfmiddlewaretoken : $("#id_csrftkn").val(),
				"edit-mode" : true,
				list_id : d,
				q : q_scl,
				list_type : a,
				list_status : c
			},
			dataType : "json",
			success : function(e) {
				if (e.success) {
					uiv2_hide_popup("shoplist-popup");
					$(".uiv2-background-shade").hide();
					$("#shoplist-mask").hide();
					mesg = "Successfully saved list " + new_name;
					$.notifyBar({
						cls : "success",
						html : mesg
					});
					set_shoplist_gae("scratch", new_name,
							" - Save as a new list", "");
					if (e.change_list) {
						scl_id = e.scl_id;
						a = e.list_type;
						slug = e.slug;
						if ($("#continue-scl")) {
							$("#continue-scl").find("a").attr(
									"href",
									"javascript:show_ps_scratch_list('"
											+ scl_id + "','" + a + "','" + slug
											+ "')")
						}
						replace_scratch_list_html(e.list_html)
					}
					if ($("#shoplist-landing").val()) {
						location.href = window.location.pathname
					}
					if (e.change_list && !$("#shoplist-landing").val()) {
						get_scratchlist_content(d)
					}
					if (b == "true") {
						location.href = "/basket/"
					}
				} else {
					if (e.fail_msg) {
						$("#create_alert").empty().html(e.fail_msg)
					}
				}
				$("#save_link").attr("href", attr_href)
			}
		})
	}
	if (scl_function == "add") {
		copy_to_list = $(".uiv2-shoplist-select :selected").val();
		$.ajax({
			url : "/member/add-to-scratchlist/",
			type : "post",
			data : {
				"items[]" : items,
				copy_to_list : copy_to_list,
				csrfmiddlewaretoken : $("#id_csrftkn").val(),
				"edit-mode" : true,
				current_list : d,
				q : q_scl
			},
			dataType : "json",
			success : function(e) {
				if (e.success) {
					uiv2_hide_popup("shoplist-popup");
					$(".uiv2-background-shade").hide();
					$("#shoplist-mask").hide();
					set_shoplist_gae("scratch", $(
							".uiv2-shoplist-select :selected").html(),
							" - Add to selected list", "");
					mesg = "Successfully saved to the list "
							+ $(".uiv2-shoplist-select :selected").html();
					$.notifyBar({
						cls : "success",
						html : mesg
					});
					if ($("#shoplist-landing").val()) {
						location.href = window.location.pathname
					}
					if (b == "true") {
						location.href = "/basket/"
					}
				} else {
					if (e.fail_msg) {
						$("#create_alert").empty().html(e.fail_msg)
					}
				}
				$("#save_link").attr("href", attr_href)
			}
		})
	}
}
function clear_list(a) {
	items = get_list_items(a);
	if (items.length <= 0) {
		show_alert("Please enter some items in the list");
		return
	}
	scratch_list_edited = true;
	clear_list_items(a)
}
function clear_list_items(d) {
	items = get_list_items(d);
	$(".empty-li").addClass("toRemove");
	set_shoplist_gae("scratch",
			$("#scratch-list-name_scratchlist_" + d).html(), "- Clear list",
			items.length);
	$("[name = 'scratchlist-item']").each(function() {
		$(this).val("");
		$(".uiv2-cross").hide();
		$(this).removeClass("scratchItem");
		$(this).attr("id", "")
	});
	$(".scratchState").val(0);
	$(".item-li").remove();
	var a = $(".empty-li").last();
	var c = 10;
	for (i = 0; i < c; i++) {
		var b = a.off("keyup").clone();
		b.insertBefore(a);
		b.removeClass("toRemove");
		b.find("input").val("")
	}
	init_scratchlist_item_row();
	init_edit_scratchlist(true, d);
	$(".toRemove").remove();
	$("#continue-scl").hide();
	$(".uiv2-shop-red-icon").hide()
}
function init_scratchlist_item_row() {
	$(".empty-row").on("keyup", function(a) {
		$(this).parent().find("a").css("display", "block")
	});
	$(".uiv2-my-scratch-list-wrapper ul li input").hover(function() {
		$(this).css({
			color : "#676768",
			"font-weight" : "500"
		})
	});
	$("[name = 'scratchlist-item']").on("keypress", function() {
		if ($(this).is(":focus")) {
			$(this).removeClass("scratchItem")
		}
		$("[name = 'scratchlist-item']").each(function() {
			scratch_state = "#scratch_state" + $(this).attr("id");
			if (!$(this).is(":focus") && $(scratch_state).val() == 1) {
				$(this).addClass("scratchItem")
			}
		})
	});
	$("[name = 'scratchlist-item']").blur(function() {
		scratch_state = "#scratch_state" + $(this).attr("id");
		if (!$(this).is(":focus") && $(scratch_state).val() == 1) {
			$(this).addClass("scratchItem")
		}
	});
	$(".scratchListItems").on("keyup", "li", function(a) {
		if (a.keyCode == 38) {
			$(this).prev().find("input").focus()
		}
		if (a.keyCode == 40 || a.keyCode === 13) {
			$(this).next().find("input").focus()
		}
	})
}*/


/*function rename_scratchlist(b, a) {
	new_name = $("#newShoppingListName").val().replace(/\s+/g, " ").replace(
			/^\s+|\s+$/g, "");
	if (new_name.length <= 0) {
		$("#create_alert").empty().html("Please enter a name.")
	}
	q_scl = $("#scl_query_term").val();
	$.ajax({
		url : "/member/rename-list/",
		type : "post",
		data : {
			new_name : new_name,
			csrfmiddlewaretoken : $("#id_csrftkn").val(),
			"edit-mode" : true,
			scl_id : b,
			memvis_id : a
		},
		dataType : "json",
		success : function(c) {
			if (c.success) {
				uiv2_hide_popup("shoplist-popup");
				$(".uiv2-background-shade").hide();
				$("#shoplist-mask").hide();
				$("#scratch-list-name_scratchlist_" + a).html(new_name);
				$("#nav_scl_" + a).html(new_name);
				$("#sclName_" + a).html(new_name)
			} else {
				if (c.fail_msg) {
					$("#create_alert").empty().html(c.fail_msg)
				}
			}
		}
	})
}


function remove_node(b) {
	clone_check = $(".scratchListItems ul li").length;
	if (b && clone_check < 10) {
		var a = b.off("keyup").clone();
		var c = b.parent().find("li:last-child");
		a.insertAfter(c);
		a.find("input").val("");
		a.find(".uiv2-cross").hide();
		init_scratchlist_item_row();
		b.on("keyup", "li", function(d) {
			if (d.keyCode == 38) {
				$(this).prev().find("input").focus()
			}
			if (d.keyCode == 40 || d.keyCode == 13) {
				$(this).next().find("input").focus()
			}
		})
	}
	b.remove();
	set_scratch_list_scroll()
}

function init_edit_scratchlist(a, b) {
	set_scratch_list_scroll();
	scl_id = "scratchlist_" + b;
	clone_ele = false;
	list_items_id = "#list-items_" + scl_id;
	list_items_id = "#list-items_" + scl_id;
	$(list_items_id + " li").each(function() {
		$(this).find("input").removeAttr("readonly");
		$(this).find("input").css("background", "#FEFBDA");
		$(this).css("background", "#FEFBDA");
		$(this).find("input").attr("onclick", "")
	});
	$(list_items_id).on(
			"keyup",
			"li",
			function(d) {
				if (d.keyCode == 13
						&& (($(this).find("input").val() && $(this).next()
								.find("input").val()) || $(this).is(
								":last-child"))) {
					var c = $(this).off("keyup").clone();
					c.css("background", "#FEFBDA");
					c.attr("id", "");
					c.find(".scratchState").attr("id", "");
					c.find(".scratchState").val(0);
					c.find(".scratchBtn").remove();
					new_inp = c.find("input");
					new_inp.css("background", "#FEFBDA");
					new_inp.val("");
					new_inp.attr("id", "");
					new_inp.removeClass("scratchItem");
					new_inp.on("onclick", function(e) {
					});
					a_ele = c.find("a");
					a_ele.attr("href", "javascript:remove_node()");
					a_ele.click(function() {
						remove_node($(this).parent())
					});
					a_ele.css("display", "none");
					c.insertAfter($(this));
					$(".scratchListItems").jScrollPane({}).data("jsp")
							.destroy();
					$(".scratchListItems").jScrollPane({
						contentWidth : "0px"
					});
					if ($(".scratchListItems ul li").length >= 12
							&& (/Firefox[\/\s](\d+\.\d+)/
									.test(navigator.userAgent))) {
						$(".scratchListItems").css("padding-top", "15px")
					}
					new_inp.focus();
					new_inp.on("keyup", function(e) {
						$(this).parent().find("a").css("display", "block");
						if (e.which === 38) {
							inp = $(this).parent().prev().find("input");
							inp.focus()
						}
						if (e.which === 40) {
							inp = $(this).parent().next().find("input");
							inp.focus()
						}
					});
					new_inp.hover(function() {
						$(this).css({
							color : "#676768",
							"font-weight" : "500"
						})
					})
				}
				if (d.keyCode == 38) {
					$(this).prev().find("input").focus()
				}
				if (d.keyCode == 40) {
					$(this).next().find("input").focus()
				}
			});
	$("#" + scl_id + " [name = 'scratchlist-item']").on("keyup", function(c) {
		if (c.which === 13) {
			inp = $(this).parent().next().find("input");
			inp.focus()
		}
	});
	$("#" + scl_id + ".item-li .uiv2-cross").show();
	$("#" + scl_id + " #find_products").show();
	$("#" + scl_id + " #clear_list").show();
	$("#" + scl_id + " #done").hide();
	$("#" + scl_id + " #edit_link").hide();
	$(".arrow_scl").hide();
	$("#" + scl_id + " .checkbox_scl").hide()
}
function edit_scratch_list(c, d, a, b) {
	q_scl = $("#scl_query_term").val();
	attr_href = $("#edit_link").find("a").attr("href");
	$("#edit_link").find("a").attr("href", "");
	$.ajax({
		url : "/member/edit-list/",
		type : "post",
		data : {
			csrfmiddlewaretoken : $("#id_csrftkn").val(),
			"edit-mode" : true,
			list_id : d,
			scl_type : a,
			q : q_scl,
			memvis_id : b
		},
		dataType : "json",
		success : function(e) {
			if (e.success) {
				uiv2_hide_popup("shoplist-popup");
				$(".uiv2-background-shade").hide();
				$("#shoplist-mask").hide();
				replace_scratch_list_html(e.list_html);
				set_shoplist_gae("scratch", $(
						"#scratch-list-name_scratchlist_" + b).html(),
						" -  Edit list");
				if (e.original_list_id) {
					get_scratchlist_content(e.original_list_id)
				} else {
					get_scratchlist_content(b)
				}
				init_edit_scratchlist(c, b)
			}
			$("#edit_link").find("a").attr("href", attr_href)
		}
	})
}
function show_search_products(a) {
	location.href = "/ps/?q=" + a
}*/
/*function show_ps_scratch_list(c, b, a) {
	$
			.ajax({
				url : make_req_url("/member/ps-scratch-list/"),
				type : "post",
				data : {
					scl_id : c,
					"list-type" : b
				},
				dataType : "json",
				success : function(d) {
					if (d.success) {
						if (b == "1") {
							location.href = "/ps/ssl/" + a + "/?q=" + d.q
						} else {
							location.href = "/ps/sl/" + a + "/?q=" + d.q
						}
					} else {
						if (d.msg) {
							if (d.status == "unsaved") {
								show_alert(d.msg
										+ ". Clicking on the create new shopping list button brings up the Unsaved List")
							} else {
								msg = d.msg;
								if (window.location.pathname.indexOf("/ps/sl") == -1
										|| window.location.pathname
												.indexOf("/ps/ssl") == -1) {
									msg += ".You can view this list on the shopping lists page."
								}
								if ($(".uiv2-save-edit-clear-wrap").length) {
									show_alert(msg)
								} else {
									show_alert(
											msg,
											function() {
												location.href = "/order/shopping-lists/"
											})
								}
							}
						}
					}
				}
			})
}
function done_scratchlist(c, a, b) {
	if (a == 1) {
		show_scl_popup("save", c, b, true, "")
	} else {
		location.href = "/basket/"
	}
}
function delete_scratch_list(a) {
	show_confirm("Are you sure want to delete this list?", function() {
		$.ajax({
			url : "/member/delete-scratch-list/",
			type : "post",
			data : {
				csrfmiddlewaretoken : $("#id_csrftkn").val(),
				list_id : a
			},
			dataType : "json",
			success : function(b) {
				if (b.success) {
					set_shoplist_gae("scratch", $("#sclName_" + a).html(),
							"-Delete List");
					$("#landing_scl_" + a).remove();
					if (b.del_session) {
						$("#continue-scl").hide();
						$(".uiv2-shop-red-icon").hide()
					}
				}
			}
		})
	}, function() {
		return
	})
}
function init_show_message() {
	$(".uiv2-max-min-btn").show();
	$(".uiv2-min-max-btn").hide();
	var a = $(".uiv2-widgets-bottom-slide");
	a.find(".uiv2-min-max-btn").click(function() {
		a.find(".uiv2-widget-contents").slideDown();
		$(".uiv2-min-max-btn").hide();
		$(".uiv2-max-min-btn").show()
	});
	a.find(".uiv2-max-min-btn").click(function() {
		a.find(".uiv2-widget-contents").slideUp();
		$(".uiv2-max-min-btn").hide();
		$(".uiv2-min-max-btn").show()
	});
	a.find(".uiv2-close-btn-n").click(function() {
		$(".uiv2-widgets-bottom-slide").fadeOut()
	})
}
function close_scl(a) {
	scl_id = "#" + a;
	$(scl_id).remove();
	$("#help_box").hide()
}
function minimize_scratchlist(b, a) {
	$("#" + b + " .uiv2-my-scratch-list-wrapper").slideToggle();
	a.hide();
	$("#" + b + " .plusOpen").show();
	set_shoplist_gae("scratch", $("#scratch-list-name_" + b).html(),
			" - Minimize")
}
function maximize_scratchlist(b, a) {
	$("#" + b + " .uiv2-my-scratch-list-wrapper").slideToggle();
	a.hide();
	$("#" + b + " .uiv2-my-shopping-minus").show();
	set_shoplist_gae("scratch", $("#scratch-list-name_" + b).html(),
			" - Maximize")
}
function replace_scratch_list_html(a) {
	if ($("#facetsContainer").html()) {
		$("#scratchListContainerFacets").empty().html(a)
	} else {
		sl_html = $("#scratchListContainer").empty().html(a)
	}
}
function set_scratch_list_scroll() {
	setTimeout(function() {
		$(".scratchListItems").jScrollPane({
			contentWidth : "0px"
		})
	}, 15)
}
function cancel_list_edit(a) {
	attr_href = $("#cancel_link").attr("href");
	$("#cancel_link").attr("href", "");
	$.ajax({
		url : "/member/cancel-list-edit/",
		type : "post",
		data : {
			csrfmiddlewaretoken : $("#id_csrftkn").val(),
			memvis_id : a
		},
		dataType : "json",
		success : function(b) {
			if (b.success) {
				replace_scratch_list_html(b.list_html);
				set_shoplist_gae("scratch", $("#sclName_" + a).html(),
						"-Cancel List Edit")
			}
			$("#cancel_link").attr("href", attr_href);
			$("#continue-scl").show();
			$(".uiv2-shop-red-icon").show()
		}
	})
}
function show_alert(c, a, b) {
	$("#custom-alert").show();
	$("#alert-msg").empty().html(c);
	$("#cancel_button").hide();
	$("#shoplist-mask").show();
	$("#ok_button").css("margin-left", "58px");
	$("#ok_button").on("click", function() {
		$("#custom-alert").hide();
		if (a) {
			a()
		}
		$("#shoplist-mask").hide()
	})
}
function show_confirm(c, a, b) {
	$("#custom-alert").show();
	$("#cancel_button").show();
	$("#ok_button").css("margin-left", "0px");
	$("#alert-msg").empty().html(c);
	$("#shoplist-mask").show();
	$("#ok_button").on("click", function() {
		$("#custom-alert").hide();
		$("#shoplist-mask").hide();
		if (a) {
			a()
		}
	});
	$("#cancel_button").on("click", function() {
		if (b) {
			b
		}
		$("#shoplist-mask").hide();
		$("#custom-alert").hide()
	})
}
function scratch_list_edit_handler() {
	if (window.location.pathname.indexOf("ps/sl") != -1
			|| window.location.pathname.indexOf("ps/ssl") != -1) {
		$("#create_scratch_list").find("a").attr("href", "#");
		$("#create_scratch_list").click(function() {
			location.href = "/?scl=1"
		})
	}
	scratch_list_edited = false;
	$(".uiv2-my-scratch-list-wrapper ul li").on("keyup", "input", function(a) {
		scratch_list_edited = true
	})
}
function unbind_slider(a) {
	$(a + " .uiv2-navigation").parent().remove();
	$(a + " .Next-btn").unbind("click");
	$(a + " .Prev-btn").unbind("click");
	$(a + " .uiv2-navigation li").unbind("click")
}
function show_tab_help(b, a) {
	help_id = "#" + b;
	$(".tabs-content").hide();
	$("#" + b).show();
	$(".tabs li a").removeClass("active");
	$(help_id + "_a").addClass("active");
	if (a && a == "prod") {
		set_help = "prod"
	}
	if (a && a == "scl") {
		set_help = "scl"
	}
	if (help_id == "#tab1") {
		if (set_help == "prod") {
			trigger_click($("#tab1 .uiv2-navigation li:nth-child(3)"), "#tab1");
			$("#tab1 .uiv2-navigation li:nth-child(3)").addClass("active")
		} else {
			if (set_help == "scl") {
				trigger_click($("#tab1 .uiv2-navigation li:nth-child(4)"),
						"#tab1");
				$("#tab1 .uiv2-navigation li:nth-child(4)").addClass("active")
			} else {
				click_li = "";
				set_slider(help_id, click_li, false)
			}
		}
	} else {
		click_li = "";
		set_slider(help_id, click_li, false)
	}
}
function trigger_click(b, a) {
	set_slider(a, b, false);
	$("#tab1 .uiv2-navigation").find("li").removeClass("active");
	set_help = ""
}
function set_slider(a, b, c) {
	unbind_slider(a);
	if (c) {
		setTimeout(function() {
			slider(".uiv2-slide-obj:visible", 300, a, b)
		}, 250)
	} else {
		slider(".uiv2-slide-obj:visible", 300, a, b)
	}
}
function getParameterByName(a) {
	a = a.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
	var c = new RegExp("[\\?&]" + a + "=([^&#]*)"), b = c.exec(location.search);
	return b == null ? "" : decodeURIComponent(b[1].replace(/\+/g, " "))
}
function on_register_free_delivery_token_dialog() {
	var b = window.location.href;
	var d = b.split("?")[1];
	if (d != undefined && d.search("delivery_token_msg=1") != -1) {
		var a = getParameterByName("num_tokens");
		var c = getParameterByName("valid_to");
		$("#num_free_delivery_token").html(a);
		$("#num_free_delivery_token1").html(a);
		$("#expiry_free_delivery_token").html(c);
		uiv2_show_popup("uiv2_on_registration_free_delivery_token");
		$("#uiv2_on_registration_free_delivery_token a.uiv2-popupclose").bind(
				"click", on_register_free_delivery_token_dialog_close)
	}
	return false
}
function on_register_free_delivery_token_dialog_close() {
	window.location.href = window.location.href.replace(
			/&?((num_tokens)|(valid_to)|(delivery_token_msg))=([^&]$|[^&]*)/gi,
			"")
}
(function(d, e, f) {
	d.fn.jScrollPane = function(a) {
		function b(br, bb) {
			var bk, a9 = this, a1, bF, aK, bD, a6, a0, s, aO, bi, bS, bs, aW, bh, aX, aV, bO, a5, bz, a2, aM, bw, by, bJ, bC, bl, aT, bu, bm, aI, bq, bP, aZ, be, bG = true, ba = true, bQ = false, aU = false, bA = br
					.clone(false, false).empty(), bM = d.fn.mwheelIntent ? "mwheelIntent.jsp"
					: "mousewheel.jsp";
			bP = br.css("paddingTop") + " " + br.css("paddingRight") + " "
					+ br.css("paddingBottom") + " " + br.css("paddingLeft");
			aZ = (parseInt(br.css("paddingLeft"), 10) || 0)
					+ (parseInt(br.css("paddingRight"), 10) || 0);
			function bx(j) {
				var o, m, n, g, h, k, l = false, p = false;
				bk = j;
				if (a1 === f) {
					h = br.scrollTop();
					k = br.scrollLeft();
					br.css({
						overflow : "hidden",
						padding : 0
					});
					bF = br.innerWidth() + aZ;
					aK = br.innerHeight();
					br.width(bF);
					a1 = d('<div class="jspPane" />').css("padding", bP)
							.append(br.children());
					bD = d('<div class="jspContainer" />').css({
						width : bF + "px",
						height : aK + "px"
					}).append(a1).appendTo(br)
				} else {
					br.css("width", "");
					l = bk.stickToBottom && bf();
					p = bk.stickToRight && bv();
					g = br.innerWidth() + aZ != bF || br.outerHeight() != aK;
					if (g) {
						bF = br.innerWidth() + aZ;
						aK = br.innerHeight();
						bD.css({
							width : bF + "px",
							height : aK + "px"
						})
					}
					if (!g && be == a6 && a1.outerHeight() == a0) {
						br.width(bF);
						return
					}
					be = a6;
					a1.css("width", "");
					br.width(bF);
					bD.find(">.jspVerticalBar,>.jspHorizontalBar").remove()
							.end()
				}
				a1.css("overflow", "auto");
				if (j.contentWidth) {
					a6 = j.contentWidth
				} else {
					a6 = a1[0].scrollWidth
				}
				a0 = a1[0].scrollHeight;
				a1.css("overflow", "");
				s = a6 / bF;
				aO = a0 / aK;
				bi = aO > 1;
				bS = s > 1;
				if (!(bS || bi)) {
					br.removeClass("jspScrollable");
					a1.css({
						top : 0,
						width : bD.width() - aZ
					});
					aR();
					bp();
					a8();
					aJ()
				} else {
					br.addClass("jspScrollable");
					o = bk.maintainPosition && (bh || bO);
					if (o) {
						m = bU();
						n = bW()
					}
					bR();
					c();
					bn();
					if (o) {
						bc(p ? (a6 - bF) : m, false);
						bd(l ? (a0 - aK) : n, false)
					}
					bg();
					bI();
					bB();
					if (bk.enableKeyboardNavigation) {
						a7()
					}
					if (bk.clickOnTrack) {
						aP()
					}
					bt();
					if (bk.hijackInternalLinks) {
						aS()
					}
				}
				if (bk.autoReinitialise && !bq) {
					bq = setInterval(function() {
						bx(bk)
					}, bk.autoReinitialiseDelay)
				} else {
					if (!bk.autoReinitialise && bq) {
						clearInterval(bq)
					}
				}
				h && br.scrollTop(0) && bd(h, false);
				k && br.scrollLeft(0) && bc(k, false);
				br.trigger("jsp-initialised", [ bS || bi ])
			}
			function bR() {
				if (bi) {
					bD
							.append(d('<div class="jspVerticalBar" />')
									.append(
											d('<div class="jspCap jspCapTop" />'),
											d('<div class="jspTrack" />')
													.append(
															d(
																	'<div class="jspDrag" />')
																	.append(
																			d('<div class="jspDragTop" />'),
																			d('<div class="jspDragBottom" />'))),
											d('<div class="jspCap jspCapBottom" />')));
					a5 = bD.find(">.jspVerticalBar");
					bz = a5.find(">.jspTrack");
					bs = bz.find(">.jspDrag");
					if (bk.showArrows) {
						by = d('<a class="jspArrow jspArrowUp" />').bind(
								"mousedown.jsp", bT(0, -1)).bind("click.jsp",
								bV);
						bJ = d('<a class="jspArrow jspArrowDown" />').bind(
								"mousedown.jsp", bT(0, 1))
								.bind("click.jsp", bV);
						if (bk.arrowScrollOnHover) {
							by.bind("mouseover.jsp", bT(0, -1, by));
							bJ.bind("mouseover.jsp", bT(0, 1, bJ))
						}
						bE(bz, bk.verticalArrowPositions, by, bJ)
					}
					aM = aK;
					bD
							.find(
									">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow")
							.each(function() {
								aM -= d(this).outerHeight()
							});
					bs.hover(function() {
						bs.addClass("jspHover")
					}, function() {
						bs.removeClass("jspHover")
					}).bind("mousedown.jsp", function(h) {
						d("html").bind("dragstart.jsp selectstart.jsp", bV);
						bs.addClass("jspActive");
						var g = h.pageY - bs.position().top;
						d("html").bind("mousemove.jsp", function(j) {
							a4(j.pageY - g, false)
						}).bind("mouseup.jsp mouseleave.jsp", bo);
						return false
					});
					aQ()
				}
			}
			function aQ() {
				bz.height(aM + "px");
				bh = 0;
				a2 = bk.verticalGutter + bz.outerWidth();
				a1.width(bF - a2 - aZ);
				try {
					if (a5.position().left === 0) {
						a1.css("margin-left", a2 + "px")
					}
				} catch (g) {
				}
			}
			function c() {
				if (bS) {
					bD
							.append(d('<div class="jspHorizontalBar" />')
									.append(
											d('<div class="jspCap jspCapLeft" />'),
											d('<div class="jspTrack" />')
													.append(
															d(
																	'<div class="jspDrag" />')
																	.append(
																			d('<div class="jspDragLeft" />'),
																			d('<div class="jspDragRight" />'))),
											d('<div class="jspCap jspCapRight" />')));
					bC = bD.find(">.jspHorizontalBar");
					bl = bC.find(">.jspTrack");
					aX = bl.find(">.jspDrag");
					if (bk.showArrows) {
						bm = d('<a class="jspArrow jspArrowLeft" />').bind(
								"mousedown.jsp", bT(-1, 0)).bind("click.jsp",
								bV);
						aI = d('<a class="jspArrow jspArrowRight" />').bind(
								"mousedown.jsp", bT(1, 0))
								.bind("click.jsp", bV);
						if (bk.arrowScrollOnHover) {
							bm.bind("mouseover.jsp", bT(-1, 0, bm));
							aI.bind("mouseover.jsp", bT(1, 0, aI))
						}
						bE(bl, bk.horizontalArrowPositions, bm, aI)
					}
					aX.hover(function() {
						aX.addClass("jspHover")
					}, function() {
						aX.removeClass("jspHover")
					}).bind("mousedown.jsp", function(h) {
						d("html").bind("dragstart.jsp selectstart.jsp", bV);
						aX.addClass("jspActive");
						var g = h.pageX - aX.position().left;
						d("html").bind("mousemove.jsp", function(j) {
							a3(j.pageX - g, false)
						}).bind("mouseup.jsp mouseleave.jsp", bo);
						return false
					});
					aT = bD.innerWidth();
					bH()
				}
			}
			function bH() {
				bD
						.find(
								">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow")
						.each(function() {
							aT -= d(this).outerWidth()
						});
				bl.width(aT + "px");
				bO = 0
			}
			function bn() {
				if (bS && bi) {
					var h = bl.outerHeight(), g = bz.outerWidth();
					aM -= h;
					d(bC).find(">.jspCap:visible,>.jspArrow").each(function() {
						aT += d(this).outerWidth()
					});
					aT -= g;
					aK -= g;
					bF -= h;
					bl.parent().append(
							d('<div class="jspCorner" />').css("width",
									h + "px"));
					aQ();
					bH()
				}
				if (bS) {
					a1.width((bD.outerWidth() - aZ) + "px")
				}
				a0 = a1.outerHeight();
				aO = a0 / aK;
				if (bS) {
					bu = Math.ceil(1 / s * aT);
					if (bu > bk.horizontalDragMaxWidth) {
						bu = bk.horizontalDragMaxWidth
					} else {
						if (bu < bk.horizontalDragMinWidth) {
							bu = bk.horizontalDragMinWidth
						}
					}
					aX.width(bu + "px");
					aV = aT - bu;
					bK(bO)
				}
				if (bi) {
					bw = Math.ceil(1 / aO * aM);
					if (bw > bk.verticalDragMaxHeight) {
						bw = bk.verticalDragMaxHeight
					} else {
						if (bw < bk.verticalDragMinHeight) {
							bw = bk.verticalDragMinHeight
						}
					}
					bs.height(bw + "px");
					aW = aM - bw;
					bL(bh)
				}
			}
			function bE(m, k, n, h) {
				var g = "before", l = "after", j;
				if (k == "os") {
					k = /Mac/.test(navigator.platform) ? "after" : "split"
				}
				if (k == g) {
					l = k
				} else {
					if (k == l) {
						g = k;
						j = n;
						n = h;
						h = j
					}
				}
				m[g](n)[l](h)
			}
			function bT(j, g, h) {
				return function() {
					bj(j, g, this, h);
					this.blur();
					return false
				}
			}
			function bj(l, m, g, j) {
				g = d(g).addClass("jspActive");
				var k, n, o = true, h = function() {
					if (l !== 0) {
						a9.scrollByX(l * bk.arrowButtonSpeed)
					}
					if (m !== 0) {
						a9.scrollByY(m * bk.arrowButtonSpeed)
					}
					n = setTimeout(h, o ? bk.initialDelay : bk.arrowRepeatFreq);
					o = false
				};
				h();
				k = j ? "mouseout.jsp" : "mouseup.jsp";
				j = j || d("html");
				j.bind(k, function() {
					g.removeClass("jspActive");
					n && clearTimeout(n);
					n = null;
					j.unbind(k)
				})
			}
			function aP() {
				aJ();
				if (bi) {
					bz
							.bind(
									"mousedown.jsp",
									function(j) {
										if (j.originalTarget === f
												|| j.originalTarget == j.currentTarget) {
											var l = d(this), g = l.offset(), k = j.pageY
													- g.top - bh, n, o = true, h = function() {
												var q = l.offset(), p = j.pageY
														- q.top - bw / 2, t = aK
														* bk.scrollPagePercent, r = aW
														* t / (a0 - aK);
												if (k < 0) {
													if (bh - r > p) {
														a9.scrollByY(-t)
													} else {
														a4(p)
													}
												} else {
													if (k > 0) {
														if (bh + r < p) {
															a9.scrollByY(t)
														} else {
															a4(p)
														}
													} else {
														m();
														return
													}
												}
												n = setTimeout(
														h,
														o ? bk.initialDelay
																: bk.trackClickRepeatFreq);
												o = false
											}, m = function() {
												n && clearTimeout(n);
												n = null;
												d(document).unbind(
														"mouseup.jsp", m)
											};
											h();
											d(document).bind("mouseup.jsp", m);
											return false
										}
									})
				}
				if (bS) {
					bl
							.bind(
									"mousedown.jsp",
									function(j) {
										if (j.originalTarget === f
												|| j.originalTarget == j.currentTarget) {
											var l = d(this), g = l.offset(), k = j.pageX
													- g.left - bO, n, o = true, h = function() {
												var q = l.offset(), p = j.pageX
														- q.left - bu / 2, t = bF
														* bk.scrollPagePercent, r = aV
														* t / (a6 - bF);
												if (k < 0) {
													if (bO - r > p) {
														a9.scrollByX(-t)
													} else {
														a3(p)
													}
												} else {
													if (k > 0) {
														if (bO + r < p) {
															a9.scrollByX(t)
														} else {
															a3(p)
														}
													} else {
														m();
														return
													}
												}
												n = setTimeout(
														h,
														o ? bk.initialDelay
																: bk.trackClickRepeatFreq);
												o = false
											}, m = function() {
												n && clearTimeout(n);
												n = null;
												d(document).unbind(
														"mouseup.jsp", m)
											};
											h();
											d(document).bind("mouseup.jsp", m);
											return false
										}
									})
				}
			}
			function aJ() {
				if (bl) {
					bl.unbind("mousedown.jsp")
				}
				if (bz) {
					bz.unbind("mousedown.jsp")
				}
			}
			function bo() {
				d("html")
						.unbind(
								"dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp");
				if (bs) {
					bs.removeClass("jspActive")
				}
				if (aX) {
					aX.removeClass("jspActive")
				}
			}
			function a4(g, h) {
				if (!bi) {
					return
				}
				if (g < 0) {
					g = 0
				} else {
					if (g > aW) {
						g = aW
					}
				}
				if (h === f) {
					h = bk.animateScroll
				}
				if (h) {
					a9.animate(bs, "top", g, bL)
				} else {
					bs.css("top", g);
					bL(g)
				}
			}
			function bL(l) {
				if (l === f) {
					l = bs.position().top
				}
				bD.scrollTop(0);
				bh = l;
				var h = bh === 0, k = bh == aW, j = l / aW, g = -j * (a0 - aK);
				if (bG != h || bQ != k) {
					bG = h;
					bQ = k;
					br.trigger("jsp-arrow-change", [ bG, bQ, ba, aU ])
				}
				aL(h, k);
				a1.css("top", g);
				br.trigger("jsp-scroll-y", [ -g, h, k ]).trigger("scroll")
			}
			function a3(h, g) {
				if (!bS) {
					return
				}
				if (h < 0) {
					h = 0
				} else {
					if (h > aV) {
						h = aV
					}
				}
				if (g === f) {
					g = bk.animateScroll
				}
				if (g) {
					a9.animate(aX, "left", h, bK)
				} else {
					aX.css("left", h);
					bK(h)
				}
			}
			function bK(l) {
				if (l === f) {
					l = aX.position().left
				}
				bD.scrollTop(0);
				bO = l;
				var h = bO === 0, j = bO == aV, k = l / aV, g = -k * (a6 - bF);
				if (ba != h || aU != j) {
					ba = h;
					aU = j;
					br.trigger("jsp-arrow-change", [ bG, bQ, ba, aU ])
				}
				aN(h, j);
				a1.css("left", g);
				br.trigger("jsp-scroll-x", [ -g, h, j ]).trigger("scroll")
			}
			function aL(h, g) {
				if (bk.showArrows) {
					by[h ? "addClass" : "removeClass"]("jspDisabled");
					bJ[g ? "addClass" : "removeClass"]("jspDisabled")
				}
			}
			function aN(h, g) {
				if (bk.showArrows) {
					bm[h ? "addClass" : "removeClass"]("jspDisabled");
					aI[g ? "addClass" : "removeClass"]("jspDisabled")
				}
			}
			function bd(g, j) {
				var h = g / (a0 - aK);
				a4(h * aW, j)
			}
			function bc(j, g) {
				var h = j / (a6 - bF);
				a3(h * aV, g)
			}
			function bN(j, o, g) {
				var r, v, u, w = 0, k = 0, h, p, q, m, n, l;
				try {
					r = d(j)
				} catch (t) {
					return
				}
				v = r.outerHeight();
				u = r.outerWidth();
				bD.scrollTop(0);
				bD.scrollLeft(0);
				while (!r.is(".jspPane")) {
					w += r.position().top;
					k += r.position().left;
					r = r.offsetParent();
					if (/^body|html$/i.test(r[0].nodeName)) {
						return
					}
				}
				h = bW();
				q = h + aK;
				if (w < h || o) {
					n = w - bk.verticalGutter
				} else {
					if (w + v > q) {
						n = w - aK + v + bk.verticalGutter
					}
				}
				if (n) {
					bd(n, g)
				}
				p = bU();
				m = p + bF;
				if (k < p || o) {
					l = k - bk.horizontalGutter
				} else {
					if (k + u > m) {
						l = k - bF + u + bk.horizontalGutter
					}
				}
				if (l) {
					bc(l, g)
				}
			}
			function bU() {
				return -a1.position().left
			}
			function bW() {
				return -a1.position().top
			}
			function bf() {
				var g = a0 - aK;
				return (g > 20) && (g - bW() < 10)
			}
			function bv() {
				var g = a6 - bF;
				return (g > 20) && (g - bU() < 10)
			}
			function bI() {
				bD.unbind(bM).bind(
						bM,
						function(j, h, k, m) {
							var l = bO, g = bh;
							a9.scrollBy(k * bk.mouseWheelSpeed, -m
									* bk.mouseWheelSpeed, false);
							return l == bO && g == bh
						})
			}
			function aR() {
				bD.unbind(bM)
			}
			function bV() {
				return false
			}
			function bg() {
				a1.find(":input,a").unbind("focus.jsp").bind("focus.jsp",
						function(g) {
							bN(g.target, false)
						})
			}
			function bp() {
				a1.find(":input,a").unbind("focus.jsp")
			}
			function a7() {
				var g, k, h = [];
				bS && h.push(bC[0]);
				bi && h.push(a5[0]);
				a1.focus(function() {
					br.focus()
				});
				br.attr("tabindex", 0).unbind("keydown.jsp keypress.jsp")
						.bind(
								"keydown.jsp",
								function(l) {
									if (l.target !== this
											&& !(h.length && d(l.target)
													.closest(h).length)) {
										return
									}
									var m = bO, n = bh;
									switch (l.keyCode) {
									case 40:
									case 38:
									case 34:
									case 32:
									case 33:
									case 39:
									case 37:
										g = l.keyCode;
										j();
										break;
									case 35:
										bd(a0 - aK);
										g = null;
										break;
									case 36:
										bd(0);
										g = null;
										break
									}
									k = l.keyCode == g && m != bO || n != bh;
									return !k
								}).bind("keypress.jsp", function(l) {
							if (l.keyCode == g) {
								j()
							}
							return !k
						});
				if (bk.hideFocus) {
					br.css("outline", "none");
					if ("hideFocus" in bD[0]) {
						br.attr("hideFocus", true)
					}
				} else {
					br.css("outline", "");
					if ("hideFocus" in bD[0]) {
						br.attr("hideFocus", false)
					}
				}
				function j() {
					var l = bO, m = bh;
					switch (g) {
					case 40:
						a9.scrollByY(bk.keyboardSpeed, false);
						break;
					case 38:
						a9.scrollByY(-bk.keyboardSpeed, false);
						break;
					case 34:
					case 32:
						a9.scrollByY(aK * bk.scrollPagePercent, false);
						break;
					case 33:
						a9.scrollByY(-aK * bk.scrollPagePercent, false);
						break;
					case 39:
						a9.scrollByX(bk.keyboardSpeed, false);
						break;
					case 37:
						a9.scrollByX(-bk.keyboardSpeed, false);
						break
					}
					k = l != bO || m != bh;
					return k
				}
			}
			function a8() {
				br.attr("tabindex", "-1").removeAttr("tabindex").unbind(
						"keydown.jsp keypress.jsp")
			}
			function bt() {
				if (location.hash && location.hash.length > 1) {
					var h, k, j = escape(location.hash.substr(1));
					try {
						h = d("#" + j + ', a[name="' + j + '"]')
					} catch (g) {
						return
					}
					if (h.length && a1.find(j)) {
						if (bD.scrollTop() === 0) {
							k = setInterval(function() {
								if (bD.scrollTop() > 0) {
									bN(h, true);
									d(document).scrollTop(bD.position().top);
									clearInterval(k)
								}
							}, 50)
						} else {
							bN(h, true);
							d(document).scrollTop(bD.position().top)
						}
					}
				}
			}
			function aS() {
				if (d(document.body).data("jspHijack")) {
					return
				}
				d(document.body).data("jspHijack", true);
				d(document.body)
						.delegate(
								"a[href*=#]",
								"click",
								function(q) {
									var h = this.href.substr(0, this.href
											.indexOf("#")), p = location.href, l, k, g, n, o, m;
									if (location.href.indexOf("#") !== -1) {
										p = location.href.substr(0,
												location.href.indexOf("#"))
									}
									if (h !== p) {
										return
									}
									l = escape(this.href.substr(this.href
											.indexOf("#") + 1));
									k;
									try {
										k = d("#" + l + ', a[name="' + l + '"]')
									} catch (j) {
										return
									}
									if (!k.length) {
										return
									}
									g = k.closest(".jspScrollable");
									n = g.data("jsp");
									n.scrollToElement(k, true);
									if (g[0].scrollIntoView) {
										o = d(e).scrollTop();
										m = k.offset().top;
										if (m < o || m > o + d(e).height()) {
											g[0].scrollIntoView()
										}
									}
									q.preventDefault()
								})
			}
			function bB() {
				var l, m, j, k, h, g = false;
				bD
						.unbind(
								"touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick")
						.bind("touchstart.jsp", function(o) {
							var n = o.originalEvent.touches[0];
							l = bU();
							m = bW();
							j = n.pageX;
							k = n.pageY;
							h = false;
							g = true
						})
						.bind(
								"touchmove.jsp",
								function(n) {
									if (!g) {
										return
									}
									var o = n.originalEvent.touches[0], p = bO, q = bh;
									a9.scrollTo(l + j - o.pageX, m + k
											- o.pageY);
									h = h || Math.abs(j - o.pageX) > 5
											|| Math.abs(k - o.pageY) > 5;
									return p == bO && q == bh
								}).bind("touchend.jsp", function(n) {
							g = false
						}).bind("click.jsp-touchclick", function(n) {
							if (h) {
								h = false;
								return false
							}
						})
			}
			function aY() {
				var g = bW(), h = bU();
				br.removeClass("jspScrollable").unbind(".jsp");
				br.replaceWith(bA.append(a1.children()));
				bA.scrollTop(g);
				bA.scrollLeft(h);
				if (bq) {
					clearInterval(bq)
				}
			}
			d.extend(a9, {
				reinitialise : function(g) {
					g = d.extend({}, bk, g);
					bx(g)
				},
				scrollToElement : function(h, j, g) {
					bN(h, j, g)
				},
				scrollTo : function(h, g, j) {
					bc(h, j);
					bd(g, j)
				},
				scrollToX : function(h, g) {
					bc(h, g)
				},
				scrollToY : function(g, h) {
					bd(g, h)
				},
				scrollToPercentX : function(h, g) {
					bc(h * (a6 - bF), g)
				},
				scrollToPercentY : function(h, g) {
					bd(h * (a0 - aK), g)
				},
				scrollBy : function(j, g, h) {
					a9.scrollByX(j, h);
					a9.scrollByY(g, h)
				},
				scrollByX : function(g, j) {
					var k = bU() + Math[g < 0 ? "floor" : "ceil"](g), h = k
							/ (a6 - bF);
					a3(h * aV, j)
				},
				scrollByY : function(g, j) {
					var k = bW() + Math[g < 0 ? "floor" : "ceil"](g), h = k
							/ (a0 - aK);
					a4(h * aW, j)
				},
				positionDragX : function(g, h) {
					a3(g, h)
				},
				positionDragY : function(h, g) {
					a4(h, g)
				},
				animate : function(l, h, g, j) {
					var k = {};
					k[h] = g;
					l.animate(k, {
						duration : bk.animateDuration,
						easing : bk.animateEase,
						queue : false,
						step : j
					})
				},
				getContentPositionX : function() {
					return bU()
				},
				getContentPositionY : function() {
					return bW()
				},
				getContentWidth : function() {
					return a6
				},
				getContentHeight : function() {
					return a0
				},
				getPercentScrolledX : function() {
					return bU() / (a6 - bF)
				},
				getPercentScrolledY : function() {
					return bW() / (a0 - aK)
				},
				getIsScrollableH : function() {
					return bS
				},
				getIsScrollableV : function() {
					return bi
				},
				getContentPane : function() {
					return a1
				},
				scrollToBottom : function(g) {
					a4(aW, g)
				},
				hijackInternalLinks : d.noop,
				destroy : function() {
					aY()
				}
			});
			bx(bb)
		}
		a = d.extend({}, d.fn.jScrollPane.defaults, a);
		d.each([ "mouseWheelSpeed", "arrowButtonSpeed", "trackClickSpeed",
				"keyboardSpeed" ], function() {
			a[this] = a[this] || a.speed
		});
		return this.each(function() {
			var h = d(this), c = h.data("jsp");
			if (c) {
				c.reinitialise(a)
			} else {
				d("script", h).filter('[type="text/javascript"],:not([type])')
						.remove();
				c = new b(h, a);
				h.data("jsp", c)
			}
		})
	};
	d.fn.jScrollPane.defaults = {
		showArrows : false,
		maintainPosition : true,
		stickToBottom : false,
		stickToRight : false,
		clickOnTrack : true,
		autoReinitialise : false,
		autoReinitialiseDelay : 500,
		verticalDragMinHeight : 0,
		verticalDragMaxHeight : 99999,
		horizontalDragMinWidth : 0,
		horizontalDragMaxWidth : 99999,
		contentWidth : f,
		animateScroll : false,
		animateDuration : 300,
		animateEase : "linear",
		hijackInternalLinks : false,
		verticalGutter : 4,
		horizontalGutter : 4,
		mouseWheelSpeed : 0,
		arrowButtonSpeed : 0,
		arrowRepeatFreq : 50,
		arrowScrollOnHover : false,
		trackClickSpeed : 0,
		trackClickRepeatFreq : 70,
		verticalArrowPositions : "split",
		horizontalArrowPositions : "split",
		enableKeyboardNavigation : true,
		hideFocus : false,
		keyboardSpeed : 0,
		initialDelay : 300,
		speed : 30,
		scrollPagePercent : 0.8
	}
})(jQuery, this);
(function(Q, D, J) {
	var G = navigator.userAgent.match(/MSIE ([0-9]{1,}[\.0-9]{0,})/), M = !!G, F = M
			&& parseFloat(G[1]) < 7, I = navigator.userAgent
			.match(/iPad|iPhone|Android|IEMobile|BlackBerry/i), B = {}, V = [], P = {
		left : 37,
		up : 38,
		right : 39,
		down : 40,
		enter : 13,
		tab : 9,
		zero : 48,
		z : 90,
		last : 221
	}, L = [
			'<div class="dk_container" id="dk_container_{{ id }}" tabindex="{{ tabindex }}">',
			'<a class="dk_toggle">',
			'<span class="dk_label">{{ label }}</span>', "</a>",
			'<div class="dk_options">', '<ul class="dk_options_inner">',
			"</ul>", "</div>", "</div>" ].join(""), T = '<li class="{{ current }} {{ disabled }}"><a data-dk-dropdown-value="{{ value }}">{{ text }}</a></li>', N = {
		startSpeed : 400,
		theme : !1,
		changes : !1,
		syncReverse : !0,
		nativeMobile : !0
	}, H = null, R = null, A = function(f, b, h) {
		var d, a, c, g;
		d = f.attr("data-dk-dropdown-value");
		a = f.text();
		c = b.data("dropkick");
		g = c.$select;
		b.find(".dk_label").text(a);
		g.val(d).trigger("change");
		h = h || !1;
		c.settings.change && !h && !c.settings.syncReverse
				&& c.settings.change.call(g, d, a)
	}, K = function(a) {
		a.removeClass("dk_open");
		H = null
	}, O = function(e) {
		var c = e.find(".dk_toggle"), a = e.find(".dk_options").outerHeight(), b = Q(
				D).height()
				- c.outerHeight() - c.offset().top + Q(D).scrollTop(), d = c
				.offset().top
				- Q(D).scrollTop();
		return a < d ? a < b : !0
	}, k = function(f, b, h) {
		var d = f.find(".dk_options_inner"), a = b.prevAll("li").outerHeight()
				* b.prevAll("li").length, c = d.scrollTop(), g = d.height()
				+ d.scrollTop() - b.outerHeight();
		(h && h.type === "keydown" || a < c || a > g) && d.scrollTop(a)
	}, U = function(b, a) {
		var c = O(b);
		b.find(".dk_options").css({
			top : c ? b.find(".dk_toggle").outerHeight() - 1 : "",
			bottom : c ? "" : b.find(".dk_toggle").outerHeight() - 1
		});
		H = b.toggleClass("dk_open");
		k(b, b.find(".dk_option_current"), a)
	}, z = function(b, a, c) {
		a.find(".dk_option_current").removeClass("dk_option_current");
		b.addClass("dk_option_current");
		k(a, b, c)
	}, C = function(w, aa) {
		var X = w.keyCode, ac = aa.data("dropkick"), W = String.fromCharCode(X), Z = aa
				.find(".dk_options"), m = aa.hasClass("dk_open"), ah = Z
				.find("li"), ab = aa.find(".dk_option_current"), ag = ah
				.first(), ad = ah.last(), Y, af, ae, e, v, b, f;
		switch (X) {
		case P.enter:
			if (m) {
				if (!ab.hasClass("disabled")) {
					A(ab.find("a"), aa);
					K(aa)
				}
			} else {
				U(aa, w)
			}
			w.preventDefault();
			break;
		case P.tab:
			if (m) {
				A(ab.find("a"), aa);
				K(aa)
			}
			break;
		case P.up:
			af = ab.prev("li");
			m ? af.length ? z(af, aa, w) : z(ad, aa, w) : U(aa, w);
			w.preventDefault();
			break;
		case P.down:
			if (m) {
				Y = ab.next("li").first();
				Y.length ? z(Y, aa, w) : z(ag, aa, w)
			} else {
				U(aa, w)
			}
			w.preventDefault();
			break;
		default:
		}
		if (X >= P.zero && X <= P.z) {
			ae = (new Date).getTime();
			if (ac.finder === null) {
				ac.finder = W.toUpperCase();
				ac.timer = ae
			} else {
				if (ae > parseInt(ac.timer, 10) + 1000) {
					ac.finder = W.toUpperCase();
					ac.timer = ae
				} else {
					ac.finder = ac.finder + W.toUpperCase();
					ac.timer = ae
				}
			}
			e = ah.find("a");
			for (v = 0, b = e.length; v < b; v++) {
				f = Q(e[v]);
				if (f.html().toUpperCase().indexOf(ac.finder) === 0) {
					A(f, aa);
					z(f.parent(), aa, w);
					break
				}
			}
			aa.data("dropkick", ac)
		}
	}, j = function(a) {
		return Q.trim(a).length > 0 ? a : !1
	}, q = function(m, d) {
		var b = m.replace("{{ id }}", d.id).replace("{{ label }}", d.label)
				.replace("{{ tabindex }}", d.tabindex), e = [], p, c, l, h, g;
		if (d.options && d.options.length) {
			for (c = 0, l = d.options.length; c < l; c++) {
				h = Q(d.options[c]);
				c === 0 && h.attr("selected") !== undefined
						&& h.attr("disabled") !== undefined ? g = null : g = T
						.replace("{{ value }}", h.val()).replace(
								"{{ current }}",
								j(h.val()) === d.value ? "dk_option_current"
										: "").replace(
								"{{ disabled }}",
								h.attr("disabled") !== undefined ? "disabled"
										: "").replace("{{ text }}", h.html());
				e[e.length] = g
			}
		}
		p = Q(b);
		p.find(".dk_options_inner").html(e.join(""));
		return p
	};
	F
			|| (J.documentElement.className = J.documentElement.className
					+ " dk_fouc");
	B.init = function(a) {
		a = Q.extend({}, N, a);
		return this
				.each(function() {
					var e = Q(this), b = e.find(":selected").first(), g = e
							.find("option"), x = e.data("dropkick") || {}, w = e
							.attr("id")
							|| e.attr("name"), m = a.width || e.outerWidth(), o = e
							.attr("tabindex")
							|| "0", l = !1, d, t;
					if (x.id) {
						return e
					}
					x.settings = a;
					x.tabindex = o;
					x.id = w;
					x.$original = b;
					x.$select = e;
					x.value = j(e.val()) || j(b.attr("value"));
					x.label = b.text();
					x.options = g;
					l = q(L, x);
					l.find(".dk_toggle").css({
						width : m + "px"
					});
					e.before(l).appendTo(l);
					l = Q('div[id="dk_container_' + w + '"]').fadeIn(
							a.startSpeed);
					d = a.theme || "default";
					l.addClass("dk_theme_" + d);
					x.theme = d;
					x.$dk = l;
					e.data("dropkick", x);
					l.addClass(e.attr("class"));
					l.data("dropkick", x);
					V[V.length] = e;
					l.bind("focus.dropkick", function() {
						R = l.addClass("dk_focus")
					}).bind("blur.dropkick", function() {
						l.removeClass("dk_focus");
						R = null
					});
					I && x.settings.nativeMobile && l.addClass("dk_mobile");
					x.settings.syncReverse
							&& e.on("change",
									function(f) {
										var h = e.val(), c = Q(
												'a[data-dk-dropdown-value="'
														+ h + '"]', l), n = c
												.text();
										l.find(".dk_label").text(n);
										x.settings.change
												&& x.settings.change.call(e, h,
														n);
										z(c.parent(), l, f)
									});
					if (e.attr("form") || e.closest("form").length) {
						t = e.attr("form") ? Q("#"
								+ e.attr("form").replace(" ", ", #")) : e
								.closest("form");
						t.on("reset", function() {
							e.dropkick("reset")
						})
					}
				})
	};
	B.theme = function(b) {
		var d = Q(this).data("dropkick"), c = d.$dk, a = "dk_theme_" + d.theme;
		c.removeClass(a).addClass("dk_theme_" + b);
		d.theme = b
	};
	B.reset = function() {
		return this.each(function() {
			var a = Q(this).data("dropkick"), c = a.$dk, b = Q(
					'a[data-dk-dropdown-value="' + a.value + '"]', c);
			!a.$original.eq(0).prop("selected")
					&& a.$original.eq(0).prop("selected", !0);
			c.find(".dk_label").text(a.label);
			z(b.parent(), c)
		})
	};
	B.setValue = function(a) {
		var c = Q(this).data("dropkick").$dk, b = Q(
				'.dk_options a[data-dk-dropdown-value="' + a + '"]', c);
		if (b.length) {
			A(b, c);
			z(b.parent(), c)
		} else {
			console.warn("There is no option with this value in the <select>")
		}
	};
	B.refresh = function() {
		return this.each(function() {
			var a = Q(this).data("dropkick"), c = a.$select, b = a.$dk;
			a.settings.startSpeed = 0;
			c.removeData("dropkick").insertAfter(b);
			b.remove();
			c.dropkick(a.settings)
		})
	};
	Q.fn.dropkick = function(a) {
		if (!F) {
			if (B[a]) {
				return B[a].apply(this, Array.prototype.slice
						.call(arguments, 1))
			}
			if (typeof a == "object" || !a) {
				return B.init.apply(this, arguments)
			}
		}
	};
	Q(function() {
		Q(J).on(M ? "mousedown" : "click", ".dk_options a", function() {
			var b = Q(this), c = b.parents(".dk_container").first();
			if (!b.parent().hasClass("disabled")) {
				A(b, c);
				z(b.parent(), c);
				K(c)
			}
			return !1
		});
		Q(J).bind("keydown.dk_nav", function(c) {
			var b = null;
			H ? b = H : R && !H && (b = R);
			b && C(c, b)
		});
		Q(J).on("click", null, function(b) {
			if (H && Q(b.target).closest(".dk_container").length === 0) {
				K(H)
			} else {
				if (Q(b.target).is(".dk_toggle, .dk_label")) {
					var c = Q(b.target).parents(".dk_container").first();
					if (c.hasClass("dk_open")) {
						K(c)
					} else {
						H && K(H);
						U(c, b)
					}
					return !1
				}
			}
		});
		var a = "onwheel" in D ? "wheel"
				: "onmousewheel" in J ? "mousewheel"
						: "MouseScrollEvent" in D ? "DOMMouseScroll MozMousePixelScroll"
								: !1;
		a
				&& Q(J).on(
						a,
						".dk_options_inner",
						function(c) {
							var b = c.originalEvent.wheelDelta
									|| -c.originalEvent.deltaY
									|| -c.originalEvent.detail;
							if (M) {
								this.scrollTop -= Math.round(b / 10);
								return !1
							}
							return b > 0
									&& this.scrollTop <= 0
									|| b < 0
									&& this.scrollTop >= this.scrollHeight
											- this.offsetHeight ? !1 : !0
						})
	})
})(jQuery, window, document);
(function(b) {
	b.fn.addBack = b.fn.addBack || b.fn.andSelf;
	b.fn
			.extend({
				actual : function(v, a) {
					if (!this[v]) {
						throw '$.actual => The jQuery method "' + v
								+ '" you called does not exist'
					}
					var r = {
						absolute : false,
						clone : false,
						includeMargin : false
					};
					var o = b.extend(r, a);
					var s = this.eq(0);
					var p, n;
					if (o.clone === true) {
						p = function() {
							var c = "position: absolute !important; top: -1000 !important; ";
							s = s.clone().attr("style", c).appendTo("body")
						};
						n = function() {
							s.remove()
						}
					} else {
						var q = [];
						var t = "";
						var u;
						p = function() {
							u = s.parents().addBack().filter(":hidden");
							t += "visibility: hidden !important; display: block !important; ";
							if (o.absolute === true) {
								t += "position: absolute !important; "
							}
							u.each(function() {
								var c = b(this);
								q.push(c.attr("style"));
								c.attr("style", t)
							})
						};
						n = function() {
							u.each(function(c) {
								var d = b(this);
								var e = q[c];
								if (e === undefined) {
									d.removeAttr("style")
								} else {
									d.attr("style", e)
								}
							})
						}
					}
					p();
					var m = /(outer)/.test(v) ? s[v](o.includeMargin) : s[v]();
					n();
					return m
				}
			})
})(jQuery);*/